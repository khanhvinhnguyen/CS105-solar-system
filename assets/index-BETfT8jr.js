function oO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sO={exports:{}},OS={},aO={exports:{}},Jn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),f8=Symbol.for("react.portal"),d8=Symbol.for("react.fragment"),h8=Symbol.for("react.strict_mode"),p8=Symbol.for("react.profiler"),m8=Symbol.for("react.provider"),g8=Symbol.for("react.context"),v8=Symbol.for("react.forward_ref"),y8=Symbol.for("react.suspense"),x8=Symbol.for("react.memo"),_8=Symbol.for("react.lazy"),cP=Symbol.iterator;function S8(n){return n===null||typeof n!="object"?null:(n=cP&&n[cP]||n["@@iterator"],typeof n=="function"?n:null)}var lO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cO=Object.assign,uO={};function Cm(n,e,t){this.props=n,this.context=e,this.refs=uO,this.updater=t||lO}Cm.prototype.isReactComponent={};Cm.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cm.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fO(){}fO.prototype=Cm.prototype;function rb(n,e,t){this.props=n,this.context=e,this.refs=uO,this.updater=t||lO}var ib=rb.prototype=new fO;ib.constructor=rb;cO(ib,Cm.prototype);ib.isPureReactComponent=!0;var uP=Array.isArray,dO=Object.prototype.hasOwnProperty,ob={current:null},hO={key:!0,ref:!0,__self:!0,__source:!0};function pO(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)dO.call(e,r)&&!hO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:c0,type:n,key:o,ref:s,props:i,_owner:ob.current}}function A8(n,e){return{$$typeof:c0,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function sb(n){return typeof n=="object"&&n!==null&&n.$$typeof===c0}function M8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var fP=/\/+/g;function EA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?M8(""+n.key):e.toString(36)}function c_(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case c0:case f8:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+EA(s,0):r,uP(i)?(t="",n!=null&&(t=n.replace(fP,"$&/")+"/"),c_(i,e,t,"",function(c){return c})):i!=null&&(sb(i)&&(i=A8(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fP,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",uP(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+EA(o,a);s+=c_(o,e,t,l,i)}else if(l=S8(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+EA(o,a++),s+=c_(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Dy(n,e,t){if(n==null)return n;var r=[],i=0;return c_(n,r,"","",function(o){return e.call(t,o,i++)}),r}function w8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rs={current:null},u_={transition:null},C8={ReactCurrentDispatcher:rs,ReactCurrentBatchConfig:u_,ReactCurrentOwner:ob};function mO(){throw Error("act(...) is not supported in production builds of React.")}Jn.Children={map:Dy,forEach:function(n,e,t){Dy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Dy(n,function(){e++}),e},toArray:function(n){return Dy(n,function(e){return e})||[]},only:function(n){if(!sb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Jn.Component=Cm;Jn.Fragment=d8;Jn.Profiler=p8;Jn.PureComponent=rb;Jn.StrictMode=h8;Jn.Suspense=y8;Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C8;Jn.act=mO;Jn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=cO({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ob.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)dO.call(e,l)&&!hO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:c0,type:n.type,key:i,ref:o,props:r,_owner:s}};Jn.createContext=function(n){return n={$$typeof:g8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:m8,_context:n},n.Consumer=n};Jn.createElement=pO;Jn.createFactory=function(n){var e=pO.bind(null,n);return e.type=n,e};Jn.createRef=function(){return{current:null}};Jn.forwardRef=function(n){return{$$typeof:v8,render:n}};Jn.isValidElement=sb;Jn.lazy=function(n){return{$$typeof:_8,_payload:{_status:-1,_result:n},_init:w8}};Jn.memo=function(n,e){return{$$typeof:x8,type:n,compare:e===void 0?null:e}};Jn.startTransition=function(n){var e=u_.transition;u_.transition={};try{n()}finally{u_.transition=e}};Jn.unstable_act=mO;Jn.useCallback=function(n,e){return rs.current.useCallback(n,e)};Jn.useContext=function(n){return rs.current.useContext(n)};Jn.useDebugValue=function(){};Jn.useDeferredValue=function(n){return rs.current.useDeferredValue(n)};Jn.useEffect=function(n,e){return rs.current.useEffect(n,e)};Jn.useId=function(){return rs.current.useId()};Jn.useImperativeHandle=function(n,e,t){return rs.current.useImperativeHandle(n,e,t)};Jn.useInsertionEffect=function(n,e){return rs.current.useInsertionEffect(n,e)};Jn.useLayoutEffect=function(n,e){return rs.current.useLayoutEffect(n,e)};Jn.useMemo=function(n,e){return rs.current.useMemo(n,e)};Jn.useReducer=function(n,e,t){return rs.current.useReducer(n,e,t)};Jn.useRef=function(n){return rs.current.useRef(n)};Jn.useState=function(n){return rs.current.useState(n)};Jn.useSyncExternalStore=function(n,e,t){return rs.current.useSyncExternalStore(n,e,t)};Jn.useTransition=function(){return rs.current.useTransition()};Jn.version="18.3.1";aO.exports=Jn;var R=aO.exports;const Xt=uf(R),DS=oO({__proto__:null,default:Xt},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E8=R,b8=Symbol.for("react.element"),T8=Symbol.for("react.fragment"),R8=Object.prototype.hasOwnProperty,P8=E8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I8={key:!0,ref:!0,__self:!0,__source:!0};function gO(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)R8.call(e,r)&&!I8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b8,type:n,key:o,ref:s,props:i,_owner:P8.current}}OS.Fragment=T8;OS.jsx=gO;OS.jsxs=gO;sO.exports=OS;var Le=sO.exports,Pw={},vO={exports:{}},fa={},yO={exports:{}},xO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,j){var J=N.length;N.push(j);e:for(;0<J;){var re=J-1>>>1,pe=N[re];if(0<i(pe,j))N[re]=j,N[J]=pe,J=re;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],J=N.pop();if(J!==j){N[0]=J;e:for(var re=0,pe=N.length,Me=pe>>>1;re<Me;){var de=2*(re+1)-1,Ce=N[de],De=de+1,Pe=N[De];if(0>i(Ce,J))De<pe&&0>i(Pe,Ce)?(N[re]=Pe,N[De]=J,re=De):(N[re]=Ce,N[de]=J,re=de);else if(De<pe&&0>i(Pe,J))N[re]=Pe,N[De]=J,re=De;else break e}}return j}function i(N,j){var J=N.sortIndex-j.sortIndex;return J!==0?J:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,p=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(N){if(S=!1,w(N),!x)if(t(l)!==null)x=!0,K(I);else{var j=t(c);j!==null&&X(E,j.startTime-N)}}function I(N,j){x=!1,S&&(S=!1,y(U),U=-1),v=!0;var J=m;try{for(w(j),p=t(l);p!==null&&(!(p.expirationTime>j)||N&&!G());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var pe=re(p.expirationTime<=j);j=n.unstable_now(),typeof pe=="function"?p.callback=pe:p===t(l)&&r(l),w(j)}else r(l);p=t(l)}if(p!==null)var Me=!0;else{var de=t(c);de!==null&&X(E,de.startTime-j),Me=!1}return Me}finally{p=null,m=J,v=!1}}var P=!1,L=null,U=-1,F=5,O=-1;function G(){return!(n.unstable_now()-O<F)}function te(){if(L!==null){var N=n.unstable_now();O=N;var j=!0;try{j=L(!0,N)}finally{j?Z():(P=!1,L=null)}}else P=!1}var Z;if(typeof A=="function")Z=function(){A(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=te,Z=function(){se.postMessage(null)}}else Z=function(){_(te,0)};function K(N){L=N,P||(P=!0,Z())}function X(N,j){U=_(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,K(I))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var J=m;m=j;try{return N()}finally{m=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=m;m=N;try{return j()}finally{m=J}},n.unstable_scheduleCallback=function(N,j,J){var re=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,N){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=J+pe,N={id:f++,callback:j,priorityLevel:N,startTime:J,expirationTime:pe,sortIndex:-1},J>re?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(S?(y(U),U=-1):S=!0,X(E,J-re))):(N.sortIndex=pe,e(l,N),x||v||(x=!0,K(I))),N},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(N){var j=m;return function(){var J=m;m=j;try{return N.apply(this,arguments)}finally{m=J}}}})(xO);yO.exports=xO;var B8=yO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8=R,aa=B8;function gt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _O=new Set,Sv={};function ih(n,e){rm(n,e),rm(n+"Capture",e)}function rm(n,e){for(Sv[n]=e,n=0;n<e.length;n++)_O.add(e[n])}var Gc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iw=Object.prototype.hasOwnProperty,O8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dP={},hP={};function D8(n){return Iw.call(hP,n)?!0:Iw.call(dP,n)?!1:O8.test(n)?hP[n]=!0:(dP[n]=!0,!1)}function F8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N8(n,e,t,r){if(e===null||typeof e>"u"||F8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function is(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xo[n]=new is(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xo[e]=new is(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xo[n]=new is(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xo[n]=new is(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xo[n]=new is(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xo[n]=new is(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xo[n]=new is(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xo[n]=new is(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xo[n]=new is(n,5,!1,n.toLowerCase(),null,!1,!1)});var ab=/[\-:]([a-z])/g;function lb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ab,lb);xo[e]=new is(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ab,lb);xo[e]=new is(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ab,lb);xo[e]=new is(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xo[n]=new is(n,1,!1,n.toLowerCase(),null,!1,!1)});xo.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xo[n]=new is(n,1,!1,n.toLowerCase(),null,!0,!0)});function cb(n,e,t,r){var i=xo.hasOwnProperty(e)?xo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N8(e,t,i,r)&&(t=null),r||i===null?D8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Jc=L8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fy=Symbol.for("react.element"),wp=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),SO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),fb=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Ow=Symbol.for("react.suspense_list"),db=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),MO=Symbol.for("react.offscreen"),pP=Symbol.iterator;function Cg(n){return n===null||typeof n!="object"?null:(n=pP&&n[pP]||n["@@iterator"],typeof n=="function"?n:null)}var ii=Object.assign,bA;function Qg(n){if(bA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bA=e&&e[1]||""}return`
`+bA+n}var TA=!1;function RA(n,e){if(!n||TA)return"";TA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{TA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qg(n):""}function U8(n){switch(n.tag){case 5:return Qg(n.type);case 16:return Qg("Lazy");case 13:return Qg("Suspense");case 19:return Qg("SuspenseList");case 0:case 2:case 15:return n=RA(n.type,!1),n;case 11:return n=RA(n.type.render,!1),n;case 1:return n=RA(n.type,!0),n;default:return""}}function Dw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Cp:return"Fragment";case wp:return"Portal";case Bw:return"Profiler";case ub:return"StrictMode";case Lw:return"Suspense";case Ow:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case AO:return(n.displayName||"Context")+".Consumer";case SO:return(n._context.displayName||"Context")+".Provider";case fb:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case db:return e=n.displayName||null,e!==null?e:Dw(n.type)||"Memo";case Nu:e=n._payload,n=n._init;try{return Dw(n(e))}catch{}}return null}function k8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dw(e);case 8:return e===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z8(n){var e=wO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ny(n){n._valueTracker||(n._valueTracker=z8(n))}function CO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=wO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function U_(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Fw(n,e){var t=e.checked;return ii({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=rf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EO(n,e){e=e.checked,e!=null&&cb(n,"checked",e,!1)}function Nw(n,e){EO(n,e);var t=rf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Uw(n,e.type,rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Uw(n,e,t){(e!=="number"||U_(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Zg=Array.isArray;function $p(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+rf(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function kw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(gt(91));return ii({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function vP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(gt(92));if(Zg(t)){if(1<t.length)throw Error(gt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:rf(t)}}function bO(n,e){var t=rf(e.value),r=rf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function yP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function TO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?TO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Uy,RO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Uy=Uy||document.createElement("div"),Uy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Av(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ov={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H8=["Webkit","ms","Moz","O"];Object.keys(ov).forEach(function(n){H8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ov[e]=ov[n]})});function PO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ov.hasOwnProperty(n)&&ov[n]?(""+e).trim():e+"px"}function IO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=PO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var G8=ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(n,e){if(e){if(G8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(gt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(gt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(gt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(gt(62))}}function Gw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vw=null;function hb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ww=null,jp=null,Xp=null;function xP(n){if(n=d0(n)){if(typeof Ww!="function")throw Error(gt(280));var e=n.stateNode;e&&(e=zS(e),Ww(n.stateNode,n.type,e))}}function BO(n){jp?Xp?Xp.push(n):Xp=[n]:jp=n}function LO(){if(jp){var n=jp,e=Xp;if(Xp=jp=null,xP(n),e)for(n=0;n<e.length;n++)xP(e[n])}}function OO(n,e){return n(e)}function DO(){}var PA=!1;function FO(n,e,t){if(PA)return n(e,t);PA=!0;try{return OO(n,e,t)}finally{PA=!1,(jp!==null||Xp!==null)&&(DO(),LO())}}function Mv(n,e){var t=n.stateNode;if(t===null)return null;var r=zS(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(gt(231,e,typeof t));return t}var $w=!1;if(Gc)try{var Eg={};Object.defineProperty(Eg,"passive",{get:function(){$w=!0}}),window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,Eg)}catch{$w=!1}function V8(n,e,t,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var sv=!1,k_=null,z_=!1,jw=null,W8={onError:function(n){sv=!0,k_=n}};function $8(n,e,t,r,i,o,s,a,l){sv=!1,k_=null,V8.apply(W8,arguments)}function j8(n,e,t,r,i,o,s,a,l){if($8.apply(this,arguments),sv){if(sv){var c=k_;sv=!1,k_=null}else throw Error(gt(198));z_||(z_=!0,jw=c)}}function oh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function NO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _P(n){if(oh(n)!==n)throw Error(gt(188))}function X8(n){var e=n.alternate;if(!e){if(e=oh(n),e===null)throw Error(gt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return _P(i),n;if(o===r)return _P(i),e;o=o.sibling}throw Error(gt(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(gt(189))}}if(t.alternate!==r)throw Error(gt(190))}if(t.tag!==3)throw Error(gt(188));return t.stateNode.current===t?n:e}function UO(n){return n=X8(n),n!==null?kO(n):null}function kO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kO(n);if(e!==null)return e;n=n.sibling}return null}var zO=aa.unstable_scheduleCallback,SP=aa.unstable_cancelCallback,K8=aa.unstable_shouldYield,J8=aa.unstable_requestPaint,Ci=aa.unstable_now,Y8=aa.unstable_getCurrentPriorityLevel,pb=aa.unstable_ImmediatePriority,HO=aa.unstable_UserBlockingPriority,H_=aa.unstable_NormalPriority,q8=aa.unstable_LowPriority,GO=aa.unstable_IdlePriority,FS=null,jl=null;function Q8(n){if(jl&&typeof jl.onCommitFiberRoot=="function")try{jl.onCommitFiberRoot(FS,n,void 0,(n.current.flags&128)===128)}catch{}}var pl=Math.clz32?Math.clz32:t9,Z8=Math.log,e9=Math.LN2;function t9(n){return n>>>=0,n===0?32:31-(Z8(n)/e9|0)|0}var ky=64,zy=4194304;function ev(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function G_(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=ev(a):(o&=s,o!==0&&(r=ev(o)))}else s=t&~i,s!==0?r=ev(s):o!==0&&(r=ev(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-pl(e),i=1<<t,r|=n[t],e&=~i;return r}function n9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-pl(o),a=1<<s,l=i[s];l===-1?(!(a&t)||a&r)&&(i[s]=n9(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function Xw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function VO(){var n=ky;return ky<<=1,!(ky&4194240)&&(ky=64),n}function IA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function u0(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-pl(e),n[e]=t}function i9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-pl(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function mb(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-pl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var yr=0;function WO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $O,gb,jO,XO,KO,Kw=!1,Hy=[],Ku=null,Ju=null,Yu=null,wv=new Map,Cv=new Map,ku=[],o9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AP(n,e){switch(n){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":wv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cv.delete(e.pointerId)}}function bg(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=d0(e),e!==null&&gb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function s9(n,e,t,r,i){switch(e){case"focusin":return Ku=bg(Ku,n,e,t,r,i),!0;case"dragenter":return Ju=bg(Ju,n,e,t,r,i),!0;case"mouseover":return Yu=bg(Yu,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return wv.set(o,bg(wv.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cv.set(o,bg(Cv.get(o)||null,n,e,t,r,i)),!0}return!1}function JO(n){var e=vd(n.target);if(e!==null){var t=oh(e);if(t!==null){if(e=t.tag,e===13){if(e=NO(t),e!==null){n.blockedOn=e,KO(n.priority,function(){jO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function f_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Jw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Vw=r,t.target.dispatchEvent(r),Vw=null}else return e=d0(t),e!==null&&gb(e),n.blockedOn=t,!1;e.shift()}return!0}function MP(n,e,t){f_(n)&&t.delete(e)}function a9(){Kw=!1,Ku!==null&&f_(Ku)&&(Ku=null),Ju!==null&&f_(Ju)&&(Ju=null),Yu!==null&&f_(Yu)&&(Yu=null),wv.forEach(MP),Cv.forEach(MP)}function Tg(n,e){n.blockedOn===e&&(n.blockedOn=null,Kw||(Kw=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,a9)))}function Ev(n){function e(i){return Tg(i,n)}if(0<Hy.length){Tg(Hy[0],n);for(var t=1;t<Hy.length;t++){var r=Hy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ku!==null&&Tg(Ku,n),Ju!==null&&Tg(Ju,n),Yu!==null&&Tg(Yu,n),wv.forEach(e),Cv.forEach(e),t=0;t<ku.length;t++)r=ku[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ku.length&&(t=ku[0],t.blockedOn===null);)JO(t),t.blockedOn===null&&ku.shift()}var Kp=Jc.ReactCurrentBatchConfig,V_=!0;function l9(n,e,t,r){var i=yr,o=Kp.transition;Kp.transition=null;try{yr=1,vb(n,e,t,r)}finally{yr=i,Kp.transition=o}}function c9(n,e,t,r){var i=yr,o=Kp.transition;Kp.transition=null;try{yr=4,vb(n,e,t,r)}finally{yr=i,Kp.transition=o}}function vb(n,e,t,r){if(V_){var i=Jw(n,e,t,r);if(i===null)HA(n,e,r,W_,t),AP(n,r);else if(s9(i,n,e,t,r))r.stopPropagation();else if(AP(n,r),e&4&&-1<o9.indexOf(n)){for(;i!==null;){var o=d0(i);if(o!==null&&$O(o),o=Jw(n,e,t,r),o===null&&HA(n,e,r,W_,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else HA(n,e,r,null,t)}}var W_=null;function Jw(n,e,t,r){if(W_=null,n=hb(r),n=vd(n),n!==null)if(e=oh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=NO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return W_=n,null}function YO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y8()){case pb:return 1;case HO:return 4;case H_:case q8:return 16;case GO:return 536870912;default:return 16}default:return 16}}var Vu=null,yb=null,d_=null;function qO(){if(d_)return d_;var n,e=yb,t=e.length,r,i="value"in Vu?Vu.value:Vu.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return d_=i.slice(n,1<r?1-r:void 0)}function h_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gy(){return!0}function wP(){return!1}function da(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gy:wP,this.isPropagationStopped=wP,this}return ii(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gy)},persist:function(){},isPersistent:Gy}),e}var Em={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xb=da(Em),f0=ii({},Em,{view:0,detail:0}),u9=da(f0),BA,LA,Rg,NS=ii({},f0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_b,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rg&&(Rg&&n.type==="mousemove"?(BA=n.screenX-Rg.screenX,LA=n.screenY-Rg.screenY):LA=BA=0,Rg=n),BA)},movementY:function(n){return"movementY"in n?n.movementY:LA}}),CP=da(NS),f9=ii({},NS,{dataTransfer:0}),d9=da(f9),h9=ii({},f0,{relatedTarget:0}),OA=da(h9),p9=ii({},Em,{animationName:0,elapsedTime:0,pseudoElement:0}),m9=da(p9),g9=ii({},Em,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),v9=da(g9),y9=ii({},Em,{data:0}),EP=da(y9),x9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A9(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=S9[n])?!!e[n]:!1}function _b(){return A9}var M9=ii({},f0,{key:function(n){if(n.key){var e=x9[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=h_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_9[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_b,charCode:function(n){return n.type==="keypress"?h_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?h_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),w9=da(M9),C9=ii({},NS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bP=da(C9),E9=ii({},f0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_b}),b9=da(E9),T9=ii({},Em,{propertyName:0,elapsedTime:0,pseudoElement:0}),R9=da(T9),P9=ii({},NS,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),I9=da(P9),B9=[9,13,27,32],Sb=Gc&&"CompositionEvent"in window,av=null;Gc&&"documentMode"in document&&(av=document.documentMode);var L9=Gc&&"TextEvent"in window&&!av,QO=Gc&&(!Sb||av&&8<av&&11>=av),TP=" ",RP=!1;function ZO(n,e){switch(n){case"keyup":return B9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eD(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ep=!1;function O9(n,e){switch(n){case"compositionend":return eD(e);case"keypress":return e.which!==32?null:(RP=!0,TP);case"textInput":return n=e.data,n===TP&&RP?null:n;default:return null}}function D9(n,e){if(Ep)return n==="compositionend"||!Sb&&ZO(n,e)?(n=qO(),d_=yb=Vu=null,Ep=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QO&&e.locale!=="ko"?null:e.data;default:return null}}var F9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!F9[n.type]:e==="textarea"}function tD(n,e,t,r){BO(r),e=$_(e,"onChange"),0<e.length&&(t=new xb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var lv=null,bv=null;function N9(n){dD(n,0)}function US(n){var e=Rp(n);if(CO(e))return n}function U9(n,e){if(n==="change")return e}var nD=!1;if(Gc){var DA;if(Gc){var FA="oninput"in document;if(!FA){var IP=document.createElement("div");IP.setAttribute("oninput","return;"),FA=typeof IP.oninput=="function"}DA=FA}else DA=!1;nD=DA&&(!document.documentMode||9<document.documentMode)}function BP(){lv&&(lv.detachEvent("onpropertychange",rD),bv=lv=null)}function rD(n){if(n.propertyName==="value"&&US(bv)){var e=[];tD(e,bv,n,hb(n)),FO(N9,e)}}function k9(n,e,t){n==="focusin"?(BP(),lv=e,bv=t,lv.attachEvent("onpropertychange",rD)):n==="focusout"&&BP()}function z9(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return US(bv)}function H9(n,e){if(n==="click")return US(e)}function G9(n,e){if(n==="input"||n==="change")return US(e)}function V9(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var yl=typeof Object.is=="function"?Object.is:V9;function Tv(n,e){if(yl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Iw.call(e,i)||!yl(n[i],e[i]))return!1}return!0}function LP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function OP(n,e){var t=LP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=LP(t)}}function iD(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?iD(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oD(){for(var n=window,e=U_();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=U_(n.document)}return e}function Ab(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function W9(n){var e=oD(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&iD(t.ownerDocument.documentElement,t)){if(r!==null&&Ab(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=OP(t,o);var s=OP(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $9=Gc&&"documentMode"in document&&11>=document.documentMode,bp=null,Yw=null,cv=null,qw=!1;function DP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;qw||bp==null||bp!==U_(r)||(r=bp,"selectionStart"in r&&Ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cv&&Tv(cv,r)||(cv=r,r=$_(Yw,"onSelect"),0<r.length&&(e=new xb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=bp)))}function Vy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Tp={animationend:Vy("Animation","AnimationEnd"),animationiteration:Vy("Animation","AnimationIteration"),animationstart:Vy("Animation","AnimationStart"),transitionend:Vy("Transition","TransitionEnd")},NA={},sD={};Gc&&(sD=document.createElement("div").style,"AnimationEvent"in window||(delete Tp.animationend.animation,delete Tp.animationiteration.animation,delete Tp.animationstart.animation),"TransitionEvent"in window||delete Tp.transitionend.transition);function kS(n){if(NA[n])return NA[n];if(!Tp[n])return n;var e=Tp[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in sD)return NA[n]=e[t];return n}var aD=kS("animationend"),lD=kS("animationiteration"),cD=kS("animationstart"),uD=kS("transitionend"),fD=new Map,FP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(n,e){fD.set(n,e),ih(e,[n])}for(var UA=0;UA<FP.length;UA++){var kA=FP[UA],j9=kA.toLowerCase(),X9=kA[0].toUpperCase()+kA.slice(1);ff(j9,"on"+X9)}ff(aD,"onAnimationEnd");ff(lD,"onAnimationIteration");ff(cD,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(uD,"onTransitionEnd");rm("onMouseEnter",["mouseout","mouseover"]);rm("onMouseLeave",["mouseout","mouseover"]);rm("onPointerEnter",["pointerout","pointerover"]);rm("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K9=new Set("cancel close invalid load scroll toggle".split(" ").concat(tv));function NP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,j8(r,e,void 0,n),n.currentTarget=null}function dD(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;NP(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;NP(i,a,c),o=l}}}if(z_)throw n=jw,z_=!1,jw=null,n}function Hr(n,e){var t=e[nC];t===void 0&&(t=e[nC]=new Set);var r=n+"__bubble";t.has(r)||(hD(e,n,2,!1),t.add(r))}function zA(n,e,t){var r=0;e&&(r|=4),hD(t,n,r,e)}var Wy="_reactListening"+Math.random().toString(36).slice(2);function Rv(n){if(!n[Wy]){n[Wy]=!0,_O.forEach(function(t){t!=="selectionchange"&&(K9.has(t)||zA(t,!1,n),zA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Wy]||(e[Wy]=!0,zA("selectionchange",!1,e))}}function hD(n,e,t,r){switch(YO(e)){case 1:var i=l9;break;case 4:i=c9;break;default:i=vb}t=i.bind(null,e,t,n),i=void 0,!$w||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function HA(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vd(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}FO(function(){var c=o,f=hb(t),p=[];e:{var m=fD.get(n);if(m!==void 0){var v=xb,x=n;switch(n){case"keypress":if(h_(t)===0)break e;case"keydown":case"keyup":v=w9;break;case"focusin":x="focus",v=OA;break;case"focusout":x="blur",v=OA;break;case"beforeblur":case"afterblur":v=OA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=CP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=d9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=b9;break;case aD:case lD:case cD:v=m9;break;case uD:v=R9;break;case"scroll":v=u9;break;case"wheel":v=I9;break;case"copy":case"cut":case"paste":v=v9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bP}var S=(e&4)!==0,_=!S&&n==="scroll",y=S?m!==null?m+"Capture":null:m;S=[];for(var A=c,w;A!==null;){w=A;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Mv(A,y),E!=null&&S.push(Pv(A,E,w)))),_)break;A=A.return}0<S.length&&(m=new v(m,x,null,t,f),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&t!==Vw&&(x=t.relatedTarget||t.fromElement)&&(vd(x)||x[Vc]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=t.relatedTarget||t.toElement,v=c,x=x?vd(x):null,x!==null&&(_=oh(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(S=CP,E="onMouseLeave",y="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(S=bP,E="onPointerLeave",y="onPointerEnter",A="pointer"),_=v==null?m:Rp(v),w=x==null?m:Rp(x),m=new S(E,A+"leave",v,t,f),m.target=_,m.relatedTarget=w,E=null,vd(f)===c&&(S=new S(y,A+"enter",x,t,f),S.target=w,S.relatedTarget=_,E=S),_=E,v&&x)t:{for(S=v,y=x,A=0,w=S;w;w=Wh(w))A++;for(w=0,E=y;E;E=Wh(E))w++;for(;0<A-w;)S=Wh(S),A--;for(;0<w-A;)y=Wh(y),w--;for(;A--;){if(S===y||y!==null&&S===y.alternate)break t;S=Wh(S),y=Wh(y)}S=null}else S=null;v!==null&&UP(p,m,v,S,!1),x!==null&&_!==null&&UP(p,_,x,S,!0)}}e:{if(m=c?Rp(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var I=U9;else if(PP(m))if(nD)I=G9;else{I=z9;var P=k9}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=H9);if(I&&(I=I(n,c))){tD(p,I,t,f);break e}P&&P(n,m,c),n==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Uw(m,"number",m.value)}switch(P=c?Rp(c):window,n){case"focusin":(PP(P)||P.contentEditable==="true")&&(bp=P,Yw=c,cv=null);break;case"focusout":cv=Yw=bp=null;break;case"mousedown":qw=!0;break;case"contextmenu":case"mouseup":case"dragend":qw=!1,DP(p,t,f);break;case"selectionchange":if($9)break;case"keydown":case"keyup":DP(p,t,f)}var L;if(Sb)e:{switch(n){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ep?ZO(n,t)&&(U="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(U="onCompositionStart");U&&(QO&&t.locale!=="ko"&&(Ep||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ep&&(L=qO()):(Vu=f,yb="value"in Vu?Vu.value:Vu.textContent,Ep=!0)),P=$_(c,U),0<P.length&&(U=new EP(U,n,null,t,f),p.push({event:U,listeners:P}),L?U.data=L:(L=eD(t),L!==null&&(U.data=L)))),(L=L9?O9(n,t):D9(n,t))&&(c=$_(c,"onBeforeInput"),0<c.length&&(f=new EP("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:c}),f.data=L))}dD(p,e)})}function Pv(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $_(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mv(n,t),o!=null&&r.unshift(Pv(n,o,i)),o=Mv(n,e),o!=null&&r.push(Pv(n,o,i))),n=n.return}return r}function Wh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function UP(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mv(t,o),l!=null&&s.unshift(Pv(t,l,a))):i||(l=Mv(t,o),l!=null&&s.push(Pv(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var J9=/\r\n?/g,Y9=/\u0000|\uFFFD/g;function kP(n){return(typeof n=="string"?n:""+n).replace(J9,`
`).replace(Y9,"")}function $y(n,e,t){if(e=kP(e),kP(n)!==e&&t)throw Error(gt(425))}function j_(){}var Qw=null,Zw=null;function eC(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tC=typeof setTimeout=="function"?setTimeout:void 0,q9=typeof clearTimeout=="function"?clearTimeout:void 0,zP=typeof Promise=="function"?Promise:void 0,Q9=typeof queueMicrotask=="function"?queueMicrotask:typeof zP<"u"?function(n){return zP.resolve(null).then(n).catch(Z9)}:tC;function Z9(n){setTimeout(function(){throw n})}function GA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ev(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ev(e)}function qu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function HP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bm=Math.random().toString(36).slice(2),Gl="__reactFiber$"+bm,Iv="__reactProps$"+bm,Vc="__reactContainer$"+bm,nC="__reactEvents$"+bm,eV="__reactListeners$"+bm,tV="__reactHandles$"+bm;function vd(n){var e=n[Gl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Vc]||t[Gl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=HP(n);n!==null;){if(t=n[Gl])return t;n=HP(n)}return e}n=t,t=n.parentNode}return null}function d0(n){return n=n[Gl]||n[Vc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rp(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(gt(33))}function zS(n){return n[Iv]||null}var rC=[],Pp=-1;function df(n){return{current:n}}function Vr(n){0>Pp||(n.current=rC[Pp],rC[Pp]=null,Pp--)}function Nr(n,e){Pp++,rC[Pp]=n.current,n.current=e}var of={},Bo=df(of),Es=df(!1),Hd=of;function im(n,e){var t=n.type.contextTypes;if(!t)return of;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function bs(n){return n=n.childContextTypes,n!=null}function X_(){Vr(Es),Vr(Bo)}function GP(n,e,t){if(Bo.current!==of)throw Error(gt(168));Nr(Bo,e),Nr(Es,t)}function pD(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(gt(108,k8(n)||"Unknown",i));return ii({},t,r)}function K_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||of,Hd=Bo.current,Nr(Bo,n),Nr(Es,Es.current),!0}function VP(n,e,t){var r=n.stateNode;if(!r)throw Error(gt(169));t?(n=pD(n,e,Hd),r.__reactInternalMemoizedMergedChildContext=n,Vr(Es),Vr(Bo),Nr(Bo,n)):Vr(Es),Nr(Es,t)}var bc=null,HS=!1,VA=!1;function mD(n){bc===null?bc=[n]:bc.push(n)}function nV(n){HS=!0,mD(n)}function hf(){if(!VA&&bc!==null){VA=!0;var n=0,e=yr;try{var t=bc;for(yr=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}bc=null,HS=!1}catch(i){throw bc!==null&&(bc=bc.slice(n+1)),zO(pb,hf),i}finally{yr=e,VA=!1}}return null}var Ip=[],Bp=0,J_=null,Y_=0,Ba=[],La=0,Gd=null,Lc=1,Oc="";function ld(n,e){Ip[Bp++]=Y_,Ip[Bp++]=J_,J_=n,Y_=e}function gD(n,e,t){Ba[La++]=Lc,Ba[La++]=Oc,Ba[La++]=Gd,Gd=n;var r=Lc;n=Oc;var i=32-pl(r)-1;r&=~(1<<i),t+=1;var o=32-pl(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Lc=1<<32-pl(e)+i|t<<i|r,Oc=o+n}else Lc=1<<o|t<<i|r,Oc=n}function Mb(n){n.return!==null&&(ld(n,1),gD(n,1,0))}function wb(n){for(;n===J_;)J_=Ip[--Bp],Ip[Bp]=null,Y_=Ip[--Bp],Ip[Bp]=null;for(;n===Gd;)Gd=Ba[--La],Ba[La]=null,Oc=Ba[--La],Ba[La]=null,Lc=Ba[--La],Ba[La]=null}var oa=null,ea=null,Xr=!1,dl=null;function vD(n,e){var t=Oa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function WP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,oa=n,ea=qu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,oa=n,ea=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Gd!==null?{id:Lc,overflow:Oc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Oa(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,oa=n,ea=null,!0):!1;default:return!1}}function iC(n){return(n.mode&1)!==0&&(n.flags&128)===0}function oC(n){if(Xr){var e=ea;if(e){var t=e;if(!WP(n,e)){if(iC(n))throw Error(gt(418));e=qu(t.nextSibling);var r=oa;e&&WP(n,e)?vD(r,t):(n.flags=n.flags&-4097|2,Xr=!1,oa=n)}}else{if(iC(n))throw Error(gt(418));n.flags=n.flags&-4097|2,Xr=!1,oa=n}}}function $P(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;oa=n}function jy(n){if(n!==oa)return!1;if(!Xr)return $P(n),Xr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!eC(n.type,n.memoizedProps)),e&&(e=ea)){if(iC(n))throw yD(),Error(gt(418));for(;e;)vD(n,e),e=qu(e.nextSibling)}if($P(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(gt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ea=qu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ea=null}}else ea=oa?qu(n.stateNode.nextSibling):null;return!0}function yD(){for(var n=ea;n;)n=qu(n.nextSibling)}function om(){ea=oa=null,Xr=!1}function Cb(n){dl===null?dl=[n]:dl.push(n)}var rV=Jc.ReactCurrentBatchConfig;function Pg(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(gt(309));var r=t.stateNode}if(!r)throw Error(gt(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(gt(284));if(!t._owner)throw Error(gt(290,n))}return n}function Xy(n,e){throw n=Object.prototype.toString.call(e),Error(gt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function jP(n){var e=n._init;return e(n._payload)}function xD(n){function e(y,A){if(n){var w=y.deletions;w===null?(y.deletions=[A],y.flags|=16):w.push(A)}}function t(y,A){if(!n)return null;for(;A!==null;)e(y,A),A=A.sibling;return null}function r(y,A){for(y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function i(y,A){return y=tf(y,A),y.index=0,y.sibling=null,y}function o(y,A,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<A?(y.flags|=2,A):w):(y.flags|=2,A)):(y.flags|=1048576,A)}function s(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,A,w,E){return A===null||A.tag!==6?(A=YA(w,y.mode,E),A.return=y,A):(A=i(A,w),A.return=y,A)}function l(y,A,w,E){var I=w.type;return I===Cp?f(y,A,w.props.children,E,w.key):A!==null&&(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Nu&&jP(I)===A.type)?(E=i(A,w.props),E.ref=Pg(y,A,w),E.return=y,E):(E=__(w.type,w.key,w.props,null,y.mode,E),E.ref=Pg(y,A,w),E.return=y,E)}function c(y,A,w,E){return A===null||A.tag!==4||A.stateNode.containerInfo!==w.containerInfo||A.stateNode.implementation!==w.implementation?(A=qA(w,y.mode,E),A.return=y,A):(A=i(A,w.children||[]),A.return=y,A)}function f(y,A,w,E,I){return A===null||A.tag!==7?(A=Bd(w,y.mode,E,I),A.return=y,A):(A=i(A,w),A.return=y,A)}function p(y,A,w){if(typeof A=="string"&&A!==""||typeof A=="number")return A=YA(""+A,y.mode,w),A.return=y,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fy:return w=__(A.type,A.key,A.props,null,y.mode,w),w.ref=Pg(y,null,A),w.return=y,w;case wp:return A=qA(A,y.mode,w),A.return=y,A;case Nu:var E=A._init;return p(y,E(A._payload),w)}if(Zg(A)||Cg(A))return A=Bd(A,y.mode,w,null),A.return=y,A;Xy(y,A)}return null}function m(y,A,w,E){var I=A!==null?A.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:a(y,A,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:return w.key===I?l(y,A,w,E):null;case wp:return w.key===I?c(y,A,w,E):null;case Nu:return I=w._init,m(y,A,I(w._payload),E)}if(Zg(w)||Cg(w))return I!==null?null:f(y,A,w,E,null);Xy(y,w)}return null}function v(y,A,w,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,a(A,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fy:return y=y.get(E.key===null?w:E.key)||null,l(A,y,E,I);case wp:return y=y.get(E.key===null?w:E.key)||null,c(A,y,E,I);case Nu:var P=E._init;return v(y,A,w,P(E._payload),I)}if(Zg(E)||Cg(E))return y=y.get(w)||null,f(A,y,E,I,null);Xy(A,E)}return null}function x(y,A,w,E){for(var I=null,P=null,L=A,U=A=0,F=null;L!==null&&U<w.length;U++){L.index>U?(F=L,L=null):F=L.sibling;var O=m(y,L,w[U],E);if(O===null){L===null&&(L=F);break}n&&L&&O.alternate===null&&e(y,L),A=o(O,A,U),P===null?I=O:P.sibling=O,P=O,L=F}if(U===w.length)return t(y,L),Xr&&ld(y,U),I;if(L===null){for(;U<w.length;U++)L=p(y,w[U],E),L!==null&&(A=o(L,A,U),P===null?I=L:P.sibling=L,P=L);return Xr&&ld(y,U),I}for(L=r(y,L);U<w.length;U++)F=v(L,y,U,w[U],E),F!==null&&(n&&F.alternate!==null&&L.delete(F.key===null?U:F.key),A=o(F,A,U),P===null?I=F:P.sibling=F,P=F);return n&&L.forEach(function(G){return e(y,G)}),Xr&&ld(y,U),I}function S(y,A,w,E){var I=Cg(w);if(typeof I!="function")throw Error(gt(150));if(w=I.call(w),w==null)throw Error(gt(151));for(var P=I=null,L=A,U=A=0,F=null,O=w.next();L!==null&&!O.done;U++,O=w.next()){L.index>U?(F=L,L=null):F=L.sibling;var G=m(y,L,O.value,E);if(G===null){L===null&&(L=F);break}n&&L&&G.alternate===null&&e(y,L),A=o(G,A,U),P===null?I=G:P.sibling=G,P=G,L=F}if(O.done)return t(y,L),Xr&&ld(y,U),I;if(L===null){for(;!O.done;U++,O=w.next())O=p(y,O.value,E),O!==null&&(A=o(O,A,U),P===null?I=O:P.sibling=O,P=O);return Xr&&ld(y,U),I}for(L=r(y,L);!O.done;U++,O=w.next())O=v(L,y,U,O.value,E),O!==null&&(n&&O.alternate!==null&&L.delete(O.key===null?U:O.key),A=o(O,A,U),P===null?I=O:P.sibling=O,P=O);return n&&L.forEach(function(te){return e(y,te)}),Xr&&ld(y,U),I}function _(y,A,w,E){if(typeof w=="object"&&w!==null&&w.type===Cp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:e:{for(var I=w.key,P=A;P!==null;){if(P.key===I){if(I=w.type,I===Cp){if(P.tag===7){t(y,P.sibling),A=i(P,w.props.children),A.return=y,y=A;break e}}else if(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Nu&&jP(I)===P.type){t(y,P.sibling),A=i(P,w.props),A.ref=Pg(y,P,w),A.return=y,y=A;break e}t(y,P);break}else e(y,P);P=P.sibling}w.type===Cp?(A=Bd(w.props.children,y.mode,E,w.key),A.return=y,y=A):(E=__(w.type,w.key,w.props,null,y.mode,E),E.ref=Pg(y,A,w),E.return=y,y=E)}return s(y);case wp:e:{for(P=w.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===w.containerInfo&&A.stateNode.implementation===w.implementation){t(y,A.sibling),A=i(A,w.children||[]),A.return=y,y=A;break e}else{t(y,A);break}else e(y,A);A=A.sibling}A=qA(w,y.mode,E),A.return=y,y=A}return s(y);case Nu:return P=w._init,_(y,A,P(w._payload),E)}if(Zg(w))return x(y,A,w,E);if(Cg(w))return S(y,A,w,E);Xy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,A!==null&&A.tag===6?(t(y,A.sibling),A=i(A,w),A.return=y,y=A):(t(y,A),A=YA(w,y.mode,E),A.return=y,y=A),s(y)):t(y,A)}return _}var sm=xD(!0),_D=xD(!1),q_=df(null),Q_=null,Lp=null,Eb=null;function bb(){Eb=Lp=Q_=null}function Tb(n){var e=q_.current;Vr(q_),n._currentValue=e}function sC(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Jp(n,e){Q_=n,Eb=Lp=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ms=!0),n.firstContext=null)}function Na(n){var e=n._currentValue;if(Eb!==n)if(n={context:n,memoizedValue:e,next:null},Lp===null){if(Q_===null)throw Error(gt(308));Lp=n,Q_.dependencies={lanes:0,firstContext:n}}else Lp=Lp.next=n;return e}var yd=null;function Rb(n){yd===null?yd=[n]:yd.push(n)}function SD(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Rb(e)):(t.next=i.next,i.next=t),e.interleaved=t,Wc(n,r)}function Wc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Uu=!1;function Pb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AD(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Qu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ar&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wc(n,t)}return i=r.interleaved,i===null?(e.next=e,Rb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wc(n,t)}function p_(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mb(n,t)}}function XP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Z_(n,e,t,r){var i=n.updateQueue;Uu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;s=0,f=c=l=null,a=o;do{var m=a.lane,v=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=n,S=a;switch(m=e,v=t,S.tag){case 1:if(x=S.payload,typeof x=="function"){p=x.call(v,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,m=typeof x=="function"?x.call(v,p,m):x,m==null)break e;p=ii({},p,m);break e;case 2:Uu=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=v,l=p):f=f.next=v,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wd|=s,n.lanes=s,n.memoizedState=p}}function KP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(gt(191,i));i.call(r)}}}var h0={},Xl=df(h0),Bv=df(h0),Lv=df(h0);function xd(n){if(n===h0)throw Error(gt(174));return n}function Ib(n,e){switch(Nr(Lv,e),Nr(Bv,n),Nr(Xl,h0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=zw(e,n)}Vr(Xl),Nr(Xl,e)}function am(){Vr(Xl),Vr(Bv),Vr(Lv)}function MD(n){xd(Lv.current);var e=xd(Xl.current),t=zw(e,n.type);e!==t&&(Nr(Bv,n),Nr(Xl,t))}function Bb(n){Bv.current===n&&(Vr(Xl),Vr(Bv))}var ei=df(0);function eS(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var WA=[];function Lb(){for(var n=0;n<WA.length;n++)WA[n]._workInProgressVersionPrimary=null;WA.length=0}var m_=Jc.ReactCurrentDispatcher,$A=Jc.ReactCurrentBatchConfig,Vd=0,ri=null,Hi=null,so=null,tS=!1,uv=!1,Ov=0,iV=0;function Co(){throw Error(gt(321))}function Ob(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!yl(n[t],e[t]))return!1;return!0}function Db(n,e,t,r,i,o){if(Vd=o,ri=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,m_.current=n===null||n.memoizedState===null?lV:cV,n=t(r,i),uv){o=0;do{if(uv=!1,Ov=0,25<=o)throw Error(gt(301));o+=1,so=Hi=null,e.updateQueue=null,m_.current=uV,n=t(r,i)}while(uv)}if(m_.current=nS,e=Hi!==null&&Hi.next!==null,Vd=0,so=Hi=ri=null,tS=!1,e)throw Error(gt(300));return n}function Fb(){var n=Ov!==0;return Ov=0,n}function zl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return so===null?ri.memoizedState=so=n:so=so.next=n,so}function Ua(){if(Hi===null){var n=ri.alternate;n=n!==null?n.memoizedState:null}else n=Hi.next;var e=so===null?ri.memoizedState:so.next;if(e!==null)so=e,Hi=n;else{if(n===null)throw Error(gt(310));Hi=n,n={memoizedState:Hi.memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},so===null?ri.memoizedState=so=n:so=so.next=n}return so}function Dv(n,e){return typeof e=="function"?e(n):e}function jA(n){var e=Ua(),t=e.queue;if(t===null)throw Error(gt(311));t.lastRenderedReducer=n;var r=Hi,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((Vd&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=r):l=l.next=p,ri.lanes|=f,Wd|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,yl(r,e.memoizedState)||(Ms=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,ri.lanes|=o,Wd|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function XA(n){var e=Ua(),t=e.queue;if(t===null)throw Error(gt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);yl(o,e.memoizedState)||(Ms=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function wD(){}function CD(n,e){var t=ri,r=Ua(),i=e(),o=!yl(r.memoizedState,i);if(o&&(r.memoizedState=i,Ms=!0),r=r.queue,Nb(TD.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||so!==null&&so.memoizedState.tag&1){if(t.flags|=2048,Fv(9,bD.bind(null,t,r,i,e),void 0,null),co===null)throw Error(gt(349));Vd&30||ED(t,e,i)}return i}function ED(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function bD(n,e,t,r){e.value=t,e.getSnapshot=r,RD(e)&&PD(n)}function TD(n,e,t){return t(function(){RD(e)&&PD(n)})}function RD(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!yl(n,t)}catch{return!0}}function PD(n){var e=Wc(n,1);e!==null&&ml(e,n,1,-1)}function JP(n){var e=zl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:n},e.queue=n,n=n.dispatch=aV.bind(null,ri,n),[e.memoizedState,n]}function Fv(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function ID(){return Ua().memoizedState}function g_(n,e,t,r){var i=zl();ri.flags|=n,i.memoizedState=Fv(1|e,t,void 0,r===void 0?null:r)}function GS(n,e,t,r){var i=Ua();r=r===void 0?null:r;var o=void 0;if(Hi!==null){var s=Hi.memoizedState;if(o=s.destroy,r!==null&&Ob(r,s.deps)){i.memoizedState=Fv(e,t,o,r);return}}ri.flags|=n,i.memoizedState=Fv(1|e,t,o,r)}function YP(n,e){return g_(8390656,8,n,e)}function Nb(n,e){return GS(2048,8,n,e)}function BD(n,e){return GS(4,2,n,e)}function LD(n,e){return GS(4,4,n,e)}function OD(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function DD(n,e,t){return t=t!=null?t.concat([n]):null,GS(4,4,OD.bind(null,e,n),t)}function Ub(){}function FD(n,e){var t=Ua();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ob(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ND(n,e){var t=Ua();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ob(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function UD(n,e,t){return Vd&21?(yl(t,e)||(t=VO(),ri.lanes|=t,Wd|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ms=!0),n.memoizedState=t)}function oV(n,e){var t=yr;yr=t!==0&&4>t?t:4,n(!0);var r=$A.transition;$A.transition={};try{n(!1),e()}finally{yr=t,$A.transition=r}}function kD(){return Ua().memoizedState}function sV(n,e,t){var r=ef(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},zD(n))HD(e,t);else if(t=SD(n,e,t,r),t!==null){var i=Zo();ml(t,n,r,i),GD(t,e,r)}}function aV(n,e,t){var r=ef(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(zD(n))HD(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,yl(a,s)){var l=e.interleaved;l===null?(i.next=i,Rb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=SD(n,e,i,r),t!==null&&(i=Zo(),ml(t,n,r,i),GD(t,e,r))}}function zD(n){var e=n.alternate;return n===ri||e!==null&&e===ri}function HD(n,e){uv=tS=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function GD(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mb(n,t)}}var nS={readContext:Na,useCallback:Co,useContext:Co,useEffect:Co,useImperativeHandle:Co,useInsertionEffect:Co,useLayoutEffect:Co,useMemo:Co,useReducer:Co,useRef:Co,useState:Co,useDebugValue:Co,useDeferredValue:Co,useTransition:Co,useMutableSource:Co,useSyncExternalStore:Co,useId:Co,unstable_isNewReconciler:!1},lV={readContext:Na,useCallback:function(n,e){return zl().memoizedState=[n,e===void 0?null:e],n},useContext:Na,useEffect:YP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,g_(4194308,4,OD.bind(null,e,n),t)},useLayoutEffect:function(n,e){return g_(4194308,4,n,e)},useInsertionEffect:function(n,e){return g_(4,2,n,e)},useMemo:function(n,e){var t=zl();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=zl();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=sV.bind(null,ri,n),[r.memoizedState,n]},useRef:function(n){var e=zl();return n={current:n},e.memoizedState=n},useState:JP,useDebugValue:Ub,useDeferredValue:function(n){return zl().memoizedState=n},useTransition:function(){var n=JP(!1),e=n[0];return n=oV.bind(null,n[1]),zl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ri,i=zl();if(Xr){if(t===void 0)throw Error(gt(407));t=t()}else{if(t=e(),co===null)throw Error(gt(349));Vd&30||ED(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,YP(TD.bind(null,r,o,n),[n]),r.flags|=2048,Fv(9,bD.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=zl(),e=co.identifierPrefix;if(Xr){var t=Oc,r=Lc;t=(r&~(1<<32-pl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ov++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=iV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},cV={readContext:Na,useCallback:FD,useContext:Na,useEffect:Nb,useImperativeHandle:DD,useInsertionEffect:BD,useLayoutEffect:LD,useMemo:ND,useReducer:jA,useRef:ID,useState:function(){return jA(Dv)},useDebugValue:Ub,useDeferredValue:function(n){var e=Ua();return UD(e,Hi.memoizedState,n)},useTransition:function(){var n=jA(Dv)[0],e=Ua().memoizedState;return[n,e]},useMutableSource:wD,useSyncExternalStore:CD,useId:kD,unstable_isNewReconciler:!1},uV={readContext:Na,useCallback:FD,useContext:Na,useEffect:Nb,useImperativeHandle:DD,useInsertionEffect:BD,useLayoutEffect:LD,useMemo:ND,useReducer:XA,useRef:ID,useState:function(){return XA(Dv)},useDebugValue:Ub,useDeferredValue:function(n){var e=Ua();return Hi===null?e.memoizedState=n:UD(e,Hi.memoizedState,n)},useTransition:function(){var n=XA(Dv)[0],e=Ua().memoizedState;return[n,e]},useMutableSource:wD,useSyncExternalStore:CD,useId:kD,unstable_isNewReconciler:!1};function sl(n,e){if(n&&n.defaultProps){e=ii({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function aC(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ii({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var VS={isMounted:function(n){return(n=n._reactInternals)?oh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zo(),i=ef(n),o=Nc(r,i);o.payload=e,t!=null&&(o.callback=t),e=Qu(n,o,i),e!==null&&(ml(e,n,i,r),p_(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zo(),i=ef(n),o=Nc(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Qu(n,o,i),e!==null&&(ml(e,n,i,r),p_(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zo(),r=ef(n),i=Nc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Qu(n,i,r),e!==null&&(ml(e,n,r,t),p_(e,n,r))}};function qP(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Tv(t,r)||!Tv(i,o):!0}function VD(n,e,t){var r=!1,i=of,o=e.contextType;return typeof o=="object"&&o!==null?o=Na(o):(i=bs(e)?Hd:Bo.current,r=e.contextTypes,o=(r=r!=null)?im(n,i):of),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=VS,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function QP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&VS.enqueueReplaceState(e,e.state,null)}function lC(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Pb(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Na(o):(o=bs(e)?Hd:Bo.current,i.context=im(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(aC(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&VS.enqueueReplaceState(i,i.state,null),Z_(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function lm(n,e){try{var t="",r=e;do t+=U8(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function KA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function cC(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var fV=typeof WeakMap=="function"?WeakMap:Map;function WD(n,e,t){t=Nc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){iS||(iS=!0,xC=r),cC(n,e)},t}function $D(n,e,t){t=Nc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){cC(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){cC(n,e),typeof r!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function ZP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new fV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=CV.bind(null,n,e,t),e.then(n,n))}function e2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function t2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Nc(-1,1),e.tag=2,Qu(t,e,1))),t.lanes|=1),n)}var dV=Jc.ReactCurrentOwner,Ms=!1;function Yo(n,e,t,r){e.child=n===null?_D(e,null,t,r):sm(e,n.child,t,r)}function n2(n,e,t,r,i){t=t.render;var o=e.ref;return Jp(e,i),r=Db(n,e,t,r,o,i),t=Fb(),n!==null&&!Ms?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$c(n,e,i)):(Xr&&t&&Mb(e),e.flags|=1,Yo(n,e,r,i),e.child)}function r2(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!jb(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,jD(n,e,o,r,i)):(n=__(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:Tv,t(s,r)&&n.ref===e.ref)return $c(n,e,i)}return e.flags|=1,n=tf(o,r),n.ref=e.ref,n.return=e,e.child=n}function jD(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Tv(o,r)&&n.ref===e.ref)if(Ms=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Ms=!0);else return e.lanes=n.lanes,$c(n,e,i)}return uC(n,e,t,r,i)}function XD(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Dp,Ys),Ys|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Nr(Dp,Ys),Ys|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Nr(Dp,Ys),Ys|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Nr(Dp,Ys),Ys|=r;return Yo(n,e,i,t),e.child}function KD(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function uC(n,e,t,r,i){var o=bs(t)?Hd:Bo.current;return o=im(e,o),Jp(e,i),t=Db(n,e,t,r,o,i),r=Fb(),n!==null&&!Ms?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$c(n,e,i)):(Xr&&r&&Mb(e),e.flags|=1,Yo(n,e,t,i),e.child)}function i2(n,e,t,r,i){if(bs(t)){var o=!0;K_(e)}else o=!1;if(Jp(e,i),e.stateNode===null)v_(n,e),VD(e,t,r),lC(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=Na(c):(c=bs(t)?Hd:Bo.current,c=im(e,c));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QP(e,s,r,c),Uu=!1;var m=e.memoizedState;s.state=m,Z_(e,r,s,i),l=e.memoizedState,a!==r||m!==l||Es.current||Uu?(typeof f=="function"&&(aC(e,t,f,r),l=e.memoizedState),(a=Uu||qP(e,t,a,r,m,l,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,AD(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:sl(e.type,a),s.props=c,p=e.pendingProps,m=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Na(l):(l=bs(t)?Hd:Bo.current,l=im(e,l));var v=t.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==l)&&QP(e,s,r,l),Uu=!1,m=e.memoizedState,s.state=m,Z_(e,r,s,i);var x=e.memoizedState;a!==p||m!==x||Es.current||Uu?(typeof v=="function"&&(aC(e,t,v,r),x=e.memoizedState),(c=Uu||qP(e,t,c,r,m,x,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),r=!1)}return fC(n,e,t,r,o,i)}function fC(n,e,t,r,i,o){KD(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&VP(e,t,!1),$c(n,e,o);r=e.stateNode,dV.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=sm(e,n.child,null,o),e.child=sm(e,null,a,o)):Yo(n,e,a,o),e.memoizedState=r.state,i&&VP(e,t,!0),e.child}function JD(n){var e=n.stateNode;e.pendingContext?GP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&GP(n,e.context,!1),Ib(n,e.containerInfo)}function o2(n,e,t,r,i){return om(),Cb(i),e.flags|=256,Yo(n,e,t,r),e.child}var dC={dehydrated:null,treeContext:null,retryLane:0};function hC(n){return{baseLanes:n,cachePool:null,transitions:null}}function YD(n,e,t){var r=e.pendingProps,i=ei.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Nr(ei,i&1),n===null)return oC(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jS(s,r,0,null),n=Bd(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=hC(t),e.memoizedState=dC,n):kb(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hV(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=tf(a,o):(o=Bd(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?hC(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=dC,r}return o=n.child,n=o.sibling,r=tf(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function kb(n,e){return e=jS({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ky(n,e,t,r){return r!==null&&Cb(r),sm(e,n.child,null,t),n=kb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function hV(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=KA(Error(gt(422))),Ky(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jS({mode:"visible",children:r.children},i,0,null),o=Bd(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sm(e,n.child,null,s),e.child.memoizedState=hC(s),e.memoizedState=dC,o);if(!(e.mode&1))return Ky(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(gt(419)),r=KA(o,r,void 0),Ky(n,e,s,r)}if(a=(s&n.childLanes)!==0,Ms||a){if(r=co,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wc(n,i),ml(r,n,i,-1))}return $b(),r=KA(Error(gt(421))),Ky(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=EV.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,ea=qu(i.nextSibling),oa=e,Xr=!0,dl=null,n!==null&&(Ba[La++]=Lc,Ba[La++]=Oc,Ba[La++]=Gd,Lc=n.id,Oc=n.overflow,Gd=e),e=kb(e,r.children),e.flags|=4096,e)}function s2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),sC(n.return,e,t)}function JA(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function qD(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Yo(n,e,r.children,t),r=ei.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s2(n,t,e);else if(n.tag===19)s2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Nr(ei,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&eS(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),JA(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&eS(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}JA(e,!0,t,null,o);break;case"together":JA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function v_(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function $c(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Wd|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(gt(153));if(e.child!==null){for(n=e.child,t=tf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=tf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function pV(n,e,t){switch(e.tag){case 3:JD(e),om();break;case 5:MD(e);break;case 1:bs(e.type)&&K_(e);break;case 4:Ib(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Nr(q_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nr(ei,ei.current&1),e.flags|=128,null):t&e.child.childLanes?YD(n,e,t):(Nr(ei,ei.current&1),n=$c(n,e,t),n!==null?n.sibling:null);Nr(ei,ei.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return qD(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nr(ei,ei.current),r)break;return null;case 22:case 23:return e.lanes=0,XD(n,e,t)}return $c(n,e,t)}var QD,pC,ZD,eF;QD=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pC=function(){};ZD=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,xd(Xl.current);var o=null;switch(t){case"input":i=Fw(n,i),r=Fw(n,r),o=[];break;case"select":i=ii({},i,{value:void 0}),r=ii({},r,{value:void 0}),o=[];break;case"textarea":i=kw(n,i),r=kw(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=j_)}Hw(t,r);var s;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sv.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hr("scroll",n),o||a===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};eF=function(n,e,t,r){t!==r&&(e.flags|=4)};function Ig(n,e){if(!Xr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Eo(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function mV(n,e,t){var r=e.pendingProps;switch(wb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Eo(e),null;case 1:return bs(e.type)&&X_(),Eo(e),null;case 3:return r=e.stateNode,am(),Vr(Es),Vr(Bo),Lb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(jy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dl!==null&&(AC(dl),dl=null))),pC(n,e),Eo(e),null;case 5:Bb(e);var i=xd(Lv.current);if(t=e.type,n!==null&&e.stateNode!=null)ZD(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(gt(166));return Eo(e),null}if(n=xd(Xl.current),jy(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Gl]=e,r[Iv]=o,n=(e.mode&1)!==0,t){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<tv.length;i++)Hr(tv[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":mP(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":vP(r,o),Hr("invalid",r)}Hw(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$y(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$y(r.textContent,a,n),i=["children",""+a]):Sv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Hr("scroll",r)}switch(t){case"input":Ny(r),gP(r,o,!0);break;case"textarea":Ny(r),yP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=j_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=TO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[Gl]=e,n[Iv]=r,QD(n,e,!1,!1),e.stateNode=n;e:{switch(s=Gw(t,r),t){case"dialog":Hr("cancel",n),Hr("close",n),i=r;break;case"iframe":case"object":case"embed":Hr("load",n),i=r;break;case"video":case"audio":for(i=0;i<tv.length;i++)Hr(tv[i],n);i=r;break;case"source":Hr("error",n),i=r;break;case"img":case"image":case"link":Hr("error",n),Hr("load",n),i=r;break;case"details":Hr("toggle",n),i=r;break;case"input":mP(n,r),i=Fw(n,r),Hr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ii({},r,{value:void 0}),Hr("invalid",n);break;case"textarea":vP(n,r),i=kw(n,r),Hr("invalid",n);break;default:i=r}Hw(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?IO(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RO(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Av(n,l):typeof l=="number"&&Av(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Hr("scroll",n):l!=null&&cb(n,o,l,s))}switch(t){case"input":Ny(n),gP(n,r,!1);break;case"textarea":Ny(n),yP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+rf(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?$p(n,!!r.multiple,o,!1):r.defaultValue!=null&&$p(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=j_)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Eo(e),null;case 6:if(n&&e.stateNode!=null)eF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(gt(166));if(t=xd(Lv.current),xd(Xl.current),jy(e)){if(r=e.stateNode,t=e.memoizedProps,r[Gl]=e,(o=r.nodeValue!==t)&&(n=oa,n!==null))switch(n.tag){case 3:$y(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$y(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Gl]=e,e.stateNode=r}return Eo(e),null;case 13:if(Vr(ei),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xr&&ea!==null&&e.mode&1&&!(e.flags&128))yD(),om(),e.flags|=98560,o=!1;else if(o=jy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(gt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(gt(317));o[Gl]=e}else om(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Eo(e),o=!1}else dl!==null&&(AC(dl),dl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ei.current&1?Gi===0&&(Gi=3):$b())),e.updateQueue!==null&&(e.flags|=4),Eo(e),null);case 4:return am(),pC(n,e),n===null&&Rv(e.stateNode.containerInfo),Eo(e),null;case 10:return Tb(e.type._context),Eo(e),null;case 17:return bs(e.type)&&X_(),Eo(e),null;case 19:if(Vr(ei),o=e.memoizedState,o===null)return Eo(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ig(o,!1);else{if(Gi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=eS(n),s!==null){for(e.flags|=128,Ig(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Nr(ei,ei.current&1|2),e.child}n=n.sibling}o.tail!==null&&Ci()>cm&&(e.flags|=128,r=!0,Ig(o,!1),e.lanes=4194304)}else{if(!r)if(n=eS(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ig(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Xr)return Eo(e),null}else 2*Ci()-o.renderingStartTime>cm&&t!==1073741824&&(e.flags|=128,r=!0,Ig(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ci(),e.sibling=null,t=ei.current,Nr(ei,r?t&1|2:t&1),e):(Eo(e),null);case 22:case 23:return Wb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ys&1073741824&&(Eo(e),e.subtreeFlags&6&&(e.flags|=8192)):Eo(e),null;case 24:return null;case 25:return null}throw Error(gt(156,e.tag))}function gV(n,e){switch(wb(e),e.tag){case 1:return bs(e.type)&&X_(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return am(),Vr(Es),Vr(Bo),Lb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Bb(e),null;case 13:if(Vr(ei),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(gt(340));om()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Vr(ei),null;case 4:return am(),null;case 10:return Tb(e.type._context),null;case 22:case 23:return Wb(),null;case 24:return null;default:return null}}var Jy=!1,Po=!1,vV=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Op(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){di(n,e,r)}else t.current=null}function mC(n,e,t){try{t()}catch(r){di(n,e,r)}}var a2=!1;function yV(n,e){if(Qw=V_,n=oD(),Ab(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,c=0,f=0,p=n,m=null;t:for(;;){for(var v;p!==t||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(l=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===n)break t;if(m===t&&++c===i&&(a=s),m===o&&++f===r&&(l=s),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Zw={focusedElem:n,selectionRange:t},V_=!1,Gt=e;Gt!==null;)if(e=Gt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Gt=n;else for(;Gt!==null;){e=Gt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,_=x.memoizedState,y=e.stateNode,A=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:sl(e.type,S),_);y.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(E){di(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Gt=n;break}Gt=e.return}return x=a2,a2=!1,x}function fv(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&mC(e,t,o)}i=i.next}while(i!==r)}}function WS(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function gC(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function tF(n){var e=n.alternate;e!==null&&(n.alternate=null,tF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gl],delete e[Iv],delete e[nC],delete e[eV],delete e[tV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nF(n){return n.tag===5||n.tag===3||n.tag===4}function l2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vC(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=j_));else if(r!==4&&(n=n.child,n!==null))for(vC(n,e,t),n=n.sibling;n!==null;)vC(n,e,t),n=n.sibling}function yC(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(yC(n,e,t),n=n.sibling;n!==null;)yC(n,e,t),n=n.sibling}var mo=null,cl=!1;function Cu(n,e,t){for(t=t.child;t!==null;)rF(n,e,t),t=t.sibling}function rF(n,e,t){if(jl&&typeof jl.onCommitFiberUnmount=="function")try{jl.onCommitFiberUnmount(FS,t)}catch{}switch(t.tag){case 5:Po||Op(t,e);case 6:var r=mo,i=cl;mo=null,Cu(n,e,t),mo=r,cl=i,mo!==null&&(cl?(n=mo,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):mo.removeChild(t.stateNode));break;case 18:mo!==null&&(cl?(n=mo,t=t.stateNode,n.nodeType===8?GA(n.parentNode,t):n.nodeType===1&&GA(n,t),Ev(n)):GA(mo,t.stateNode));break;case 4:r=mo,i=cl,mo=t.stateNode.containerInfo,cl=!0,Cu(n,e,t),mo=r,cl=i;break;case 0:case 11:case 14:case 15:if(!Po&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mC(t,e,s),i=i.next}while(i!==r)}Cu(n,e,t);break;case 1:if(!Po&&(Op(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){di(t,e,a)}Cu(n,e,t);break;case 21:Cu(n,e,t);break;case 22:t.mode&1?(Po=(r=Po)||t.memoizedState!==null,Cu(n,e,t),Po=r):Cu(n,e,t);break;default:Cu(n,e,t)}}function c2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vV),e.forEach(function(r){var i=bV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function tl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:mo=a.stateNode,cl=!1;break e;case 3:mo=a.stateNode.containerInfo,cl=!0;break e;case 4:mo=a.stateNode.containerInfo,cl=!0;break e}a=a.return}if(mo===null)throw Error(gt(160));rF(o,s,i),mo=null,cl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){di(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iF(e,n),e=e.sibling}function iF(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tl(e,n),kl(n),r&4){try{fv(3,n,n.return),WS(3,n)}catch(S){di(n,n.return,S)}try{fv(5,n,n.return)}catch(S){di(n,n.return,S)}}break;case 1:tl(e,n),kl(n),r&512&&t!==null&&Op(t,t.return);break;case 5:if(tl(e,n),kl(n),r&512&&t!==null&&Op(t,t.return),n.flags&32){var i=n.stateNode;try{Av(i,"")}catch(S){di(n,n.return,S)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&EO(i,o),Gw(a,s);var c=Gw(a,o);for(s=0;s<l.length;s+=2){var f=l[s],p=l[s+1];f==="style"?IO(i,p):f==="dangerouslySetInnerHTML"?RO(i,p):f==="children"?Av(i,p):cb(i,f,p,c)}switch(a){case"input":Nw(i,o);break;case"textarea":bO(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?$p(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?$p(i,!!o.multiple,o.defaultValue,!0):$p(i,!!o.multiple,o.multiple?[]:"",!1))}i[Iv]=o}catch(S){di(n,n.return,S)}}break;case 6:if(tl(e,n),kl(n),r&4){if(n.stateNode===null)throw Error(gt(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(S){di(n,n.return,S)}}break;case 3:if(tl(e,n),kl(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ev(e.containerInfo)}catch(S){di(n,n.return,S)}break;case 4:tl(e,n),kl(n);break;case 13:tl(e,n),kl(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Gb=Ci())),r&4&&c2(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Po=(c=Po)||f,tl(e,n),Po=c):tl(e,n),kl(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&n.mode&1)for(Gt=n,f=n.child;f!==null;){for(p=Gt=f;Gt!==null;){switch(m=Gt,v=m.child,m.tag){case 0:case 11:case 14:case 15:fv(4,m,m.return);break;case 1:Op(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,t=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){di(r,t,S)}}break;case 5:Op(m,m.return);break;case 22:if(m.memoizedState!==null){f2(p);continue}}v!==null?(v.return=m,Gt=v):f2(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,l=p.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PO("display",s))}catch(S){di(n,n.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(S){di(n,n.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tl(e,n),kl(n),r&4&&c2(n);break;case 21:break;default:tl(e,n),kl(n)}}function kl(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(nF(t)){var r=t;break e}t=t.return}throw Error(gt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Av(i,""),r.flags&=-33);var o=l2(n);yC(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=l2(n);vC(n,a,s);break;default:throw Error(gt(161))}}catch(l){di(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function xV(n,e,t){Gt=n,oF(n)}function oF(n,e,t){for(var r=(n.mode&1)!==0;Gt!==null;){var i=Gt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Jy;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Po;a=Jy;var c=Po;if(Jy=s,(Po=l)&&!c)for(Gt=i;Gt!==null;)s=Gt,l=s.child,s.tag===22&&s.memoizedState!==null?d2(i):l!==null?(l.return=s,Gt=l):d2(i);for(;o!==null;)Gt=o,oF(o),o=o.sibling;Gt=i,Jy=a,Po=c}u2(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Gt=o):u2(n)}}function u2(n){for(;Gt!==null;){var e=Gt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Po||WS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Po)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:sl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&KP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}KP(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ev(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}Po||e.flags&512&&gC(e)}catch(m){di(e,e.return,m)}}if(e===n){Gt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Gt=t;break}Gt=e.return}}function f2(n){for(;Gt!==null;){var e=Gt;if(e===n){Gt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Gt=t;break}Gt=e.return}}function d2(n){for(;Gt!==null;){var e=Gt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{WS(4,e)}catch(l){di(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){di(e,i,l)}}var o=e.return;try{gC(e)}catch(l){di(e,o,l)}break;case 5:var s=e.return;try{gC(e)}catch(l){di(e,s,l)}}}catch(l){di(e,e.return,l)}if(e===n){Gt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Gt=a;break}Gt=e.return}}var _V=Math.ceil,rS=Jc.ReactCurrentDispatcher,zb=Jc.ReactCurrentOwner,Fa=Jc.ReactCurrentBatchConfig,ar=0,co=null,Di=null,go=0,Ys=0,Dp=df(0),Gi=0,Nv=null,Wd=0,$S=0,Hb=0,dv=null,As=null,Gb=0,cm=1/0,Cc=null,iS=!1,xC=null,Zu=null,Yy=!1,Wu=null,oS=0,hv=0,_C=null,y_=-1,x_=0;function Zo(){return ar&6?Ci():y_!==-1?y_:y_=Ci()}function ef(n){return n.mode&1?ar&2&&go!==0?go&-go:rV.transition!==null?(x_===0&&(x_=VO()),x_):(n=yr,n!==0||(n=window.event,n=n===void 0?16:YO(n.type)),n):1}function ml(n,e,t,r){if(50<hv)throw hv=0,_C=null,Error(gt(185));u0(n,t,r),(!(ar&2)||n!==co)&&(n===co&&(!(ar&2)&&($S|=t),Gi===4&&zu(n,go)),Ts(n,r),t===1&&ar===0&&!(e.mode&1)&&(cm=Ci()+500,HS&&hf()))}function Ts(n,e){var t=n.callbackNode;r9(n,e);var r=G_(n,n===co?go:0);if(r===0)t!==null&&SP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&SP(t),e===1)n.tag===0?nV(h2.bind(null,n)):mD(h2.bind(null,n)),Q9(function(){!(ar&6)&&hf()}),t=null;else{switch(WO(r)){case 1:t=pb;break;case 4:t=HO;break;case 16:t=H_;break;case 536870912:t=GO;break;default:t=H_}t=hF(t,sF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function sF(n,e){if(y_=-1,x_=0,ar&6)throw Error(gt(327));var t=n.callbackNode;if(Yp()&&n.callbackNode!==t)return null;var r=G_(n,n===co?go:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=sS(n,r);else{e=r;var i=ar;ar|=2;var o=lF();(co!==n||go!==e)&&(Cc=null,cm=Ci()+500,Id(n,e));do try{MV();break}catch(a){aF(n,a)}while(!0);bb(),rS.current=o,ar=i,Di!==null?e=0:(co=null,go=0,e=Gi)}if(e!==0){if(e===2&&(i=Xw(n),i!==0&&(r=i,e=SC(n,i))),e===1)throw t=Nv,Id(n,0),zu(n,r),Ts(n,Ci()),t;if(e===6)zu(n,r);else{if(i=n.current.alternate,!(r&30)&&!SV(i)&&(e=sS(n,r),e===2&&(o=Xw(n),o!==0&&(r=o,e=SC(n,o))),e===1))throw t=Nv,Id(n,0),zu(n,r),Ts(n,Ci()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(gt(345));case 2:cd(n,As,Cc);break;case 3:if(zu(n,r),(r&130023424)===r&&(e=Gb+500-Ci(),10<e)){if(G_(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zo(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=tC(cd.bind(null,n,As,Cc),e);break}cd(n,As,Cc);break;case 4:if(zu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-pl(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ci()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_V(r/1960))-r,10<r){n.timeoutHandle=tC(cd.bind(null,n,As,Cc),r);break}cd(n,As,Cc);break;case 5:cd(n,As,Cc);break;default:throw Error(gt(329))}}}return Ts(n,Ci()),n.callbackNode===t?sF.bind(null,n):null}function SC(n,e){var t=dv;return n.current.memoizedState.isDehydrated&&(Id(n,e).flags|=256),n=sS(n,e),n!==2&&(e=As,As=t,e!==null&&AC(e)),n}function AC(n){As===null?As=n:As.push.apply(As,n)}function SV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!yl(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zu(n,e){for(e&=~Hb,e&=~$S,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-pl(e),r=1<<t;n[t]=-1,e&=~r}}function h2(n){if(ar&6)throw Error(gt(327));Yp();var e=G_(n,0);if(!(e&1))return Ts(n,Ci()),null;var t=sS(n,e);if(n.tag!==0&&t===2){var r=Xw(n);r!==0&&(e=r,t=SC(n,r))}if(t===1)throw t=Nv,Id(n,0),zu(n,e),Ts(n,Ci()),t;if(t===6)throw Error(gt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,cd(n,As,Cc),Ts(n,Ci()),null}function Vb(n,e){var t=ar;ar|=1;try{return n(e)}finally{ar=t,ar===0&&(cm=Ci()+500,HS&&hf())}}function $d(n){Wu!==null&&Wu.tag===0&&!(ar&6)&&Yp();var e=ar;ar|=1;var t=Fa.transition,r=yr;try{if(Fa.transition=null,yr=1,n)return n()}finally{yr=r,Fa.transition=t,ar=e,!(ar&6)&&hf()}}function Wb(){Ys=Dp.current,Vr(Dp)}function Id(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,q9(t)),Di!==null)for(t=Di.return;t!==null;){var r=t;switch(wb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&X_();break;case 3:am(),Vr(Es),Vr(Bo),Lb();break;case 5:Bb(r);break;case 4:am();break;case 13:Vr(ei);break;case 19:Vr(ei);break;case 10:Tb(r.type._context);break;case 22:case 23:Wb()}t=t.return}if(co=n,Di=n=tf(n.current,null),go=Ys=e,Gi=0,Nv=null,Hb=$S=Wd=0,As=dv=null,yd!==null){for(e=0;e<yd.length;e++)if(t=yd[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}yd=null}return n}function aF(n,e){do{var t=Di;try{if(bb(),m_.current=nS,tS){for(var r=ri.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tS=!1}if(Vd=0,so=Hi=ri=null,uv=!1,Ov=0,zb.current=null,t===null||t.return===null){Gi=1,Nv=e,Di=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=go,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=e2(s);if(v!==null){v.flags&=-257,t2(v,s,a,o,e),v.mode&1&&ZP(o,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var S=new Set;S.add(l),e.updateQueue=S}else x.add(l);break e}else{if(!(e&1)){ZP(o,c,e),$b();break e}l=Error(gt(426))}}else if(Xr&&a.mode&1){var _=e2(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),t2(_,s,a,o,e),Cb(lm(l,a));break e}}o=l=lm(l,a),Gi!==4&&(Gi=2),dv===null?dv=[o]:dv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=WD(o,l,e);XP(o,y);break e;case 1:a=l;var A=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zu===null||!Zu.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=$D(o,a,e);XP(o,E);break e}}o=o.return}while(o!==null)}uF(t)}catch(I){e=I,Di===t&&t!==null&&(Di=t=t.return);continue}break}while(!0)}function lF(){var n=rS.current;return rS.current=nS,n===null?nS:n}function $b(){(Gi===0||Gi===3||Gi===2)&&(Gi=4),co===null||!(Wd&268435455)&&!($S&268435455)||zu(co,go)}function sS(n,e){var t=ar;ar|=2;var r=lF();(co!==n||go!==e)&&(Cc=null,Id(n,e));do try{AV();break}catch(i){aF(n,i)}while(!0);if(bb(),ar=t,rS.current=r,Di!==null)throw Error(gt(261));return co=null,go=0,Gi}function AV(){for(;Di!==null;)cF(Di)}function MV(){for(;Di!==null&&!K8();)cF(Di)}function cF(n){var e=dF(n.alternate,n,Ys);n.memoizedProps=n.pendingProps,e===null?uF(n):Di=e,zb.current=null}function uF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=gV(t,e),t!==null){t.flags&=32767,Di=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gi=6,Di=null;return}}else if(t=mV(t,e,Ys),t!==null){Di=t;return}if(e=e.sibling,e!==null){Di=e;return}Di=e=n}while(e!==null);Gi===0&&(Gi=5)}function cd(n,e,t){var r=yr,i=Fa.transition;try{Fa.transition=null,yr=1,wV(n,e,t,r)}finally{Fa.transition=i,yr=r}return null}function wV(n,e,t,r){do Yp();while(Wu!==null);if(ar&6)throw Error(gt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(gt(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(i9(n,o),n===co&&(Di=co=null,go=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Yy||(Yy=!0,hF(H_,function(){return Yp(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Fa.transition,Fa.transition=null;var s=yr;yr=1;var a=ar;ar|=4,zb.current=null,yV(n,t),iF(t,n),W9(Zw),V_=!!Qw,Zw=Qw=null,n.current=t,xV(t),J8(),ar=a,yr=s,Fa.transition=o}else n.current=t;if(Yy&&(Yy=!1,Wu=n,oS=i),o=n.pendingLanes,o===0&&(Zu=null),Q8(t.stateNode),Ts(n,Ci()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(iS)throw iS=!1,n=xC,xC=null,n;return oS&1&&n.tag!==0&&Yp(),o=n.pendingLanes,o&1?n===_C?hv++:(hv=0,_C=n):hv=0,hf(),null}function Yp(){if(Wu!==null){var n=WO(oS),e=Fa.transition,t=yr;try{if(Fa.transition=null,yr=16>n?16:n,Wu===null)var r=!1;else{if(n=Wu,Wu=null,oS=0,ar&6)throw Error(gt(331));var i=ar;for(ar|=4,Gt=n.current;Gt!==null;){var o=Gt,s=o.child;if(Gt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Gt=c;Gt!==null;){var f=Gt;switch(f.tag){case 0:case 11:case 15:fv(8,f,o)}var p=f.child;if(p!==null)p.return=f,Gt=p;else for(;Gt!==null;){f=Gt;var m=f.sibling,v=f.return;if(tF(f),f===c){Gt=null;break}if(m!==null){m.return=v,Gt=m;break}Gt=v}}}var x=o.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var _=S.sibling;S.sibling=null,S=_}while(S!==null)}}Gt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Gt=s;else e:for(;Gt!==null;){if(o=Gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fv(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Gt=y;break e}Gt=o.return}}var A=n.current;for(Gt=A;Gt!==null;){s=Gt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Gt=w;else e:for(s=A;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:WS(9,a)}}catch(I){di(a,a.return,I)}if(a===s){Gt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Gt=E;break e}Gt=a.return}}if(ar=i,hf(),jl&&typeof jl.onPostCommitFiberRoot=="function")try{jl.onPostCommitFiberRoot(FS,n)}catch{}r=!0}return r}finally{yr=t,Fa.transition=e}}return!1}function p2(n,e,t){e=lm(t,e),e=WD(n,e,1),n=Qu(n,e,1),e=Zo(),n!==null&&(u0(n,1,e),Ts(n,e))}function di(n,e,t){if(n.tag===3)p2(n,n,t);else for(;e!==null;){if(e.tag===3){p2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zu===null||!Zu.has(r))){n=lm(t,n),n=$D(e,n,1),e=Qu(e,n,1),n=Zo(),e!==null&&(u0(e,1,n),Ts(e,n));break}}e=e.return}}function CV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zo(),n.pingedLanes|=n.suspendedLanes&t,co===n&&(go&t)===t&&(Gi===4||Gi===3&&(go&130023424)===go&&500>Ci()-Gb?Id(n,0):Hb|=t),Ts(n,e)}function fF(n,e){e===0&&(n.mode&1?(e=zy,zy<<=1,!(zy&130023424)&&(zy=4194304)):e=1);var t=Zo();n=Wc(n,e),n!==null&&(u0(n,e,t),Ts(n,t))}function EV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),fF(n,t)}function bV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(gt(314))}r!==null&&r.delete(e),fF(n,t)}var dF;dF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Es.current)Ms=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ms=!1,pV(n,e,t);Ms=!!(n.flags&131072)}else Ms=!1,Xr&&e.flags&1048576&&gD(e,Y_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;v_(n,e),n=e.pendingProps;var i=im(e,Bo.current);Jp(e,t),i=Db(null,e,r,n,i,t);var o=Fb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bs(r)?(o=!0,K_(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pb(e),i.updater=VS,e.stateNode=i,i._reactInternals=e,lC(e,r,n,t),e=fC(null,e,r,!0,o,t)):(e.tag=0,Xr&&o&&Mb(e),Yo(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(v_(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RV(r),n=sl(r,n),i){case 0:e=uC(null,e,r,n,t);break e;case 1:e=i2(null,e,r,n,t);break e;case 11:e=n2(null,e,r,n,t);break e;case 14:e=r2(null,e,r,sl(r.type,n),t);break e}throw Error(gt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sl(r,i),uC(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sl(r,i),i2(n,e,r,i,t);case 3:e:{if(JD(e),n===null)throw Error(gt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,AD(n,e),Z_(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=lm(Error(gt(423)),e),e=o2(n,e,r,t,i);break e}else if(r!==i){i=lm(Error(gt(424)),e),e=o2(n,e,r,t,i);break e}else for(ea=qu(e.stateNode.containerInfo.firstChild),oa=e,Xr=!0,dl=null,t=_D(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(om(),r===i){e=$c(n,e,t);break e}Yo(n,e,r,t)}e=e.child}return e;case 5:return MD(e),n===null&&oC(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,eC(r,i)?s=null:o!==null&&eC(r,o)&&(e.flags|=32),KD(n,e),Yo(n,e,s,t),e.child;case 6:return n===null&&oC(e),null;case 13:return YD(n,e,t);case 4:return Ib(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=sm(e,null,r,t):Yo(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sl(r,i),n2(n,e,r,i,t);case 7:return Yo(n,e,e.pendingProps,t),e.child;case 8:return Yo(n,e,e.pendingProps.children,t),e.child;case 12:return Yo(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Nr(q_,r._currentValue),r._currentValue=s,o!==null)if(yl(o.value,s)){if(o.children===i.children&&!Es.current){e=$c(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Nc(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),sC(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(gt(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),sC(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yo(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jp(e,t),i=Na(i),r=r(i),e.flags|=1,Yo(n,e,r,t),e.child;case 14:return r=e.type,i=sl(r,e.pendingProps),i=sl(r.type,i),r2(n,e,r,i,t);case 15:return jD(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sl(r,i),v_(n,e),e.tag=1,bs(r)?(n=!0,K_(e)):n=!1,Jp(e,t),VD(e,r,i),lC(e,r,i,t),fC(null,e,r,!0,n,t);case 19:return qD(n,e,t);case 22:return XD(n,e,t)}throw Error(gt(156,e.tag))};function hF(n,e){return zO(n,e)}function TV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(n,e,t,r){return new TV(n,e,t,r)}function jb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function RV(n){if(typeof n=="function")return jb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fb)return 11;if(n===db)return 14}return 2}function tf(n,e){var t=n.alternate;return t===null?(t=Oa(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function __(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")jb(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Cp:return Bd(t.children,i,o,e);case ub:s=8,i|=8;break;case Bw:return n=Oa(12,t,e,i|2),n.elementType=Bw,n.lanes=o,n;case Lw:return n=Oa(13,t,e,i),n.elementType=Lw,n.lanes=o,n;case Ow:return n=Oa(19,t,e,i),n.elementType=Ow,n.lanes=o,n;case MO:return jS(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case SO:s=10;break e;case AO:s=9;break e;case fb:s=11;break e;case db:s=14;break e;case Nu:s=16,r=null;break e}throw Error(gt(130,n==null?n:typeof n,""))}return e=Oa(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function Bd(n,e,t,r){return n=Oa(7,n,r,e),n.lanes=t,n}function jS(n,e,t,r){return n=Oa(22,n,r,e),n.elementType=MO,n.lanes=t,n.stateNode={isHidden:!1},n}function YA(n,e,t){return n=Oa(6,n,null,e),n.lanes=t,n}function qA(n,e,t){return e=Oa(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function PV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=IA(0),this.expirationTimes=IA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=IA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xb(n,e,t,r,i,o,s,a,l){return n=new PV(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Oa(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pb(o),n}function IV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wp,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function pF(n){if(!n)return of;n=n._reactInternals;e:{if(oh(n)!==n||n.tag!==1)throw Error(gt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(gt(171))}if(n.tag===1){var t=n.type;if(bs(t))return pD(n,t,e)}return e}function mF(n,e,t,r,i,o,s,a,l){return n=Xb(t,r,!0,n,i,o,s,a,l),n.context=pF(null),t=n.current,r=Zo(),i=ef(t),o=Nc(r,i),o.callback=e??null,Qu(t,o,i),n.current.lanes=i,u0(n,i,r),Ts(n,r),n}function XS(n,e,t,r){var i=e.current,o=Zo(),s=ef(i);return t=pF(t),e.context===null?e.context=t:e.pendingContext=t,e=Nc(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Qu(i,e,s),n!==null&&(ml(n,i,s,o),p_(n,i,s)),s}function aS(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function m2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Kb(n,e){m2(n,e),(n=n.alternate)&&m2(n,e)}function BV(){return null}var gF=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jb(n){this._internalRoot=n}KS.prototype.render=Jb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(gt(409));XS(n,e,null,null)};KS.prototype.unmount=Jb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;$d(function(){XS(null,n,null,null)}),e[Vc]=null}};function KS(n){this._internalRoot=n}KS.prototype.unstable_scheduleHydration=function(n){if(n){var e=XO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ku.length&&e!==0&&e<ku[t].priority;t++);ku.splice(t,0,n),t===0&&JO(n)}};function Yb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function JS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function g2(){}function LV(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=aS(s);o.call(c)}}var s=mF(e,r,n,0,null,!1,!1,"",g2);return n._reactRootContainer=s,n[Vc]=s.current,Rv(n.nodeType===8?n.parentNode:n),$d(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=aS(l);a.call(c)}}var l=Xb(n,0,!1,null,null,!1,!1,"",g2);return n._reactRootContainer=l,n[Vc]=l.current,Rv(n.nodeType===8?n.parentNode:n),$d(function(){XS(e,l,t,r)}),l}function YS(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=aS(s);a.call(l)}}XS(e,s,n,i)}else s=LV(t,e,n,i,r);return aS(s)}$O=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ev(e.pendingLanes);t!==0&&(mb(e,t|1),Ts(e,Ci()),!(ar&6)&&(cm=Ci()+500,hf()))}break;case 13:$d(function(){var r=Wc(n,1);if(r!==null){var i=Zo();ml(r,n,1,i)}}),Kb(n,1)}};gb=function(n){if(n.tag===13){var e=Wc(n,134217728);if(e!==null){var t=Zo();ml(e,n,134217728,t)}Kb(n,134217728)}};jO=function(n){if(n.tag===13){var e=ef(n),t=Wc(n,e);if(t!==null){var r=Zo();ml(t,n,e,r)}Kb(n,e)}};XO=function(){return yr};KO=function(n,e){var t=yr;try{return yr=n,e()}finally{yr=t}};Ww=function(n,e,t){switch(e){case"input":if(Nw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=zS(r);if(!i)throw Error(gt(90));CO(r),Nw(r,i)}}}break;case"textarea":bO(n,t);break;case"select":e=t.value,e!=null&&$p(n,!!t.multiple,e,!1)}};OO=Vb;DO=$d;var OV={usingClientEntryPoint:!1,Events:[d0,Rp,zS,BO,LO,Vb]},Bg={findFiberByHostInstance:vd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DV={bundleType:Bg.bundleType,version:Bg.version,rendererPackageName:Bg.rendererPackageName,rendererConfig:Bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=UO(n),n===null?null:n.stateNode},findFiberByHostInstance:Bg.findFiberByHostInstance||BV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qy.isDisabled&&qy.supportsFiber)try{FS=qy.inject(DV),jl=qy}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OV;fa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yb(e))throw Error(gt(200));return IV(n,e,null,t)};fa.createRoot=function(n,e){if(!Yb(n))throw Error(gt(299));var t=!1,r="",i=gF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xb(n,1,!1,null,null,t,!1,r,i),n[Vc]=e.current,Rv(n.nodeType===8?n.parentNode:n),new Jb(e)};fa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(gt(188)):(n=Object.keys(n).join(","),Error(gt(268,n)));return n=UO(e),n=n===null?null:n.stateNode,n};fa.flushSync=function(n){return $d(n)};fa.hydrate=function(n,e,t){if(!JS(e))throw Error(gt(200));return YS(null,n,e,!0,t)};fa.hydrateRoot=function(n,e,t){if(!Yb(n))throw Error(gt(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=gF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=mF(e,null,n,1,t??null,i,!1,o,s),n[Vc]=e.current,Rv(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new KS(e)};fa.render=function(n,e,t){if(!JS(e))throw Error(gt(200));return YS(null,n,e,!1,t)};fa.unmountComponentAtNode=function(n){if(!JS(n))throw Error(gt(40));return n._reactRootContainer?($d(function(){YS(null,null,n,!1,function(){n._reactRootContainer=null,n[Vc]=null})}),!0):!1};fa.unstable_batchedUpdates=Vb;fa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!JS(t))throw Error(gt(200));if(n==null||n._reactInternals===void 0)throw Error(gt(38));return YS(n,e,t,!1,r)};fa.version="18.3.1-next-f1338f8080-20240426";function vF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vF)}catch(n){console.error(n)}}vF(),vO.exports=fa;var qS=vO.exports;const MC=uf(qS),FV=oO({__proto__:null,default:MC},[qS]);var v2=qS;Pw.createRoot=v2.createRoot,Pw.hydrateRoot=v2.hydrateRoot;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Tm="165",ud={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yF=0,wC=1,xF=2,NV=3,_F=0,QS=1,pv=2,al=3,Yl=0,es=1,Qs=2,Uc=0,Ld=1,lS=2,CC=3,EC=4,SF=5,Hu=100,AF=101,MF=102,wF=103,CF=104,EF=200,bF=201,TF=202,RF=203,cS=204,uS=205,PF=206,IF=207,BF=208,LF=209,OF=210,DF=211,FF=212,NF=213,UF=214,kF=0,zF=1,HF=2,Uv=3,GF=4,VF=5,WF=6,$F=7,p0=0,jF=1,XF=2,Kl=0,KF=1,JF=2,YF=3,qb=4,qF=5,QF=6,ZF=7,bC="attached",eN="detached",ZS=300,jc=301,sf=302,kv=303,zv=304,Rm=306,af=1e3,ta=1001,um=1002,Vi=1003,e1=1004,UV=1004,_d=1005,kV=1005,pi=1006,qp=1007,zV=1007,Da=1008,HV=1008,ql=1009,tN=1010,nN=1011,Hv=1012,Qb=1013,jd=1014,na=1015,m0=1016,Zb=1017,eT=1018,Xd=1020,rN=35902,iN=1021,oN=1022,Qo=1023,sN=1024,aN=1025,Od=1026,Kd=1027,tT=1028,nT=1029,lN=1030,rT=1031,iT=1033,S_=33776,A_=33777,M_=33778,w_=33779,TC=35840,RC=35841,PC=35842,IC=35843,BC=36196,LC=37492,OC=37496,DC=37808,FC=37809,NC=37810,UC=37811,kC=37812,zC=37813,HC=37814,GC=37815,VC=37816,WC=37817,$C=37818,jC=37819,XC=37820,KC=37821,C_=36492,JC=36494,YC=36495,cN=36283,qC=36284,QC=36285,ZC=36286,uN=2200,fN=2201,dN=2202,fm=2300,dm=2301,E_=2302,Sd=2400,Ad=2401,Gv=2402,t1=2500,oT=2501,hN=0,sT=1,fS=2,pN=3200,mN=3201,pf=0,gN=1,Ic="",Ia="srgb",Yc="srgb-linear",n1="display-p3",g0="display-p3-linear",Vv="linear",Dr="srgb",Wv="rec709",$v="p3",GV=0,dd=7680,VV=7681,WV=7682,$V=7683,jV=34055,XV=34056,KV=5386,JV=512,YV=513,qV=514,QV=515,ZV=516,e6=517,t6=518,eE=519,vN=512,yN=513,xN=514,aT=515,_N=516,SN=517,AN=518,MN=519,jv=35044,n6=35048,r6=35040,i6=35045,o6=35049,s6=35041,a6=35046,l6=35050,c6=35042,u6="100",tE="300 es",Vl=2e3,Xv=2001;class Zl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const bo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let y2=1234567;const Dd=Math.PI/180,hm=180/Math.PI;function sa(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bo[n&255]+bo[n>>8&255]+bo[n>>16&255]+bo[n>>24&255]+"-"+bo[e&255]+bo[e>>8&255]+"-"+bo[e>>16&15|64]+bo[e>>24&255]+"-"+bo[t&63|128]+bo[t>>8&255]+"-"+bo[t>>16&255]+bo[t>>24&255]+bo[r&255]+bo[r>>8&255]+bo[r>>16&255]+bo[r>>24&255]).toLowerCase()}function hi(n,e,t){return Math.max(e,Math.min(t,n))}function lT(n,e){return(n%e+e)%e}function f6(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function d6(n,e,t){return n!==e?(t-n)/(e-n):0}function mv(n,e,t){return(1-t)*n+t*e}function h6(n,e,t,r){return mv(n,e,1-Math.exp(-t*r))}function p6(n,e=1){return e-Math.abs(lT(n,e*2)-e)}function m6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function g6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function v6(n,e){return n+Math.floor(Math.random()*(e-n+1))}function y6(n,e){return n+Math.random()*(e-n)}function x6(n){return n*(.5-Math.random())}function _6(n){n!==void 0&&(y2=n);let e=y2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function S6(n){return n*Dd}function A6(n){return n*hm}function M6(n){return(n&n-1)===0&&n!==0}function w6(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function C6(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function E6(n,e,t,r,i){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),c=o((e+r)/2),f=s((e+r)/2),p=o((e-r)/2),m=s((e-r)/2),v=o((r-e)/2),x=s((r-e)/2);switch(i){case"XYX":n.set(a*f,l*p,l*m,a*c);break;case"YZY":n.set(l*m,a*f,l*p,a*c);break;case"ZXZ":n.set(l*p,l*m,a*f,a*c);break;case"XZX":n.set(a*f,l*x,l*v,a*c);break;case"YXY":n.set(l*v,a*f,l*x,a*c);break;case"ZYZ":n.set(l*x,l*v,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function qo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function kn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const wN={DEG2RAD:Dd,RAD2DEG:hm,generateUUID:sa,clamp:hi,euclideanModulo:lT,mapLinear:f6,inverseLerp:d6,lerp:mv,damp:h6,pingpong:p6,smoothstep:m6,smootherstep:g6,randInt:v6,randFloat:y6,randFloatSpread:x6,seededRandom:_6,degToRad:S6,radToDeg:A6,isPowerOfTwo:M6,ceilPowerOfTwo:w6,floorPowerOfTwo:C6,setQuaternionFromProperEuler:E6,normalize:kn,denormalize:qo};class Ye{constructor(e=0,t=0){Ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(hi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ln{constructor(e,t,r,i,o,s,a,l,c){Ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,s,a,l,c)}set(e,t,r,i,o,s,a,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=o,f[5]=l,f[6]=r,f[7]=s,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],f=r[4],p=r[7],m=r[2],v=r[5],x=r[8],S=i[0],_=i[3],y=i[6],A=i[1],w=i[4],E=i[7],I=i[2],P=i[5],L=i[8];return o[0]=s*S+a*A+l*I,o[3]=s*_+a*w+l*P,o[6]=s*y+a*E+l*L,o[1]=c*S+f*A+p*I,o[4]=c*_+f*w+p*P,o[7]=c*y+f*E+p*L,o[2]=m*S+v*A+x*I,o[5]=m*_+v*w+x*P,o[8]=m*y+v*E+x*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return t*s*f-t*a*c-r*o*f+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],f=e[8],p=f*s-a*c,m=a*l-f*o,v=c*o-s*l,x=t*p+r*m+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=p*S,e[1]=(i*c-f*r)*S,e[2]=(a*r-i*s)*S,e[3]=m*S,e[4]=(f*t-i*l)*S,e[5]=(i*o-a*t)*S,e[6]=v*S,e[7]=(r*l-c*t)*S,e[8]=(s*t-r*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(QA.makeScale(e,t)),this}rotate(e){return this.premultiply(QA.makeRotation(-e)),this}translate(e,t){return this.premultiply(QA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QA=new Ln;function CN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const b6={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Fp(n,e){return new b6[n](e)}function Kv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function EN(){const n=Kv("canvas");return n.style.display="block",n}const x2={};function cT(n){n in x2||(x2[n]=!0,console.warn(n))}function T6(n,e,t){return new Promise(function(r,i){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}const _2=new Ln().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),S2=new Ln().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qy={[Yc]:{transfer:Vv,primaries:Wv,toReference:n=>n,fromReference:n=>n},[Ia]:{transfer:Dr,primaries:Wv,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[g0]:{transfer:Vv,primaries:$v,toReference:n=>n.applyMatrix3(S2),fromReference:n=>n.applyMatrix3(_2)},[n1]:{transfer:Dr,primaries:$v,toReference:n=>n.convertSRGBToLinear().applyMatrix3(S2),fromReference:n=>n.applyMatrix3(_2).convertLinearToSRGB()}},R6=new Set([Yc,g0]),ur={enabled:!0,_workingColorSpace:Yc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!R6.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=Qy[e].toReference,i=Qy[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Qy[n].primaries},getTransfer:function(n){return n===Ic?Vv:Qy[n].transfer}};function Qp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ZA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $h;class bN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$h===void 0&&($h=Kv("canvas")),$h.width=e.width,$h.height=e.height;const r=$h.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=$h}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Kv("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Qp(o[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Qp(t[r]/255)*255):t[r]=Qp(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let P6=0;class Md{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:P6++}),this.uuid=sa(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(eM(i[s].image)):o.push(eM(i[s]))}else o=eM(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function eM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?bN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let I6=0;class Ir extends Zl{constructor(e=Ir.DEFAULT_IMAGE,t=Ir.DEFAULT_MAPPING,r=ta,i=ta,o=pi,s=Da,a=Qo,l=ql,c=Ir.DEFAULT_ANISOTROPY,f=Ic){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:I6++}),this.uuid=sa(),this.name="",this.source=new Md(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ye(0,0),this.repeat=new Ye(1,1),this.center=new Ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ZS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case af:e.x=e.x-Math.floor(e.x);break;case ta:e.x=e.x<0?0:1;break;case um:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case af:e.y=e.y-Math.floor(e.y);break;case ta:e.y=e.y<0?0:1;break;case um:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ir.DEFAULT_IMAGE=null;Ir.DEFAULT_MAPPING=ZS;Ir.DEFAULT_ANISOTROPY=1;class vr{constructor(e=0,t=0,r=0,i=1){vr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const l=e.elements,c=l[0],f=l[4],p=l[8],m=l[1],v=l[5],x=l[9],S=l[2],_=l[6],y=l[10];if(Math.abs(f-m)<.01&&Math.abs(p-S)<.01&&Math.abs(x-_)<.01){if(Math.abs(f+m)<.1&&Math.abs(p+S)<.1&&Math.abs(x+_)<.1&&Math.abs(c+v+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,E=(v+1)/2,I=(y+1)/2,P=(f+m)/4,L=(p+S)/4,U=(x+_)/4;return w>E&&w>I?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=P/r,o=L/r):E>I?E<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),r=P/i,o=U/i):I<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(I),r=L/o,i=U/o),this.set(r,i,o,t),this}let A=Math.sqrt((_-x)*(_-x)+(p-S)*(p-S)+(m-f)*(m-f));return Math.abs(A)<.001&&(A=1),this.x=(_-x)/A,this.y=(p-S)/A,this.z=(m-f)/A,this.w=Math.acos((c+v+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class TN extends Zl{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vr(0,0,e,t),this.scissorTest=!1,this.viewport=new vr(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:pi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Ir(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Md(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class xl extends TN{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class r1 extends Ir{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vi,this.minFilter=Vi,this.wrapR=ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class B6 extends xl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new r1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class uT extends Ir{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vi,this.minFilter=Vi,this.wrapR=ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class L6 extends xl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new uT(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class uo{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],c=r[i+1],f=r[i+2],p=r[i+3];const m=o[s+0],v=o[s+1],x=o[s+2],S=o[s+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=p;return}if(a===1){e[t+0]=m,e[t+1]=v,e[t+2]=x,e[t+3]=S;return}if(p!==S||l!==m||c!==v||f!==x){let _=1-a;const y=l*m+c*v+f*x+p*S,A=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const I=Math.sqrt(w),P=Math.atan2(I,y*A);_=Math.sin(_*P)/I,a=Math.sin(a*P)/I}const E=a*A;if(l=l*_+m*E,c=c*_+v*E,f=f*_+x*E,p=p*_+S*E,_===1-a){const I=1/Math.sqrt(l*l+c*c+f*f+p*p);l*=I,c*=I,f*=I,p*=I}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],f=r[i+3],p=o[s],m=o[s+1],v=o[s+2],x=o[s+3];return e[t]=a*x+f*p+l*v-c*m,e[t+1]=l*x+f*m+c*p-a*v,e[t+2]=c*x+f*v+a*m-l*p,e[t+3]=f*x-a*p-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),f=a(i/2),p=a(o/2),m=l(r/2),v=l(i/2),x=l(o/2);switch(s){case"XYZ":this._x=m*f*p+c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p-m*v*x;break;case"YXZ":this._x=m*f*p+c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p+m*v*x;break;case"ZXY":this._x=m*f*p-c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p-m*v*x;break;case"ZYX":this._x=m*f*p-c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p+m*v*x;break;case"YZX":this._x=m*f*p+c*v*x,this._y=c*v*p+m*f*x,this._z=c*f*x-m*v*p,this._w=c*f*p-m*v*x;break;case"XZY":this._x=m*f*p-c*v*x,this._y=c*v*p-m*f*x,this._z=c*f*x+m*v*p,this._w=c*f*p+m*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],f=t[6],p=t[10],m=r+a+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(f-l)*v,this._y=(o-c)*v,this._z=(s-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(f-l)/v,this._x=.25*v,this._y=(i+s)/v,this._z=(o+c)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(o-c)/v,this._x=(i+s)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(s-i)/v,this._x=(o+c)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hi(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,f=t._w;return this._x=r*f+s*a+i*c-o*l,this._y=i*f+s*l+o*a-r*c,this._z=o*f+s*c+r*l-i*a,this._w=s*f-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-t;return this._w=v*s+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*o+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),p=Math.sin((1-t)*f)/c,m=Math.sin(t*f)/c;return this._w=s*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=o*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,r=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(A2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(A2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),f=2*(a*t-o*i),p=2*(o*r-s*t);return this.x=t+l*c+s*p-a*f,this.y=r+l*f+a*c-o*p,this.z=i+l*p+o*f-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return tM.copy(this).projectOnVector(e),this.sub(tM)}reflect(e){return this.sub(tM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(hi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tM=new ee,A2=new uo;class Io{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(nl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(nl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=nl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,nl):nl.fromBufferAttribute(o,s),nl.applyMatrix4(e.matrixWorld),this.expandByPoint(nl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zy.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Zy.copy(r.boundingBox)),Zy.applyMatrix4(e.matrixWorld),this.union(Zy)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,nl),nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lg),ex.subVectors(this.max,Lg),jh.subVectors(e.a,Lg),Xh.subVectors(e.b,Lg),Kh.subVectors(e.c,Lg),Eu.subVectors(Xh,jh),bu.subVectors(Kh,Xh),Jf.subVectors(jh,Kh);let t=[0,-Eu.z,Eu.y,0,-bu.z,bu.y,0,-Jf.z,Jf.y,Eu.z,0,-Eu.x,bu.z,0,-bu.x,Jf.z,0,-Jf.x,-Eu.y,Eu.x,0,-bu.y,bu.x,0,-Jf.y,Jf.x,0];return!nM(t,jh,Xh,Kh,ex)||(t=[1,0,0,0,1,0,0,0,1],!nM(t,jh,Xh,Kh,ex))?!1:(tx.crossVectors(Eu,bu),t=[tx.x,tx.y,tx.z],nM(t,jh,Xh,Kh,ex))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(vc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vc=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],nl=new ee,Zy=new Io,jh=new ee,Xh=new ee,Kh=new ee,Eu=new ee,bu=new ee,Jf=new ee,Lg=new ee,ex=new ee,tx=new ee,Yf=new ee;function nM(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){Yf.fromArray(n,o);const a=i.x*Math.abs(Yf.x)+i.y*Math.abs(Yf.y)+i.z*Math.abs(Yf.z),l=e.dot(Yf),c=t.dot(Yf),f=r.dot(Yf);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const O6=new Io,Og=new ee,rM=new ee;class vo{constructor(e=new ee,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):O6.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Og.subVectors(e,this.center);const t=Og.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Og,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Og.copy(e.center).add(rM)),this.expandByPoint(Og.copy(e.center).sub(rM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const yc=new ee,iM=new ee,nx=new ee,Tu=new ee,oM=new ee,rx=new ee,sM=new ee;class sh{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=yc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(yc.copy(this.origin).addScaledVector(this.direction,t),yc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){iM.copy(e).add(t).multiplyScalar(.5),nx.copy(t).sub(e).normalize(),Tu.copy(this.origin).sub(iM);const o=e.distanceTo(t)*.5,s=-this.direction.dot(nx),a=Tu.dot(this.direction),l=-Tu.dot(nx),c=Tu.lengthSq(),f=Math.abs(1-s*s);let p,m,v,x;if(f>0)if(p=s*l-a,m=s*a-l,x=o*f,p>=0)if(m>=-x)if(m<=x){const S=1/f;p*=S,m*=S,v=p*(p+s*m+2*a)+m*(s*p+m+2*l)+c}else m=o,p=Math.max(0,-(s*m+a)),v=-p*p+m*(m+2*l)+c;else m=-o,p=Math.max(0,-(s*m+a)),v=-p*p+m*(m+2*l)+c;else m<=-x?(p=Math.max(0,-(-s*o+a)),m=p>0?-o:Math.min(Math.max(-o,-l),o),v=-p*p+m*(m+2*l)+c):m<=x?(p=0,m=Math.min(Math.max(-o,-l),o),v=m*(m+2*l)+c):(p=Math.max(0,-(s*o+a)),m=p>0?o:Math.min(Math.max(-o,-l),o),v=-p*p+m*(m+2*l)+c);else m=s>0?-o:o,p=Math.max(0,-(s*m+a)),v=-p*p+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(iM).addScaledVector(nx,m),v}intersectSphere(e,t){yc.subVectors(e.center,this.origin);const r=yc.dot(this.direction),i=yc.dot(yc)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l;const c=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),f>=0?(o=(e.min.y-m.y)*f,s=(e.max.y-m.y)*f):(o=(e.max.y-m.y)*f,s=(e.min.y-m.y)*f),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),p>=0?(a=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(a=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,yc)!==null}intersectTriangle(e,t,r,i,o){oM.subVectors(t,e),rx.subVectors(r,e),sM.crossVectors(oM,rx);let s=this.direction.dot(sM),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Tu.subVectors(this.origin,e);const l=a*this.direction.dot(rx.crossVectors(Tu,rx));if(l<0)return null;const c=a*this.direction.dot(oM.cross(Tu));if(c<0||l+c>s)return null;const f=-a*Tu.dot(sM);return f<0?null:this.at(f/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,r,i,o,s,a,l,c,f,p,m,v,x,S,_){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,s,a,l,c,f,p,m,v,x,S,_)}set(e,t,r,i,o,s,a,l,c,f,p,m,v,x,S,_){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=o,y[5]=s,y[9]=a,y[13]=l,y[2]=c,y[6]=f,y[10]=p,y[14]=m,y[3]=v,y[7]=x,y[11]=S,y[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Jh.setFromMatrixColumn(e,0).length(),o=1/Jh.setFromMatrixColumn(e,1).length(),s=1/Jh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(o),p=Math.sin(o);if(e.order==="XYZ"){const m=s*f,v=s*p,x=a*f,S=a*p;t[0]=l*f,t[4]=-l*p,t[8]=c,t[1]=v+x*c,t[5]=m-S*c,t[9]=-a*l,t[2]=S-m*c,t[6]=x+v*c,t[10]=s*l}else if(e.order==="YXZ"){const m=l*f,v=l*p,x=c*f,S=c*p;t[0]=m+S*a,t[4]=x*a-v,t[8]=s*c,t[1]=s*p,t[5]=s*f,t[9]=-a,t[2]=v*a-x,t[6]=S+m*a,t[10]=s*l}else if(e.order==="ZXY"){const m=l*f,v=l*p,x=c*f,S=c*p;t[0]=m-S*a,t[4]=-s*p,t[8]=x+v*a,t[1]=v+x*a,t[5]=s*f,t[9]=S-m*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const m=s*f,v=s*p,x=a*f,S=a*p;t[0]=l*f,t[4]=x*c-v,t[8]=m*c+S,t[1]=l*p,t[5]=S*c+m,t[9]=v*c-x,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const m=s*l,v=s*c,x=a*l,S=a*c;t[0]=l*f,t[4]=S-m*p,t[8]=x*p+v,t[1]=p,t[5]=s*f,t[9]=-a*f,t[2]=-c*f,t[6]=v*p+x,t[10]=m-S*p}else if(e.order==="XZY"){const m=s*l,v=s*c,x=a*l,S=a*c;t[0]=l*f,t[4]=-p,t[8]=c*f,t[1]=m*p+S,t[5]=s*f,t[9]=v*p-x,t[2]=x*p-v,t[6]=a*f,t[10]=S*p+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(D6,e,F6)}lookAt(e,t,r){const i=this.elements;return $s.subVectors(e,t),$s.lengthSq()===0&&($s.z=1),$s.normalize(),Ru.crossVectors(r,$s),Ru.lengthSq()===0&&(Math.abs(r.z)===1?$s.x+=1e-4:$s.z+=1e-4,$s.normalize(),Ru.crossVectors(r,$s)),Ru.normalize(),ix.crossVectors($s,Ru),i[0]=Ru.x,i[4]=ix.x,i[8]=$s.x,i[1]=Ru.y,i[5]=ix.y,i[9]=$s.y,i[2]=Ru.z,i[6]=ix.z,i[10]=$s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],f=r[1],p=r[5],m=r[9],v=r[13],x=r[2],S=r[6],_=r[10],y=r[14],A=r[3],w=r[7],E=r[11],I=r[15],P=i[0],L=i[4],U=i[8],F=i[12],O=i[1],G=i[5],te=i[9],Z=i[13],ie=i[2],se=i[6],K=i[10],X=i[14],N=i[3],j=i[7],J=i[11],re=i[15];return o[0]=s*P+a*O+l*ie+c*N,o[4]=s*L+a*G+l*se+c*j,o[8]=s*U+a*te+l*K+c*J,o[12]=s*F+a*Z+l*X+c*re,o[1]=f*P+p*O+m*ie+v*N,o[5]=f*L+p*G+m*se+v*j,o[9]=f*U+p*te+m*K+v*J,o[13]=f*F+p*Z+m*X+v*re,o[2]=x*P+S*O+_*ie+y*N,o[6]=x*L+S*G+_*se+y*j,o[10]=x*U+S*te+_*K+y*J,o[14]=x*F+S*Z+_*X+y*re,o[3]=A*P+w*O+E*ie+I*N,o[7]=A*L+w*G+E*se+I*j,o[11]=A*U+w*te+E*K+I*J,o[15]=A*F+w*Z+E*X+I*re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],f=e[2],p=e[6],m=e[10],v=e[14],x=e[3],S=e[7],_=e[11],y=e[15];return x*(+o*l*p-i*c*p-o*a*m+r*c*m+i*a*v-r*l*v)+S*(+t*l*v-t*c*m+o*s*m-i*s*v+i*c*f-o*l*f)+_*(+t*c*p-t*a*v-o*s*p+r*s*v+o*a*f-r*c*f)+y*(-i*a*f-t*l*p+t*a*m+i*s*p-r*s*m+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],f=e[8],p=e[9],m=e[10],v=e[11],x=e[12],S=e[13],_=e[14],y=e[15],A=p*_*c-S*m*c+S*l*v-a*_*v-p*l*y+a*m*y,w=x*m*c-f*_*c-x*l*v+s*_*v+f*l*y-s*m*y,E=f*S*c-x*p*c+x*a*v-s*S*v-f*a*y+s*p*y,I=x*p*l-f*S*l-x*a*m+s*S*m+f*a*_-s*p*_,P=t*A+r*w+i*E+o*I;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=A*L,e[1]=(S*m*o-p*_*o-S*i*v+r*_*v+p*i*y-r*m*y)*L,e[2]=(a*_*o-S*l*o+S*i*c-r*_*c-a*i*y+r*l*y)*L,e[3]=(p*l*o-a*m*o-p*i*c+r*m*c+a*i*v-r*l*v)*L,e[4]=w*L,e[5]=(f*_*o-x*m*o+x*i*v-t*_*v-f*i*y+t*m*y)*L,e[6]=(x*l*o-s*_*o-x*i*c+t*_*c+s*i*y-t*l*y)*L,e[7]=(s*m*o-f*l*o+f*i*c-t*m*c-s*i*v+t*l*v)*L,e[8]=E*L,e[9]=(x*p*o-f*S*o-x*r*v+t*S*v+f*r*y-t*p*y)*L,e[10]=(s*S*o-x*a*o+x*r*c-t*S*c-s*r*y+t*a*y)*L,e[11]=(f*a*o-s*p*o-f*r*c+t*p*c+s*r*v-t*a*v)*L,e[12]=I*L,e[13]=(f*S*i-x*p*i+x*r*m-t*S*m-f*r*_+t*p*_)*L,e[14]=(x*a*i-s*S*i-x*r*l+t*S*l+s*r*_-t*a*_)*L,e[15]=(s*p*i-f*a*i+f*r*l-t*p*l-s*r*m+t*a*m)*L,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,f=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,f*a+r,f*l-i*s,0,c*l-i*a,f*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,f=s+s,p=a+a,m=o*c,v=o*f,x=o*p,S=s*f,_=s*p,y=a*p,A=l*c,w=l*f,E=l*p,I=r.x,P=r.y,L=r.z;return i[0]=(1-(S+y))*I,i[1]=(v+E)*I,i[2]=(x-w)*I,i[3]=0,i[4]=(v-E)*P,i[5]=(1-(m+y))*P,i[6]=(_+A)*P,i[7]=0,i[8]=(x+w)*L,i[9]=(_-A)*L,i[10]=(1-(m+S))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=Jh.set(i[0],i[1],i[2]).length();const s=Jh.set(i[4],i[5],i[6]).length(),a=Jh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],rl.copy(this);const c=1/o,f=1/s,p=1/a;return rl.elements[0]*=c,rl.elements[1]*=c,rl.elements[2]*=c,rl.elements[4]*=f,rl.elements[5]*=f,rl.elements[6]*=f,rl.elements[8]*=p,rl.elements[9]*=p,rl.elements[10]*=p,t.setFromRotationMatrix(rl),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s,a=Vl){const l=this.elements,c=2*o/(t-e),f=2*o/(r-i),p=(t+e)/(t-e),m=(r+i)/(r-i);let v,x;if(a===Vl)v=-(s+o)/(s-o),x=-2*s*o/(s-o);else if(a===Xv)v=-s/(s-o),x=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=f,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,o,s,a=Vl){const l=this.elements,c=1/(t-e),f=1/(r-i),p=1/(s-o),m=(t+e)*c,v=(r+i)*f;let x,S;if(a===Vl)x=(s+o)*p,S=-2*p;else if(a===Xv)x=o*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Jh=new ee,rl=new an,D6=new ee(0,0,0),F6=new ee(1,1,1),Ru=new ee,ix=new ee,$s=new ee,M2=new an,w2=new uo;class la{constructor(e=0,t=0,r=0,i=la.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],f=i[9],p=i[2],m=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(hi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-hi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,o),this._z=0);break;case"ZXY":this._x=Math.asin(hi(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-hi(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(hi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-hi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return M2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(M2,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return w2.setFromEuler(this),this.setFromQuaternion(w2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}la.DEFAULT_ORDER="XYZ";class Fd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let N6=0;const C2=new ee,Yh=new uo,xc=new an,ox=new ee,Dg=new ee,U6=new ee,k6=new uo,E2=new ee(1,0,0),b2=new ee(0,1,0),T2=new ee(0,0,1),R2={type:"added"},z6={type:"removed"},qh={type:"childadded",child:null},aM={type:"childremoved",child:null};class or extends Zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N6++}),this.uuid=sa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=or.DEFAULT_UP.clone();const e=new ee,t=new la,r=new uo,i=new ee(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new an},normalMatrix:{value:new Ln}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=or.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=or.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Fd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Yh.setFromAxisAngle(e,t),this.quaternion.multiply(Yh),this}rotateOnWorldAxis(e,t){return Yh.setFromAxisAngle(e,t),this.quaternion.premultiply(Yh),this}rotateX(e){return this.rotateOnAxis(E2,e)}rotateY(e){return this.rotateOnAxis(b2,e)}rotateZ(e){return this.rotateOnAxis(T2,e)}translateOnAxis(e,t){return C2.copy(e).applyQuaternion(this.quaternion),this.position.add(C2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(E2,e)}translateY(e){return this.translateOnAxis(b2,e)}translateZ(e){return this.translateOnAxis(T2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?ox.copy(e):ox.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Dg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xc.lookAt(Dg,ox,this.up):xc.lookAt(ox,Dg,this.up),this.quaternion.setFromRotationMatrix(xc),i&&(xc.extractRotation(i.matrixWorld),Yh.setFromRotationMatrix(xc),this.quaternion.premultiply(Yh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(R2),qh.child=e,this.dispatchEvent(qh),qh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(z6),aM.child=e,this.dispatchEvent(aM),aM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xc.multiply(e.parent.matrixWorld)),e.applyMatrix4(xc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(R2),qh.child=e,this.dispatchEvent(qh),qh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dg,e,U6),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dg,k6,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const o=t[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const p=l[c];o(e.shapes,p)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),f=s(e.images),p=s(e.shapes),m=s(e.skeletons),v=s(e.animations),x=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function s(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}or.DEFAULT_UP=new ee(0,1,0);or.DEFAULT_MATRIX_AUTO_UPDATE=!0;or.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const il=new ee,_c=new ee,lM=new ee,Sc=new ee,Qh=new ee,Zh=new ee,P2=new ee,cM=new ee,uM=new ee,fM=new ee;class Zs{constructor(e=new ee,t=new ee,r=new ee){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),il.subVectors(e,t),i.cross(il);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){il.subVectors(i,t),_c.subVectors(r,t),lM.subVectors(e,t);const s=il.dot(il),a=il.dot(_c),l=il.dot(lM),c=_c.dot(_c),f=_c.dot(lM),p=s*c-a*a;if(p===0)return o.set(0,0,0),null;const m=1/p,v=(c*l-a*f)*m,x=(s*f-a*l)*m;return o.set(1-v-x,x,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Sc)===null?!1:Sc.x>=0&&Sc.y>=0&&Sc.x+Sc.y<=1}static getInterpolation(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,Sc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Sc.x),l.addScaledVector(s,Sc.y),l.addScaledVector(a,Sc.z),l)}static isFrontFacing(e,t,r,i){return il.subVectors(r,t),_c.subVectors(e,t),il.cross(_c).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return il.subVectors(this.c,this.b),_c.subVectors(this.a,this.b),il.cross(_c).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,o){return Zs.getInterpolation(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Zs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;Qh.subVectors(i,r),Zh.subVectors(o,r),cM.subVectors(e,r);const l=Qh.dot(cM),c=Zh.dot(cM);if(l<=0&&c<=0)return t.copy(r);uM.subVectors(e,i);const f=Qh.dot(uM),p=Zh.dot(uM);if(f>=0&&p<=f)return t.copy(i);const m=l*p-f*c;if(m<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(r).addScaledVector(Qh,s);fM.subVectors(e,o);const v=Qh.dot(fM),x=Zh.dot(fM);if(x>=0&&v<=x)return t.copy(o);const S=v*c-l*x;if(S<=0&&c>=0&&x<=0)return a=c/(c-x),t.copy(r).addScaledVector(Zh,a);const _=f*x-v*p;if(_<=0&&p-f>=0&&v-x>=0)return P2.subVectors(o,i),a=(p-f)/(p-f+(v-x)),t.copy(i).addScaledVector(P2,a);const y=1/(_+S+m);return s=S*y,a=m*y,t.copy(r).addScaledVector(Qh,s).addScaledVector(Zh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const RN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pu={h:0,s:0,l:0},sx={h:0,s:0,l:0};function dM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class bt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ia){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ur.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ur.workingColorSpace){return this.r=e,this.g=t,this.b=r,ur.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ur.workingColorSpace){if(e=lT(e,1),t=hi(t,0,1),r=hi(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,s=2*r-o;this.r=dM(s,o,e+1/3),this.g=dM(s,o,e),this.b=dM(s,o,e-1/3)}return ur.toWorkingColorSpace(this,i),this}setStyle(e,t=Ia){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ia){const r=RN[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qp(e.r),this.g=Qp(e.g),this.b=Qp(e.b),this}copyLinearToSRGB(e){return this.r=ZA(e.r),this.g=ZA(e.g),this.b=ZA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ia){return ur.fromWorkingColorSpace(To.copy(this),e),Math.round(hi(To.r*255,0,255))*65536+Math.round(hi(To.g*255,0,255))*256+Math.round(hi(To.b*255,0,255))}getHexString(e=Ia){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ur.workingColorSpace){ur.fromWorkingColorSpace(To.copy(this),t);const r=To.r,i=To.g,o=To.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const f=(a+s)/2;if(a===s)l=0,c=0;else{const p=s-a;switch(c=f<=.5?p/(s+a):p/(2-s-a),s){case r:l=(i-o)/p+(i<o?6:0);break;case i:l=(o-r)/p+2;break;case o:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=ur.workingColorSpace){return ur.fromWorkingColorSpace(To.copy(this),t),e.r=To.r,e.g=To.g,e.b=To.b,e}getStyle(e=Ia){ur.fromWorkingColorSpace(To.copy(this),e);const t=To.r,r=To.g,i=To.b;return e!==Ia?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Pu),this.setHSL(Pu.h+e,Pu.s+t,Pu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Pu),e.getHSL(sx);const r=mv(Pu.h,sx.h,t),i=mv(Pu.s,sx.s,t),o=mv(Pu.l,sx.l,t);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*i,this.g=o[1]*t+o[4]*r+o[7]*i,this.b=o[2]*t+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const To=new bt;bt.NAMES=RN;let H6=0;class Fi extends Zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:H6++}),this.uuid=sa(),this.name="",this.type="Material",this.blending=Ld,this.side=Yl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=cS,this.blendDst=uS,this.blendEquation=Hu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=Uv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=eE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dd,this.stencilZFail=dd,this.stencilZPass=dd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ld&&(r.blending=this.blending),this.side!==Yl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==cS&&(r.blendSrc=this.blendSrc),this.blendDst!==uS&&(r.blendDst=this.blendDst),this.blendEquation!==Hu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Uv&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==eE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==dd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==dd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ra extends Fi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new la,this.combine=p0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Bc=G6();function G6(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,o[l]=c|f}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Ss(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=hi(n,-65504,65504),Bc.floatView[0]=n;const e=Bc.uint32View[0],t=e>>23&511;return Bc.baseTable[t]+((e&8388607)>>Bc.shiftTable[t])}function nv(n){const e=n>>10;return Bc.uint32View[0]=Bc.mantissaTable[Bc.offsetTable[e]+(n&1023)]+Bc.exponentTable[e],Bc.floatView[0]}const V6={toHalfFloat:Ss,fromHalfFloat:nv},Li=new ee,ax=new Ye;class jn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=jv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=na,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return cT("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ax.fromBufferAttribute(this,t),ax.applyMatrix3(e),this.setXY(t,ax.x,ax.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix3(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=qo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=kn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qo(t,this.array)),t}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qo(t,this.array)),t}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qo(t,this.array)),t}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array),o=kn(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==jv&&(e.usage=this.usage),e}}class W6 extends jn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class $6 extends jn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class j6 extends jn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class X6 extends jn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class fT extends jn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class K6 extends jn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class dT extends jn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class J6 extends jn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=nv(this.array[e*this.itemSize]);return this.normalized&&(t=qo(t,this.array)),t}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize]=Ss(t),this}getY(e){let t=nv(this.array[e*this.itemSize+1]);return this.normalized&&(t=qo(t,this.array)),t}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+1]=Ss(t),this}getZ(e){let t=nv(this.array[e*this.itemSize+2]);return this.normalized&&(t=qo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+2]=Ss(t),this}getW(e){let t=nv(this.array[e*this.itemSize+3]);return this.normalized&&(t=qo(t,this.array)),t}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+3]=Ss(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array)),this.array[e+0]=Ss(t),this.array[e+1]=Ss(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array)),this.array[e+0]=Ss(t),this.array[e+1]=Ss(r),this.array[e+2]=Ss(i),this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array),o=kn(o,this.array)),this.array[e+0]=Ss(t),this.array[e+1]=Ss(r),this.array[e+2]=Ss(i),this.array[e+3]=Ss(o),this}}class Qt extends jn{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Y6=0;const Ea=new an,hM=new or,ep=new ee,js=new Io,Fg=new Io,io=new ee;class Pn extends Zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Y6++}),this.uuid=sa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(CN(e)?dT:fT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ln().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ea.makeRotationFromQuaternion(e),this.applyMatrix4(Ea),this}rotateX(e){return Ea.makeRotationX(e),this.applyMatrix4(Ea),this}rotateY(e){return Ea.makeRotationY(e),this.applyMatrix4(Ea),this}rotateZ(e){return Ea.makeRotationZ(e),this.applyMatrix4(Ea),this}translate(e,t,r){return Ea.makeTranslation(e,t,r),this.applyMatrix4(Ea),this}scale(e,t,r){return Ea.makeScale(e,t,r),this.applyMatrix4(Ea),this}lookAt(e){return hM.lookAt(e),hM.updateMatrix(),this.applyMatrix4(hM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ep).negate(),this.translate(ep.x,ep.y,ep.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Qt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Io);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];js.setFromBufferAttribute(o),this.morphTargetsRelative?(io.addVectors(this.boundingBox.min,js.min),this.boundingBox.expandByPoint(io),io.addVectors(this.boundingBox.max,js.max),this.boundingBox.expandByPoint(io)):(this.boundingBox.expandByPoint(js.min),this.boundingBox.expandByPoint(js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const r=this.boundingSphere.center;if(js.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];Fg.setFromBufferAttribute(a),this.morphTargetsRelative?(io.addVectors(js.min,Fg.min),js.expandByPoint(io),io.addVectors(js.max,Fg.max),js.expandByPoint(io)):(js.expandByPoint(Fg.min),js.expandByPoint(Fg.max))}js.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)io.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(io));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)io.fromBufferAttribute(a,c),l&&(ep.fromBufferAttribute(e,c),io.add(ep)),i=Math.max(i,r.distanceToSquared(io))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jn(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let U=0;U<r.count;U++)a[U]=new ee,l[U]=new ee;const c=new ee,f=new ee,p=new ee,m=new Ye,v=new Ye,x=new Ye,S=new ee,_=new ee;function y(U,F,O){c.fromBufferAttribute(r,U),f.fromBufferAttribute(r,F),p.fromBufferAttribute(r,O),m.fromBufferAttribute(o,U),v.fromBufferAttribute(o,F),x.fromBufferAttribute(o,O),f.sub(c),p.sub(c),v.sub(m),x.sub(m);const G=1/(v.x*x.y-x.x*v.y);isFinite(G)&&(S.copy(f).multiplyScalar(x.y).addScaledVector(p,-v.y).multiplyScalar(G),_.copy(p).multiplyScalar(v.x).addScaledVector(f,-x.x).multiplyScalar(G),a[U].add(S),a[F].add(S),a[O].add(S),l[U].add(_),l[F].add(_),l[O].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let U=0,F=A.length;U<F;++U){const O=A[U],G=O.start,te=O.count;for(let Z=G,ie=G+te;Z<ie;Z+=3)y(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}const w=new ee,E=new ee,I=new ee,P=new ee;function L(U){I.fromBufferAttribute(i,U),P.copy(I);const F=a[U];w.copy(F),w.sub(I.multiplyScalar(I.dot(F))).normalize(),E.crossVectors(P,F);const G=E.dot(l[U])<0?-1:1;s.setXYZW(U,w.x,w.y,w.z,G)}for(let U=0,F=A.length;U<F;++U){const O=A[U],G=O.start,te=O.count;for(let Z=G,ie=G+te;Z<ie;Z+=3)L(e.getX(Z+0)),L(e.getX(Z+1)),L(e.getX(Z+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new ee,o=new ee,s=new ee,a=new ee,l=new ee,c=new ee,f=new ee,p=new ee;if(e)for(let m=0,v=e.count;m<v;m+=3){const x=e.getX(m+0),S=e.getX(m+1),_=e.getX(m+2);i.fromBufferAttribute(t,x),o.fromBufferAttribute(t,S),s.fromBufferAttribute(t,_),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),a.fromBufferAttribute(r,x),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,_),a.add(f),l.add(f),c.add(f),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let m=0,v=t.count;m<v;m+=3)i.fromBufferAttribute(t,m+0),o.fromBufferAttribute(t,m+1),s.fromBufferAttribute(t,m+2),f.subVectors(s,o),p.subVectors(i,o),f.cross(p),r.setXYZ(m+0,f.x,f.y,f.z),r.setXYZ(m+1,f.x,f.y,f.z),r.setXYZ(m+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)io.fromBufferAttribute(e,t),io.normalize(),e.setXYZ(t,io.x,io.y,io.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,p=a.normalized,m=new c.constructor(l.length*f);let v=0,x=0;for(let S=0,_=l.length;S<_;S++){a.isInterleavedBufferAttribute?v=l[S]*a.data.stride+a.offset:v=l[S]*f;for(let y=0;y<f;y++)m[x++]=c[v++]}return new jn(m,f,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let f=0,p=c.length;f<p;f++){const m=c[f],v=e(m,r);l.push(v)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let p=0,m=c.length;p<m;p++){const v=c[p];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const o=e.morphAttributes;for(const c in o){const f=[],p=o[c];for(let m=0,v=p.length;m<v;m++)f.push(p[m].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,f=s.length;c<f;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const I2=new an,qf=new sh,lx=new vo,B2=new ee,tp=new ee,np=new ee,rp=new ee,pM=new ee,cx=new ee,ux=new Ye,fx=new Ye,dx=new Ye,L2=new ee,O2=new ee,D2=new ee,hx=new ee,px=new ee;class Ur extends or{constructor(e=new Pn,t=new ra){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){cx.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const f=a[l],p=o[l];f!==0&&(pM.fromBufferAttribute(p,e),s?cx.addScaledVector(pM,f):cx.addScaledVector(pM.sub(t),f))}t.add(cx)}return t}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),lx.copy(r.boundingSphere),lx.applyMatrix4(o),qf.copy(e.ray).recast(e.near),!(lx.containsPoint(qf.origin)===!1&&(qf.intersectSphere(lx,B2)===null||qf.origin.distanceToSquared(B2)>(e.far-e.near)**2))&&(I2.copy(o).invert(),qf.copy(e.ray).applyMatrix4(I2),!(r.boundingBox!==null&&qf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,qf)))}_computeIntersections(e,t,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,f=o.attributes.uv1,p=o.attributes.normal,m=o.groups,v=o.drawRange;if(a!==null)if(Array.isArray(s))for(let x=0,S=m.length;x<S;x++){const _=m[x],y=s[_.materialIndex],A=Math.max(_.start,v.start),w=Math.min(a.count,Math.min(_.start+_.count,v.start+v.count));for(let E=A,I=w;E<I;E+=3){const P=a.getX(E),L=a.getX(E+1),U=a.getX(E+2);i=mx(this,y,e,r,c,f,p,P,L,U),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,v.start),S=Math.min(a.count,v.start+v.count);for(let _=x,y=S;_<y;_+=3){const A=a.getX(_),w=a.getX(_+1),E=a.getX(_+2);i=mx(this,s,e,r,c,f,p,A,w,E),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let x=0,S=m.length;x<S;x++){const _=m[x],y=s[_.materialIndex],A=Math.max(_.start,v.start),w=Math.min(l.count,Math.min(_.start+_.count,v.start+v.count));for(let E=A,I=w;E<I;E+=3){const P=E,L=E+1,U=E+2;i=mx(this,y,e,r,c,f,p,P,L,U),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const x=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let _=x,y=S;_<y;_+=3){const A=_,w=_+1,E=_+2;i=mx(this,s,e,r,c,f,p,A,w,E),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function q6(n,e,t,r,i,o,s,a){let l;if(e.side===es?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Yl,a),l===null)return null;px.copy(a),px.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(px);return c<t.near||c>t.far?null:{distance:c,point:px.clone(),object:n}}function mx(n,e,t,r,i,o,s,a,l,c){n.getVertexPosition(a,tp),n.getVertexPosition(l,np),n.getVertexPosition(c,rp);const f=q6(n,e,t,r,tp,np,rp,hx);if(f){i&&(ux.fromBufferAttribute(i,a),fx.fromBufferAttribute(i,l),dx.fromBufferAttribute(i,c),f.uv=Zs.getInterpolation(hx,tp,np,rp,ux,fx,dx,new Ye)),o&&(ux.fromBufferAttribute(o,a),fx.fromBufferAttribute(o,l),dx.fromBufferAttribute(o,c),f.uv1=Zs.getInterpolation(hx,tp,np,rp,ux,fx,dx,new Ye)),s&&(L2.fromBufferAttribute(s,a),O2.fromBufferAttribute(s,l),D2.fromBufferAttribute(s,c),f.normal=Zs.getInterpolation(hx,tp,np,rp,L2,O2,D2,new ee),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new ee,materialIndex:0};Zs.getNormal(tp,np,rp,p.normal),f.face=p}return f}class ah extends Pn{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],f=[],p=[];let m=0,v=0;x("z","y","x",-1,-1,r,t,e,s,o,0),x("z","y","x",1,-1,r,t,-e,s,o,1),x("x","z","y",1,1,e,r,t,i,s,2),x("x","z","y",1,-1,e,r,-t,i,s,3),x("x","y","z",1,-1,e,t,r,i,o,4),x("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Qt(c,3)),this.setAttribute("normal",new Qt(f,3)),this.setAttribute("uv",new Qt(p,2));function x(S,_,y,A,w,E,I,P,L,U,F){const O=E/L,G=I/U,te=E/2,Z=I/2,ie=P/2,se=L+1,K=U+1;let X=0,N=0;const j=new ee;for(let J=0;J<K;J++){const re=J*G-Z;for(let pe=0;pe<se;pe++){const Me=pe*O-te;j[S]=Me*A,j[_]=re*w,j[y]=ie,c.push(j.x,j.y,j.z),j[S]=0,j[_]=0,j[y]=P>0?1:-1,f.push(j.x,j.y,j.z),p.push(pe/L),p.push(1-J/U),X+=1}}for(let J=0;J<U;J++)for(let re=0;re<L;re++){const pe=m+re+se*J,Me=m+re+se*(J+1),de=m+(re+1)+se*(J+1),Ce=m+(re+1)+se*J;l.push(pe,Me,Ce),l.push(Me,de,Ce),N+=6}a.addGroup(v,N,F),v+=N,m+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ah(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function pm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Jo(n){const e={};for(let t=0;t<n.length;t++){const r=pm(n[t]);for(const i in r)e[i]=r[i]}return e}function Q6(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function PN(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ur.workingColorSpace}const IN={clone:pm,merge:Jo};var Z6=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ka extends Fi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Z6,this.fragmentShader=eW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pm(e.uniforms),this.uniformsGroups=Q6(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class v0 extends or{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Vl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Iu=new ee,F2=new Ye,N2=new Ye;class ti extends v0{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=hm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Dd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return hm*2*Math.atan(Math.tan(Dd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Iu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Iu.x,Iu.y).multiplyScalar(-e/Iu.z),Iu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Iu.x,Iu.y).multiplyScalar(-e/Iu.z)}getViewSize(e,t){return this.getViewBounds(e,F2,N2),t.subVectors(N2,F2)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Dd*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ip=-90,op=1;class BN extends or{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ti(ip,op,e,t);i.layers=this.layers,this.add(i);const o=new ti(ip,op,e,t);o.layers=this.layers,this.add(o);const s=new ti(ip,op,e,t);s.layers=this.layers,this.add(s);const a=new ti(ip,op,e,t);a.layers=this.layers,this.add(a);const l=new ti(ip,op,e,t);l.layers=this.layers,this.add(l);const c=new ti(ip,op,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,o,s,a,l]=t;for(const c of t)this.remove(c);if(e===Vl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Xv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,f]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,o),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,f),e.setRenderTarget(p,m,v),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class y0 extends Ir{constructor(e,t,r,i,o,s,a,l,c,f){e=e!==void 0?e:[],t=t!==void 0?t:jc,super(e,t,r,i,o,s,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LN extends xl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new y0(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:pi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ah(5,5,5),o=new ka({name:"CubemapFromEquirect",uniforms:pm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:es,blending:Uc});o.uniforms.tEquirect.value=t;const s=new Ur(i,o),a=t.minFilter;return t.minFilter===Da&&(t.minFilter=pi),new BN(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}const mM=new ee,tW=new ee,nW=new Ln;let Tc=class{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=mM.subVectors(r,t).cross(tW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(mM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||nW.getNormalMatrix(e),i=this.coplanarPoint(mM).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Qf=new vo,gx=new ee;class x0{constructor(e=new Tc,t=new Tc,r=new Tc,i=new Tc,o=new Tc,s=new Tc){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Vl){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],f=i[5],p=i[6],m=i[7],v=i[8],x=i[9],S=i[10],_=i[11],y=i[12],A=i[13],w=i[14],E=i[15];if(r[0].setComponents(l-o,m-c,_-v,E-y).normalize(),r[1].setComponents(l+o,m+c,_+v,E+y).normalize(),r[2].setComponents(l+s,m+f,_+x,E+A).normalize(),r[3].setComponents(l-s,m-f,_-x,E-A).normalize(),r[4].setComponents(l-a,m-p,_-S,E-w).normalize(),t===Vl)r[5].setComponents(l+a,m+p,_+S,E+w).normalize();else if(t===Xv)r[5].setComponents(a,p,S,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Qf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qf)}intersectsSprite(e){return Qf.center.set(0,0,0),Qf.radius=.7071067811865476,Qf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(gx.x=i.normal.x>0?e.max.x:e.min.x,gx.y=i.normal.y>0?e.max.y:e.min.y,gx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(gx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ON(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function rW(n){const e=new WeakMap;function t(a,l){const c=a.array,f=a.usage,p=c.byteLength,m=n.createBuffer();n.bindBuffer(l,m),n.bufferData(l,c,f),a.onUploadCallback();let v;if(c instanceof Float32Array)v=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=n.SHORT;else if(c instanceof Uint32Array)v=n.UNSIGNED_INT;else if(c instanceof Int32Array)v=n.INT;else if(c instanceof Int8Array)v=n.BYTE;else if(c instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:m,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:p}}function r(a,l,c){const f=l.array,p=l._updateRange,m=l.updateRanges;if(n.bindBuffer(c,a),p.count===-1&&m.length===0&&n.bufferSubData(c,0,f),m.length!==0){for(let v=0,x=m.length;v<x;v++){const S=m[v];n.bufferSubData(c,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}l.clearUpdateRanges()}p.count!==-1&&(n.bufferSubData(c,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count),p.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class lf extends Pn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,f=l+1,p=e/a,m=t/l,v=[],x=[],S=[],_=[];for(let y=0;y<f;y++){const A=y*m-s;for(let w=0;w<c;w++){const E=w*p-o;x.push(E,-A,0),S.push(0,0,1),_.push(w/a),_.push(1-y/l)}}for(let y=0;y<l;y++)for(let A=0;A<a;A++){const w=A+c*y,E=A+c*(y+1),I=A+1+c*(y+1),P=A+1+c*y;v.push(w,E,P),v.push(E,I,P)}this.setIndex(v),this.setAttribute("position",new Qt(x,3)),this.setAttribute("normal",new Qt(S,3)),this.setAttribute("uv",new Qt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.width,e.height,e.widthSegments,e.heightSegments)}}var iW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,oW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,sW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,aW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lW=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,cW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,uW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dW=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,pW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,mW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,_W=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,SW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,AW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,MW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,CW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,EW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,bW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,TW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,RW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,PW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,IW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,BW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,LW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,OW="gl_FragColor = linearToOutputTexel( gl_FragColor );",DW=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,FW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,UW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,HW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,WW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$W=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,XW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,KW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,JW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,YW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,qW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,QW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,e$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,t$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,n$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,r$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,i$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,o$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,s$=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,a$=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,l$=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,c$=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,u$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,f$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,d$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,h$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,m$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,g$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,v$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,y$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,x$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,_$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,S$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,A$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,M$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,w$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,C$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,E$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,b$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,T$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,R$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,P$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,I$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,B$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,L$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,O$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,D$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,F$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,N$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,U$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,k$=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,z$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,H$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,G$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,V$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,W$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,j$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,X$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,K$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,J$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Y$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,q$=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Q$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Z$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ej=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ij=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_j=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Aj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Cj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ej=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Tj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ij=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Bj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lj=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hn={alphahash_fragment:iW,alphahash_pars_fragment:oW,alphamap_fragment:sW,alphamap_pars_fragment:aW,alphatest_fragment:lW,alphatest_pars_fragment:cW,aomap_fragment:uW,aomap_pars_fragment:fW,batching_pars_vertex:dW,batching_vertex:hW,begin_vertex:pW,beginnormal_vertex:mW,bsdfs:gW,iridescence_fragment:vW,bumpmap_pars_fragment:yW,clipping_planes_fragment:xW,clipping_planes_pars_fragment:_W,clipping_planes_pars_vertex:SW,clipping_planes_vertex:AW,color_fragment:MW,color_pars_fragment:wW,color_pars_vertex:CW,color_vertex:EW,common:bW,cube_uv_reflection_fragment:TW,defaultnormal_vertex:RW,displacementmap_pars_vertex:PW,displacementmap_vertex:IW,emissivemap_fragment:BW,emissivemap_pars_fragment:LW,colorspace_fragment:OW,colorspace_pars_fragment:DW,envmap_fragment:FW,envmap_common_pars_fragment:NW,envmap_pars_fragment:UW,envmap_pars_vertex:kW,envmap_physical_pars_fragment:YW,envmap_vertex:zW,fog_vertex:HW,fog_pars_vertex:GW,fog_fragment:VW,fog_pars_fragment:WW,gradientmap_pars_fragment:$W,lightmap_pars_fragment:jW,lights_lambert_fragment:XW,lights_lambert_pars_fragment:KW,lights_pars_begin:JW,lights_toon_fragment:qW,lights_toon_pars_fragment:QW,lights_phong_fragment:ZW,lights_phong_pars_fragment:e$,lights_physical_fragment:t$,lights_physical_pars_fragment:n$,lights_fragment_begin:r$,lights_fragment_maps:i$,lights_fragment_end:o$,logdepthbuf_fragment:s$,logdepthbuf_pars_fragment:a$,logdepthbuf_pars_vertex:l$,logdepthbuf_vertex:c$,map_fragment:u$,map_pars_fragment:f$,map_particle_fragment:d$,map_particle_pars_fragment:h$,metalnessmap_fragment:p$,metalnessmap_pars_fragment:m$,morphinstance_vertex:g$,morphcolor_vertex:v$,morphnormal_vertex:y$,morphtarget_pars_vertex:x$,morphtarget_vertex:_$,normal_fragment_begin:S$,normal_fragment_maps:A$,normal_pars_fragment:M$,normal_pars_vertex:w$,normal_vertex:C$,normalmap_pars_fragment:E$,clearcoat_normal_fragment_begin:b$,clearcoat_normal_fragment_maps:T$,clearcoat_pars_fragment:R$,iridescence_pars_fragment:P$,opaque_fragment:I$,packing:B$,premultiplied_alpha_fragment:L$,project_vertex:O$,dithering_fragment:D$,dithering_pars_fragment:F$,roughnessmap_fragment:N$,roughnessmap_pars_fragment:U$,shadowmap_pars_fragment:k$,shadowmap_pars_vertex:z$,shadowmap_vertex:H$,shadowmask_pars_fragment:G$,skinbase_vertex:V$,skinning_pars_vertex:W$,skinning_vertex:$$,skinnormal_vertex:j$,specularmap_fragment:X$,specularmap_pars_fragment:K$,tonemapping_fragment:J$,tonemapping_pars_fragment:Y$,transmission_fragment:q$,transmission_pars_fragment:Q$,uv_pars_fragment:Z$,uv_pars_vertex:ej,uv_vertex:tj,worldpos_vertex:nj,background_vert:rj,background_frag:ij,backgroundCube_vert:oj,backgroundCube_frag:sj,cube_vert:aj,cube_frag:lj,depth_vert:cj,depth_frag:uj,distanceRGBA_vert:fj,distanceRGBA_frag:dj,equirect_vert:hj,equirect_frag:pj,linedashed_vert:mj,linedashed_frag:gj,meshbasic_vert:vj,meshbasic_frag:yj,meshlambert_vert:xj,meshlambert_frag:_j,meshmatcap_vert:Sj,meshmatcap_frag:Aj,meshnormal_vert:Mj,meshnormal_frag:wj,meshphong_vert:Cj,meshphong_frag:Ej,meshphysical_vert:bj,meshphysical_frag:Tj,meshtoon_vert:Rj,meshtoon_frag:Pj,points_vert:Ij,points_frag:Bj,shadow_vert:Lj,shadow_frag:Oj,sprite_vert:Dj,sprite_frag:Fj},Pt={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ln},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ln}},envmap:{envMap:{value:null},envMapRotation:{value:new Ln},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ln},normalScale:{value:new Ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0},uvTransform:{value:new Ln}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new Ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ln},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0}}},hl={basic:{uniforms:Jo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Hn.meshbasic_vert,fragmentShader:Hn.meshbasic_frag},lambert:{uniforms:Jo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new bt(0)}}]),vertexShader:Hn.meshlambert_vert,fragmentShader:Hn.meshlambert_frag},phong:{uniforms:Jo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:Hn.meshphong_vert,fragmentShader:Hn.meshphong_frag},standard:{uniforms:Jo([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag},toon:{uniforms:Jo([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new bt(0)}}]),vertexShader:Hn.meshtoon_vert,fragmentShader:Hn.meshtoon_frag},matcap:{uniforms:Jo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Hn.meshmatcap_vert,fragmentShader:Hn.meshmatcap_frag},points:{uniforms:Jo([Pt.points,Pt.fog]),vertexShader:Hn.points_vert,fragmentShader:Hn.points_frag},dashed:{uniforms:Jo([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hn.linedashed_vert,fragmentShader:Hn.linedashed_frag},depth:{uniforms:Jo([Pt.common,Pt.displacementmap]),vertexShader:Hn.depth_vert,fragmentShader:Hn.depth_frag},normal:{uniforms:Jo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Hn.meshnormal_vert,fragmentShader:Hn.meshnormal_frag},sprite:{uniforms:Jo([Pt.sprite,Pt.fog]),vertexShader:Hn.sprite_vert,fragmentShader:Hn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hn.background_vert,fragmentShader:Hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ln}},vertexShader:Hn.backgroundCube_vert,fragmentShader:Hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hn.cube_vert,fragmentShader:Hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hn.equirect_vert,fragmentShader:Hn.equirect_frag},distanceRGBA:{uniforms:Jo([Pt.common,Pt.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hn.distanceRGBA_vert,fragmentShader:Hn.distanceRGBA_frag},shadow:{uniforms:Jo([Pt.lights,Pt.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:Hn.shadow_vert,fragmentShader:Hn.shadow_frag}};hl.physical={uniforms:Jo([hl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ln},clearcoatNormalScale:{value:new Ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ln},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ln},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ln},transmissionSamplerSize:{value:new Ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ln},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ln},anisotropyVector:{value:new Ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ln}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag};const vx={r:0,b:0,g:0},Zf=new la,Nj=new an;function Uj(n,e,t,r,i,o,s){const a=new bt(0);let l=o===!0?0:1,c,f,p=null,m=0,v=null;function x(A){let w=A.isScene===!0?A.background:null;return w&&w.isTexture&&(w=(A.backgroundBlurriness>0?t:e).get(w)),w}function S(A){let w=!1;const E=x(A);E===null?y(a,l):E&&E.isColor&&(y(E,1),w=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?r.buffers.color.setClear(0,0,0,1,s):I==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function _(A,w){const E=x(w);E&&(E.isCubeTexture||E.mapping===Rm)?(f===void 0&&(f=new Ur(new ah(1,1,1),new ka({name:"BackgroundCubeMaterial",uniforms:pm(hl.backgroundCube.uniforms),vertexShader:hl.backgroundCube.vertexShader,fragmentShader:hl.backgroundCube.fragmentShader,side:es,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(I,P,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),Zf.copy(w.backgroundRotation),Zf.x*=-1,Zf.y*=-1,Zf.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Zf.y*=-1,Zf.z*=-1),f.material.uniforms.envMap.value=E,f.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(Nj.makeRotationFromEuler(Zf)),f.material.toneMapped=ur.getTransfer(E.colorSpace)!==Dr,(p!==E||m!==E.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),f.layers.enableAll(),A.unshift(f,f.geometry,f.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Ur(new lf(2,2),new ka({name:"BackgroundMaterial",uniforms:pm(hl.background.uniforms),vertexShader:hl.background.vertexShader,fragmentShader:hl.background.fragmentShader,side:Yl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=ur.getTransfer(E.colorSpace)!==Dr,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(p!==E||m!==E.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,p=E,m=E.version,v=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function y(A,w){A.getRGB(vx,PN(n)),r.buffers.color.setClear(vx.r,vx.g,vx.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(A,w=1){a.set(A),l=w,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,y(a,l)},render:S,addToRenderList:_}}function kj(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=m(null);let o=i,s=!1;function a(O,G,te,Z,ie){let se=!1;const K=p(Z,te,G);o!==K&&(o=K,c(o.object)),se=v(O,Z,te,ie),se&&x(O,Z,te,ie),ie!==null&&e.update(ie,n.ELEMENT_ARRAY_BUFFER),(se||s)&&(s=!1,E(O,G,te,Z),ie!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ie).buffer))}function l(){return n.createVertexArray()}function c(O){return n.bindVertexArray(O)}function f(O){return n.deleteVertexArray(O)}function p(O,G,te){const Z=te.wireframe===!0;let ie=r[O.id];ie===void 0&&(ie={},r[O.id]=ie);let se=ie[G.id];se===void 0&&(se={},ie[G.id]=se);let K=se[Z];return K===void 0&&(K=m(l()),se[Z]=K),K}function m(O){const G=[],te=[],Z=[];for(let ie=0;ie<t;ie++)G[ie]=0,te[ie]=0,Z[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:te,attributeDivisors:Z,object:O,attributes:{},index:null}}function v(O,G,te,Z){const ie=o.attributes,se=G.attributes;let K=0;const X=te.getAttributes();for(const N in X)if(X[N].location>=0){const J=ie[N];let re=se[N];if(re===void 0&&(N==="instanceMatrix"&&O.instanceMatrix&&(re=O.instanceMatrix),N==="instanceColor"&&O.instanceColor&&(re=O.instanceColor)),J===void 0||J.attribute!==re||re&&J.data!==re.data)return!0;K++}return o.attributesNum!==K||o.index!==Z}function x(O,G,te,Z){const ie={},se=G.attributes;let K=0;const X=te.getAttributes();for(const N in X)if(X[N].location>=0){let J=se[N];J===void 0&&(N==="instanceMatrix"&&O.instanceMatrix&&(J=O.instanceMatrix),N==="instanceColor"&&O.instanceColor&&(J=O.instanceColor));const re={};re.attribute=J,J&&J.data&&(re.data=J.data),ie[N]=re,K++}o.attributes=ie,o.attributesNum=K,o.index=Z}function S(){const O=o.newAttributes;for(let G=0,te=O.length;G<te;G++)O[G]=0}function _(O){y(O,0)}function y(O,G){const te=o.newAttributes,Z=o.enabledAttributes,ie=o.attributeDivisors;te[O]=1,Z[O]===0&&(n.enableVertexAttribArray(O),Z[O]=1),ie[O]!==G&&(n.vertexAttribDivisor(O,G),ie[O]=G)}function A(){const O=o.newAttributes,G=o.enabledAttributes;for(let te=0,Z=G.length;te<Z;te++)G[te]!==O[te]&&(n.disableVertexAttribArray(te),G[te]=0)}function w(O,G,te,Z,ie,se,K){K===!0?n.vertexAttribIPointer(O,G,te,ie,se):n.vertexAttribPointer(O,G,te,Z,ie,se)}function E(O,G,te,Z){S();const ie=Z.attributes,se=te.getAttributes(),K=G.defaultAttributeValues;for(const X in se){const N=se[X];if(N.location>=0){let j=ie[X];if(j===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(j=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(j=O.instanceColor)),j!==void 0){const J=j.normalized,re=j.itemSize,pe=e.get(j);if(pe===void 0)continue;const Me=pe.buffer,de=pe.type,Ce=pe.bytesPerElement,De=de===n.INT||de===n.UNSIGNED_INT||j.gpuType===Qb;if(j.isInterleavedBufferAttribute){const Pe=j.data,lt=Pe.stride,dt=j.offset;if(Pe.isInstancedInterleavedBuffer){for(let ht=0;ht<N.locationSize;ht++)y(N.location+ht,Pe.meshPerAttribute);O.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let ht=0;ht<N.locationSize;ht++)_(N.location+ht);n.bindBuffer(n.ARRAY_BUFFER,Me);for(let ht=0;ht<N.locationSize;ht++)w(N.location+ht,re/N.locationSize,de,J,lt*Ce,(dt+re/N.locationSize*ht)*Ce,De)}else{if(j.isInstancedBufferAttribute){for(let Pe=0;Pe<N.locationSize;Pe++)y(N.location+Pe,j.meshPerAttribute);O.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let Pe=0;Pe<N.locationSize;Pe++)_(N.location+Pe);n.bindBuffer(n.ARRAY_BUFFER,Me);for(let Pe=0;Pe<N.locationSize;Pe++)w(N.location+Pe,re/N.locationSize,de,J,re*Ce,re/N.locationSize*Pe*Ce,De)}}else if(K!==void 0){const J=K[X];if(J!==void 0)switch(J.length){case 2:n.vertexAttrib2fv(N.location,J);break;case 3:n.vertexAttrib3fv(N.location,J);break;case 4:n.vertexAttrib4fv(N.location,J);break;default:n.vertexAttrib1fv(N.location,J)}}}}A()}function I(){U();for(const O in r){const G=r[O];for(const te in G){const Z=G[te];for(const ie in Z)f(Z[ie].object),delete Z[ie];delete G[te]}delete r[O]}}function P(O){if(r[O.id]===void 0)return;const G=r[O.id];for(const te in G){const Z=G[te];for(const ie in Z)f(Z[ie].object),delete Z[ie];delete G[te]}delete r[O.id]}function L(O){for(const G in r){const te=r[G];if(te[O.id]===void 0)continue;const Z=te[O.id];for(const ie in Z)f(Z[ie].object),delete Z[ie];delete te[O.id]}}function U(){F(),s=!0,o!==i&&(o=i,c(o.object))}function F(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:U,resetDefaultState:F,dispose:I,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:_,disableUnusedAttributes:A}}function zj(n,e,t){let r;function i(c){r=c}function o(c,f){n.drawArrays(r,c,f),t.update(f,r,1)}function s(c,f,p){p!==0&&(n.drawArraysInstanced(r,c,f,p),t.update(f,r,p))}function a(c,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(c[v],f[v]);else{m.multiDrawArraysWEBGL(r,c,0,f,0,p);let v=0;for(let x=0;x<p;x++)v+=f[x];t.update(v,r,1)}}function l(c,f,p,m){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<c.length;x++)s(c[x],f[x],m[x]);else{v.multiDrawArraysInstancedWEBGL(r,c,0,f,0,m,0,p);let x=0;for(let S=0;S<p;S++)x+=f[S];for(let S=0;S<m.length;S++)t.update(x,r,m[S])}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Hj(n,e,t,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(P){return!(P!==Qo&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(P){const L=P===m0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==ql&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==na&&!L)}function l(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const p=t.logarithmicDepthBuffer===!0,m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=v>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:p,maxTextures:m,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:S,maxAttributes:_,maxVertexUniforms:y,maxVaryings:A,maxFragmentUniforms:w,vertexTextures:E,maxSamples:I}}function Gj(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Tc,a=new Ln,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||r!==0||i;return i=m,r=p.length,v},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(p,m){t=f(p,m,0)},this.setState=function(p,m,v){const x=p.clippingPlanes,S=p.clipIntersection,_=p.clipShadows,y=n.get(p);if(!i||x===null||x.length===0||o&&!_)o?f(null):c();else{const A=o?0:r,w=A*4;let E=y.clippingState||null;l.value=E,E=f(x,m,w,v);for(let I=0;I!==w;++I)E[I]=t[I];y.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(p,m,v,x){const S=p!==null?p.length:0;let _=null;if(S!==0){if(_=l.value,x!==!0||_===null){const y=v+S*4,A=m.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<y)&&(_=new Float32Array(y));for(let w=0,E=v;w!==S;++w,E+=4)s.copy(p[w]).applyMatrix4(A,a),s.normal.toArray(_,E),_[E+3]=s.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function Vj(n){let e=new WeakMap;function t(s,a){return a===kv?s.mapping=jc:a===zv&&(s.mapping=sf),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===kv||a===zv)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new LN(l.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Wl extends v0{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Np=4,U2=[.125,.215,.35,.446,.526,.582],md=20,gM=new Wl,k2=new bt;let vM=null,yM=0,xM=0,_M=!1;const hd=(1+Math.sqrt(5))/2,sp=1/hd,z2=[new ee(-hd,sp,0),new ee(hd,sp,0),new ee(-sp,0,hd),new ee(sp,0,hd),new ee(0,hd,-sp),new ee(0,hd,sp),new ee(-1,1,-1),new ee(1,1,-1),new ee(-1,1,1),new ee(1,1,1)];class nE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){vM=this._renderer.getRenderTarget(),yM=this._renderer.getActiveCubeFace(),xM=this._renderer.getActiveMipmapLevel(),_M=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=V2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=G2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vM,yM,xM),this._renderer.xr.enabled=_M,e.scissorTest=!1,yx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jc||e.mapping===sf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vM=this._renderer.getRenderTarget(),yM=this._renderer.getActiveCubeFace(),xM=this._renderer.getActiveMipmapLevel(),_M=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:pi,minFilter:pi,generateMipmaps:!1,type:m0,format:Qo,colorSpace:Yc,depthBuffer:!1},i=H2(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=H2(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Wj(o)),this._blurMaterial=$j(o,e,t)}return i}_compileMaterial(e){const t=new Ur(this._lodPlanes[0],e);this._renderer.compile(t,gM)}_sceneToCubeUV(e,t,r,i){const a=new ti(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(k2),f.toneMapping=Kl,f.autoClear=!1;const v=new ra({name:"PMREM.Background",side:es,depthWrite:!1,depthTest:!1}),x=new Ur(new ah,v);let S=!1;const _=e.background;_?_.isColor&&(v.color.copy(_),e.background=null,S=!0):(v.color.copy(k2),S=!0);for(let y=0;y<6;y++){const A=y%3;A===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):A===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const w=this._cubeSize;yx(i,A*w,y>2?w:0,w,w),f.setRenderTarget(i),S&&f.render(x,a),f.render(e,a)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=m,f.autoClear=p,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===jc||e.mapping===sf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=V2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=G2());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Ur(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;yx(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,gM)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=z2[(i-o-1)%z2.length];this._blur(e,o-1,o,s,a)}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,p=new Ur(this._lodPlanes[i],c),m=c.uniforms,v=this._sizeLods[r]-1,x=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*md-1),S=o/x,_=isFinite(o)?1+Math.floor(f*S):md;_>md&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${md}`);const y=[];let A=0;for(let L=0;L<md;++L){const U=L/S,F=Math.exp(-U*U/2);y.push(F),L===0?A+=F:L<_&&(A+=2*F)}for(let L=0;L<y.length;L++)y[L]=y[L]/A;m.envMap.value=e.texture,m.samples.value=_,m.weights.value=y,m.latitudinal.value=s==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:w}=this;m.dTheta.value=x,m.mipInt.value=w-r;const E=this._sizeLods[i],I=3*E*(i>w-Np?i-w+Np:0),P=4*(this._cubeSize-E);yx(t,I,P,3*E,2*E),l.setRenderTarget(t),l.render(p,gM)}}function Wj(n){const e=[],t=[],r=[];let i=n;const o=n-Np+1+U2.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let l=1/a;s>n-Np?l=U2[s-n+Np-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),f=-c,p=1+c,m=[f,f,p,f,p,p,f,f,p,p,f,p],v=6,x=6,S=3,_=2,y=1,A=new Float32Array(S*x*v),w=new Float32Array(_*x*v),E=new Float32Array(y*x*v);for(let P=0;P<v;P++){const L=P%3*2/3-1,U=P>2?0:-1,F=[L,U,0,L+2/3,U,0,L+2/3,U+1,0,L,U,0,L+2/3,U+1,0,L,U+1,0];A.set(F,S*x*P),w.set(m,_*x*P);const O=[P,P,P,P,P,P];E.set(O,y*x*P)}const I=new Pn;I.setAttribute("position",new jn(A,S)),I.setAttribute("uv",new jn(w,_)),I.setAttribute("faceIndex",new jn(E,y)),e.push(I),i>Np&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function H2(n,e,t){const r=new xl(n,e,t);return r.texture.mapping=Rm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function yx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function $j(n,e,t){const r=new Float32Array(md),i=new ee(0,1,0);return new ka({name:"SphericalGaussianBlur",defines:{n:md,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Uc,depthTest:!1,depthWrite:!1})}function G2(){return new ka({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Uc,depthTest:!1,depthWrite:!1})}function V2(){return new ka({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Uc,depthTest:!1,depthWrite:!1})}function hT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jj(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===kv||l===zv,f=l===jc||l===sf;if(c||f){let p=e.get(a);const m=p!==void 0?p.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==m)return t===null&&(t=new nE(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),p.texture.pmremVersion=a.pmremVersion,e.set(a,p),p.texture;if(p!==void 0)return p.texture;{const v=a.image;return c&&v&&v.height>0||f&&v&&i(v)?(t===null&&(t=new nE(n)),p=c?t.fromEquirectangular(a):t.fromCubemap(a),p.texture.pmremVersion=a.pmremVersion,e.set(a,p),a.addEventListener("dispose",o),p.texture):null}}}return a}function i(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Xj(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&cT("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Kj(n,e,t,r){const i={},o=new WeakMap;function s(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const x in m.attributes)e.remove(m.attributes[x]);for(const x in m.morphAttributes){const S=m.morphAttributes[x];for(let _=0,y=S.length;_<y;_++)e.remove(S[_])}m.removeEventListener("dispose",s),delete i[m.id];const v=o.get(m);v&&(e.remove(v),o.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function a(p,m){return i[m.id]===!0||(m.addEventListener("dispose",s),i[m.id]=!0,t.memory.geometries++),m}function l(p){const m=p.attributes;for(const x in m)e.update(m[x],n.ARRAY_BUFFER);const v=p.morphAttributes;for(const x in v){const S=v[x];for(let _=0,y=S.length;_<y;_++)e.update(S[_],n.ARRAY_BUFFER)}}function c(p){const m=[],v=p.index,x=p.attributes.position;let S=0;if(v!==null){const A=v.array;S=v.version;for(let w=0,E=A.length;w<E;w+=3){const I=A[w+0],P=A[w+1],L=A[w+2];m.push(I,P,P,L,L,I)}}else if(x!==void 0){const A=x.array;S=x.version;for(let w=0,E=A.length/3-1;w<E;w+=3){const I=w+0,P=w+1,L=w+2;m.push(I,P,P,L,L,I)}}else return;const _=new(CN(m)?dT:fT)(m,1);_.version=S;const y=o.get(p);y&&e.remove(y),o.set(p,_)}function f(p){const m=o.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&c(p)}else c(p);return o.get(p)}return{get:a,update:l,getWireframeAttribute:f}}function Jj(n,e,t){let r;function i(m){r=m}let o,s;function a(m){o=m.type,s=m.bytesPerElement}function l(m,v){n.drawElements(r,v,o,m*s),t.update(v,r,1)}function c(m,v,x){x!==0&&(n.drawElementsInstanced(r,v,o,m*s,x),t.update(v,r,x))}function f(m,v,x){if(x===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let _=0;_<x;_++)this.render(m[_]/s,v[_]);else{S.multiDrawElementsWEBGL(r,v,0,o,m,0,x);let _=0;for(let y=0;y<x;y++)_+=v[y];t.update(_,r,1)}}function p(m,v,x,S){if(x===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let y=0;y<m.length;y++)c(m[y]/s,v[y],S[y]);else{_.multiDrawElementsInstancedWEBGL(r,v,0,o,m,0,S,0,x);let y=0;for(let A=0;A<x;A++)y+=v[A];for(let A=0;A<S.length;A++)t.update(y,r,S[A])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=p}function Yj(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=a*(o/3);break;case n.LINES:t.lines+=a*(o/2);break;case n.LINE_STRIP:t.lines+=a*(o-1);break;case n.LINE_LOOP:t.lines+=a*o;break;case n.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function qj(n,e,t){const r=new WeakMap,i=new vr;function o(s,a,l){const c=s.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,p=f!==void 0?f.length:0;let m=r.get(a);if(m===void 0||m.count!==p){let O=function(){U.dispose(),r.delete(a),a.removeEventListener("dispose",O)};var v=O;m!==void 0&&m.texture.dispose();const x=a.morphAttributes.position!==void 0,S=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,y=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let E=0;x===!0&&(E=1),S===!0&&(E=2),_===!0&&(E=3);let I=a.attributes.position.count*E,P=1;I>e.maxTextureSize&&(P=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const L=new Float32Array(I*P*4*p),U=new r1(L,I,P,p);U.type=na,U.needsUpdate=!0;const F=E*4;for(let G=0;G<p;G++){const te=y[G],Z=A[G],ie=w[G],se=I*P*4*G;for(let K=0;K<te.count;K++){const X=K*F;x===!0&&(i.fromBufferAttribute(te,K),L[se+X+0]=i.x,L[se+X+1]=i.y,L[se+X+2]=i.z,L[se+X+3]=0),S===!0&&(i.fromBufferAttribute(Z,K),L[se+X+4]=i.x,L[se+X+5]=i.y,L[se+X+6]=i.z,L[se+X+7]=0),_===!0&&(i.fromBufferAttribute(ie,K),L[se+X+8]=i.x,L[se+X+9]=i.y,L[se+X+10]=i.z,L[se+X+11]=ie.itemSize===4?i.w:1)}}m={count:p,texture:U,size:new Ye(I,P)},r.set(a,m),a.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let x=0;for(let _=0;_<c.length;_++)x+=c[_];const S=a.morphTargetsRelative?1:1-x;l.getUniforms().setValue(n,"morphTargetBaseInfluence",S),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:o}}function Qj(n,e,t,r){let i=new WeakMap;function o(l){const c=r.render.frame,f=l.geometry,p=e.get(l,f);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==c&&(m.update(),i.set(m,c))}return p}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}class pT extends Ir{constructor(e,t,r,i,o,s,a,l,c,f=Od){if(f!==Od&&f!==Kd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Od&&(r=jd),r===void 0&&f===Kd&&(r=Xd),super(null,i,o,s,a,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Vi,this.minFilter=l!==void 0?l:Vi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const DN=new Ir,FN=new pT(1,1);FN.compareFunction=aT;const NN=new r1,UN=new uT,kN=new y0,W2=[],$2=[],j2=new Float32Array(16),X2=new Float32Array(9),K2=new Float32Array(4);function Pm(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=W2[i];if(o===void 0&&(o=new Float32Array(i),W2[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Wi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function $i(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function i1(n,e){let t=$2[e];t===void 0&&(t=new Int32Array(e),$2[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Zj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function e7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2fv(this.addr,e),$i(t,e)}}function t7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wi(t,e))return;n.uniform3fv(this.addr,e),$i(t,e)}}function n7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4fv(this.addr,e),$i(t,e)}}function r7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Wi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),$i(t,e)}else{if(Wi(t,r))return;K2.set(r),n.uniformMatrix2fv(this.addr,!1,K2),$i(t,r)}}function i7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Wi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),$i(t,e)}else{if(Wi(t,r))return;X2.set(r),n.uniformMatrix3fv(this.addr,!1,X2),$i(t,r)}}function o7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Wi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),$i(t,e)}else{if(Wi(t,r))return;j2.set(r),n.uniformMatrix4fv(this.addr,!1,j2),$i(t,r)}}function s7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function a7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2iv(this.addr,e),$i(t,e)}}function l7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wi(t,e))return;n.uniform3iv(this.addr,e),$i(t,e)}}function c7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4iv(this.addr,e),$i(t,e)}}function u7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function f7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2uiv(this.addr,e),$i(t,e)}}function d7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wi(t,e))return;n.uniform3uiv(this.addr,e),$i(t,e)}}function h7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4uiv(this.addr,e),$i(t,e)}}function p7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const o=this.type===n.SAMPLER_2D_SHADOW?FN:DN;t.setTexture2D(e||o,i)}function m7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||UN,i)}function g7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||kN,i)}function v7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||NN,i)}function y7(n){switch(n){case 5126:return Zj;case 35664:return e7;case 35665:return t7;case 35666:return n7;case 35674:return r7;case 35675:return i7;case 35676:return o7;case 5124:case 35670:return s7;case 35667:case 35671:return a7;case 35668:case 35672:return l7;case 35669:case 35673:return c7;case 5125:return u7;case 36294:return f7;case 36295:return d7;case 36296:return h7;case 35678:case 36198:case 36298:case 36306:case 35682:return p7;case 35679:case 36299:case 36307:return m7;case 35680:case 36300:case 36308:case 36293:return g7;case 36289:case 36303:case 36311:case 36292:return v7}}function x7(n,e){n.uniform1fv(this.addr,e)}function _7(n,e){const t=Pm(e,this.size,2);n.uniform2fv(this.addr,t)}function S7(n,e){const t=Pm(e,this.size,3);n.uniform3fv(this.addr,t)}function A7(n,e){const t=Pm(e,this.size,4);n.uniform4fv(this.addr,t)}function M7(n,e){const t=Pm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function w7(n,e){const t=Pm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function C7(n,e){const t=Pm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function E7(n,e){n.uniform1iv(this.addr,e)}function b7(n,e){n.uniform2iv(this.addr,e)}function T7(n,e){n.uniform3iv(this.addr,e)}function R7(n,e){n.uniform4iv(this.addr,e)}function P7(n,e){n.uniform1uiv(this.addr,e)}function I7(n,e){n.uniform2uiv(this.addr,e)}function B7(n,e){n.uniform3uiv(this.addr,e)}function L7(n,e){n.uniform4uiv(this.addr,e)}function O7(n,e,t){const r=this.cache,i=e.length,o=i1(t,i);Wi(r,o)||(n.uniform1iv(this.addr,o),$i(r,o));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||DN,o[s])}function D7(n,e,t){const r=this.cache,i=e.length,o=i1(t,i);Wi(r,o)||(n.uniform1iv(this.addr,o),$i(r,o));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||UN,o[s])}function F7(n,e,t){const r=this.cache,i=e.length,o=i1(t,i);Wi(r,o)||(n.uniform1iv(this.addr,o),$i(r,o));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||kN,o[s])}function N7(n,e,t){const r=this.cache,i=e.length,o=i1(t,i);Wi(r,o)||(n.uniform1iv(this.addr,o),$i(r,o));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||NN,o[s])}function U7(n){switch(n){case 5126:return x7;case 35664:return _7;case 35665:return S7;case 35666:return A7;case 35674:return M7;case 35675:return w7;case 35676:return C7;case 5124:case 35670:return E7;case 35667:case 35671:return b7;case 35668:case 35672:return T7;case 35669:case 35673:return R7;case 5125:return P7;case 36294:return I7;case 36295:return B7;case 36296:return L7;case 35678:case 36198:case 36298:case 36306:case 35682:return O7;case 35679:case 36299:case 36307:return D7;case 35680:case 36300:case 36308:case 36293:return F7;case 36289:case 36303:case 36311:case 36292:return N7}}class k7{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=y7(t.type)}}class z7{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=U7(t.type)}}class H7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const SM=/(\w+)(\])?(\[|\.)?/g;function J2(n,e){n.seq.push(e),n.map[e.id]=e}function G7(n,e,t){const r=n.name,i=r.length;for(SM.lastIndex=0;;){const o=SM.exec(r),s=SM.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){J2(t,c===void 0?new k7(a,n,e):new z7(a,n,e));break}else{let p=t.map[a];p===void 0&&(p=new H7(a),J2(t,p)),t=p}}}class b_{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i),s=e.getUniformLocation(t,o.name);G7(o,s,this)}}setValue(e,t,r,i){const o=this.map[t];o!==void 0&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function Y2(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const V7=37297;let W7=0;function $7(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join(`
`)}function j7(n){const e=ur.getPrimaries(ur.workingColorSpace),t=ur.getPrimaries(n);let r;switch(e===t?r="":e===$v&&t===Wv?r="LinearDisplayP3ToLinearSRGB":e===Wv&&t===$v&&(r="LinearSRGBToLinearDisplayP3"),n){case Yc:case g0:return[r,"LinearTransferOETF"];case Ia:case n1:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function q2(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+i+`

`+$7(n.getShaderSource(e),s)}else return i}function X7(n,e){const t=j7(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function K7(n,e){let t;switch(e){case KF:t="Linear";break;case JF:t="Reinhard";break;case YF:t="OptimizedCineon";break;case qb:t="ACESFilmic";break;case QF:t="AgX";break;case ZF:t="Neutral";break;case qF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function J7(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rv).join(`
`)}function Y7(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function q7(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function rv(n){return n!==""}function Q2(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Z2(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Q7=/^[ \t]*#include +<([\w\d./]+)>/gm;function rE(n){return n.replace(Q7,eX)}const Z7=new Map;function eX(n,e){let t=Hn[e];if(t===void 0){const r=Z7.get(e);if(r!==void 0)t=Hn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return rE(t)}const tX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eI(n){return n.replace(tX,nX)}function nX(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function tI(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===QS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===pv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===al&&(e="SHADOWMAP_TYPE_VSM"),e}function iX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case jc:case sf:e="ENVMAP_TYPE_CUBE";break;case Rm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function oX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case sf:e="ENVMAP_MODE_REFRACTION";break}return e}function sX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case p0:e="ENVMAP_BLENDING_MULTIPLY";break;case jF:e="ENVMAP_BLENDING_MIX";break;case XF:e="ENVMAP_BLENDING_ADD";break}return e}function aX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function lX(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=rX(t),c=iX(t),f=oX(t),p=sX(t),m=aX(t),v=J7(t),x=Y7(o),S=i.createProgram();let _,y,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(rv).join(`
`),_.length>0&&(_+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(rv).join(`
`),y.length>0&&(y+=`
`)):(_=[tI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rv).join(`
`),y=[tI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Kl?"#define TONE_MAPPING":"",t.toneMapping!==Kl?Hn.tonemapping_pars_fragment:"",t.toneMapping!==Kl?K7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Hn.colorspace_pars_fragment,X7("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rv).join(`
`)),s=rE(s),s=Q2(s,t),s=Z2(s,t),a=rE(a),a=Q2(a,t),a=Z2(a,t),s=eI(s),a=eI(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,y=["#define varying in",t.glslVersion===tE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const w=A+_+s,E=A+y+a,I=Y2(i,i.VERTEX_SHADER,w),P=Y2(i,i.FRAGMENT_SHADER,E);i.attachShader(S,I),i.attachShader(S,P),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function L(G){if(n.debug.checkShaderErrors){const te=i.getProgramInfoLog(S).trim(),Z=i.getShaderInfoLog(I).trim(),ie=i.getShaderInfoLog(P).trim();let se=!0,K=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(se=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,I,P);else{const X=q2(i,I,"vertex"),N=q2(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+te+`
`+X+`
`+N)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(Z===""||ie==="")&&(K=!1);K&&(G.diagnostics={runnable:se,programLog:te,vertexShader:{log:Z,prefix:_},fragmentShader:{log:ie,prefix:y}})}i.deleteShader(I),i.deleteShader(P),U=new b_(i,S),F=q7(i,S)}let U;this.getUniforms=function(){return U===void 0&&L(this),U};let F;this.getAttributes=function(){return F===void 0&&L(this),F};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(S,V7)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=W7++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=I,this.fragmentShader=P,this}let cX=0;class uX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new fX(e),t.set(e,r)),r}}class fX{constructor(e){this.id=cX++,this.code=e,this.usedTimes=0}}function dX(n,e,t,r,i,o,s){const a=new Fd,l=new uX,c=new Set,f=[],p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(F){return c.add(F),F===0?"uv":`uv${F}`}function _(F,O,G,te,Z){const ie=te.fog,se=Z.geometry,K=F.isMeshStandardMaterial?te.environment:null,X=(F.isMeshStandardMaterial?t:e).get(F.envMap||K),N=X&&X.mapping===Rm?X.image.height:null,j=x[F.type];F.precision!==null&&(v=i.getMaxPrecision(F.precision),v!==F.precision&&console.warn("THREE.WebGLProgram.getParameters:",F.precision,"not supported, using",v,"instead."));const J=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,re=J!==void 0?J.length:0;let pe=0;se.morphAttributes.position!==void 0&&(pe=1),se.morphAttributes.normal!==void 0&&(pe=2),se.morphAttributes.color!==void 0&&(pe=3);let Me,de,Ce,De;if(j){const on=hl[j];Me=on.vertexShader,de=on.fragmentShader}else Me=F.vertexShader,de=F.fragmentShader,l.update(F),Ce=l.getVertexShaderID(F),De=l.getFragmentShaderID(F);const Pe=n.getRenderTarget(),lt=Z.isInstancedMesh===!0,dt=Z.isBatchedMesh===!0,ht=!!F.map,oe=!!F.matcap,Ne=!!X,Be=!!F.aoMap,He=!!F.lightMap,Fe=!!F.bumpMap,Ve=!!F.normalMap,Ke=!!F.displacementMap,qe=!!F.emissiveMap,rt=!!F.metalnessMap,Q=!!F.roughnessMap,V=F.anisotropy>0,ge=F.clearcoat>0,Ae=F.dispersion>0,Re=F.iridescence>0,ze=F.sheen>0,pt=F.transmission>0,ct=V&&!!F.anisotropyMap,st=ge&&!!F.clearcoatMap,kt=ge&&!!F.clearcoatNormalMap,Qe=ge&&!!F.clearcoatRoughnessMap,vt=Re&&!!F.iridescenceMap,Vt=Re&&!!F.iridescenceThicknessMap,It=ze&&!!F.sheenColorMap,ft=ze&&!!F.sheenRoughnessMap,he=!!F.specularMap,Ge=!!F.specularColorMap,ut=!!F.specularIntensityMap,le=pt&&!!F.transmissionMap,Ze=pt&&!!F.thicknessMap,Oe=!!F.gradientMap,je=!!F.alphaMap,it=F.alphaTest>0,xt=!!F.alphaHash,wt=!!F.extensions;let St=Kl;F.toneMapped&&(Pe===null||Pe.isXRRenderTarget===!0)&&(St=n.toneMapping);const en={shaderID:j,shaderType:F.type,shaderName:F.name,vertexShader:Me,fragmentShader:de,defines:F.defines,customVertexShaderID:Ce,customFragmentShaderID:De,isRawShaderMaterial:F.isRawShaderMaterial===!0,glslVersion:F.glslVersion,precision:v,batching:dt,batchingColor:dt&&Z._colorsTexture!==null,instancing:lt,instancingColor:lt&&Z.instanceColor!==null,instancingMorph:lt&&Z.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:Pe===null?n.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:Yc,alphaToCoverage:!!F.alphaToCoverage,map:ht,matcap:oe,envMap:Ne,envMapMode:Ne&&X.mapping,envMapCubeUVHeight:N,aoMap:Be,lightMap:He,bumpMap:Fe,normalMap:Ve,displacementMap:m&&Ke,emissiveMap:qe,normalMapObjectSpace:Ve&&F.normalMapType===gN,normalMapTangentSpace:Ve&&F.normalMapType===pf,metalnessMap:rt,roughnessMap:Q,anisotropy:V,anisotropyMap:ct,clearcoat:ge,clearcoatMap:st,clearcoatNormalMap:kt,clearcoatRoughnessMap:Qe,dispersion:Ae,iridescence:Re,iridescenceMap:vt,iridescenceThicknessMap:Vt,sheen:ze,sheenColorMap:It,sheenRoughnessMap:ft,specularMap:he,specularColorMap:Ge,specularIntensityMap:ut,transmission:pt,transmissionMap:le,thicknessMap:Ze,gradientMap:Oe,opaque:F.transparent===!1&&F.blending===Ld&&F.alphaToCoverage===!1,alphaMap:je,alphaTest:it,alphaHash:xt,combine:F.combine,mapUv:ht&&S(F.map.channel),aoMapUv:Be&&S(F.aoMap.channel),lightMapUv:He&&S(F.lightMap.channel),bumpMapUv:Fe&&S(F.bumpMap.channel),normalMapUv:Ve&&S(F.normalMap.channel),displacementMapUv:Ke&&S(F.displacementMap.channel),emissiveMapUv:qe&&S(F.emissiveMap.channel),metalnessMapUv:rt&&S(F.metalnessMap.channel),roughnessMapUv:Q&&S(F.roughnessMap.channel),anisotropyMapUv:ct&&S(F.anisotropyMap.channel),clearcoatMapUv:st&&S(F.clearcoatMap.channel),clearcoatNormalMapUv:kt&&S(F.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Qe&&S(F.clearcoatRoughnessMap.channel),iridescenceMapUv:vt&&S(F.iridescenceMap.channel),iridescenceThicknessMapUv:Vt&&S(F.iridescenceThicknessMap.channel),sheenColorMapUv:It&&S(F.sheenColorMap.channel),sheenRoughnessMapUv:ft&&S(F.sheenRoughnessMap.channel),specularMapUv:he&&S(F.specularMap.channel),specularColorMapUv:Ge&&S(F.specularColorMap.channel),specularIntensityMapUv:ut&&S(F.specularIntensityMap.channel),transmissionMapUv:le&&S(F.transmissionMap.channel),thicknessMapUv:Ze&&S(F.thicknessMap.channel),alphaMapUv:je&&S(F.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(Ve||V),vertexColors:F.vertexColors,vertexAlphas:F.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!se.attributes.uv&&(ht||je),fog:!!ie,useFog:F.fog===!0,fogExp2:!!ie&&ie.isFogExp2,flatShading:F.flatShading===!0,sizeAttenuation:F.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:Z.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:pe,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:F.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:St,decodeVideoTexture:ht&&F.map.isVideoTexture===!0&&ur.getTransfer(F.map.colorSpace)===Dr,premultipliedAlpha:F.premultipliedAlpha,doubleSided:F.side===Qs,flipSided:F.side===es,useDepthPacking:F.depthPacking>=0,depthPacking:F.depthPacking||0,index0AttributeName:F.index0AttributeName,extensionClipCullDistance:wt&&F.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:wt&&F.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:F.customProgramCacheKey()};return en.vertexUv1s=c.has(1),en.vertexUv2s=c.has(2),en.vertexUv3s=c.has(3),c.clear(),en}function y(F){const O=[];if(F.shaderID?O.push(F.shaderID):(O.push(F.customVertexShaderID),O.push(F.customFragmentShaderID)),F.defines!==void 0)for(const G in F.defines)O.push(G),O.push(F.defines[G]);return F.isRawShaderMaterial===!1&&(A(O,F),w(O,F),O.push(n.outputColorSpace)),O.push(F.customProgramCacheKey),O.join()}function A(F,O){F.push(O.precision),F.push(O.outputColorSpace),F.push(O.envMapMode),F.push(O.envMapCubeUVHeight),F.push(O.mapUv),F.push(O.alphaMapUv),F.push(O.lightMapUv),F.push(O.aoMapUv),F.push(O.bumpMapUv),F.push(O.normalMapUv),F.push(O.displacementMapUv),F.push(O.emissiveMapUv),F.push(O.metalnessMapUv),F.push(O.roughnessMapUv),F.push(O.anisotropyMapUv),F.push(O.clearcoatMapUv),F.push(O.clearcoatNormalMapUv),F.push(O.clearcoatRoughnessMapUv),F.push(O.iridescenceMapUv),F.push(O.iridescenceThicknessMapUv),F.push(O.sheenColorMapUv),F.push(O.sheenRoughnessMapUv),F.push(O.specularMapUv),F.push(O.specularColorMapUv),F.push(O.specularIntensityMapUv),F.push(O.transmissionMapUv),F.push(O.thicknessMapUv),F.push(O.combine),F.push(O.fogExp2),F.push(O.sizeAttenuation),F.push(O.morphTargetsCount),F.push(O.morphAttributeCount),F.push(O.numDirLights),F.push(O.numPointLights),F.push(O.numSpotLights),F.push(O.numSpotLightMaps),F.push(O.numHemiLights),F.push(O.numRectAreaLights),F.push(O.numDirLightShadows),F.push(O.numPointLightShadows),F.push(O.numSpotLightShadows),F.push(O.numSpotLightShadowsWithMaps),F.push(O.numLightProbes),F.push(O.shadowMapType),F.push(O.toneMapping),F.push(O.numClippingPlanes),F.push(O.numClipIntersection),F.push(O.depthPacking)}function w(F,O){a.disableAll(),O.supportsVertexTextures&&a.enable(0),O.instancing&&a.enable(1),O.instancingColor&&a.enable(2),O.instancingMorph&&a.enable(3),O.matcap&&a.enable(4),O.envMap&&a.enable(5),O.normalMapObjectSpace&&a.enable(6),O.normalMapTangentSpace&&a.enable(7),O.clearcoat&&a.enable(8),O.iridescence&&a.enable(9),O.alphaTest&&a.enable(10),O.vertexColors&&a.enable(11),O.vertexAlphas&&a.enable(12),O.vertexUv1s&&a.enable(13),O.vertexUv2s&&a.enable(14),O.vertexUv3s&&a.enable(15),O.vertexTangents&&a.enable(16),O.anisotropy&&a.enable(17),O.alphaHash&&a.enable(18),O.batching&&a.enable(19),O.dispersion&&a.enable(20),O.batchingColor&&a.enable(21),F.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.doubleSided&&a.enable(10),O.flipSided&&a.enable(11),O.useDepthPacking&&a.enable(12),O.dithering&&a.enable(13),O.transmission&&a.enable(14),O.sheen&&a.enable(15),O.opaque&&a.enable(16),O.pointsUvs&&a.enable(17),O.decodeVideoTexture&&a.enable(18),O.alphaToCoverage&&a.enable(19),F.push(a.mask)}function E(F){const O=x[F.type];let G;if(O){const te=hl[O];G=IN.clone(te.uniforms)}else G=F.uniforms;return G}function I(F,O){let G;for(let te=0,Z=f.length;te<Z;te++){const ie=f[te];if(ie.cacheKey===O){G=ie,++G.usedTimes;break}}return G===void 0&&(G=new lX(n,O,F,o),f.push(G)),G}function P(F){if(--F.usedTimes===0){const O=f.indexOf(F);f[O]=f[f.length-1],f.pop(),F.destroy()}}function L(F){l.remove(F)}function U(){l.dispose()}return{getParameters:_,getProgramCacheKey:y,getUniforms:E,acquireProgram:I,releaseProgram:P,releaseShaderCache:L,programs:f,dispose:U}}function hX(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function r(o,s,a){n.get(o)[s]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function pX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function nI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function rI(){const n=[];let e=0;const t=[],r=[],i=[];function o(){e=0,t.length=0,r.length=0,i.length=0}function s(p,m,v,x,S,_){let y=n[e];return y===void 0?(y={id:p.id,object:p,geometry:m,material:v,groupOrder:x,renderOrder:p.renderOrder,z:S,group:_},n[e]=y):(y.id=p.id,y.object=p,y.geometry=m,y.material=v,y.groupOrder=x,y.renderOrder=p.renderOrder,y.z=S,y.group=_),e++,y}function a(p,m,v,x,S,_){const y=s(p,m,v,x,S,_);v.transmission>0?r.push(y):v.transparent===!0?i.push(y):t.push(y)}function l(p,m,v,x,S,_){const y=s(p,m,v,x,S,_);v.transmission>0?r.unshift(y):v.transparent===!0?i.unshift(y):t.unshift(y)}function c(p,m){t.length>1&&t.sort(p||pX),r.length>1&&r.sort(m||nI),i.length>1&&i.sort(m||nI)}function f(){for(let p=e,m=n.length;p<m;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:f,sort:c}}function mX(){let n=new WeakMap;function e(r,i){const o=n.get(r);let s;return o===void 0?(s=new rI,n.set(r,[s])):i>=o.length?(s=new rI,o.push(s)):s=o[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function gX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new bt};break;case"SpotLight":t={position:new ee,direction:new ee,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new bt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":t={color:new bt,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return n[e.id]=t,t}}}function vX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let yX=0;function xX(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function _X(n){const e=new gX,t=vX(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ee);const i=new ee,o=new an,s=new an;function a(c){let f=0,p=0,m=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let v=0,x=0,S=0,_=0,y=0,A=0,w=0,E=0,I=0,P=0,L=0;c.sort(xX);for(let F=0,O=c.length;F<O;F++){const G=c[F],te=G.color,Z=G.intensity,ie=G.distance,se=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)f+=te.r*Z,p+=te.g*Z,m+=te.b*Z;else if(G.isLightProbe){for(let K=0;K<9;K++)r.probe[K].addScaledVector(G.sh.coefficients[K],Z);L++}else if(G.isDirectionalLight){const K=e.get(G);if(K.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const X=G.shadow,N=t.get(G);N.shadowBias=X.bias,N.shadowNormalBias=X.normalBias,N.shadowRadius=X.radius,N.shadowMapSize=X.mapSize,r.directionalShadow[v]=N,r.directionalShadowMap[v]=se,r.directionalShadowMatrix[v]=G.shadow.matrix,A++}r.directional[v]=K,v++}else if(G.isSpotLight){const K=e.get(G);K.position.setFromMatrixPosition(G.matrixWorld),K.color.copy(te).multiplyScalar(Z),K.distance=ie,K.coneCos=Math.cos(G.angle),K.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),K.decay=G.decay,r.spot[S]=K;const X=G.shadow;if(G.map&&(r.spotLightMap[I]=G.map,I++,X.updateMatrices(G),G.castShadow&&P++),r.spotLightMatrix[S]=X.matrix,G.castShadow){const N=t.get(G);N.shadowBias=X.bias,N.shadowNormalBias=X.normalBias,N.shadowRadius=X.radius,N.shadowMapSize=X.mapSize,r.spotShadow[S]=N,r.spotShadowMap[S]=se,E++}S++}else if(G.isRectAreaLight){const K=e.get(G);K.color.copy(te).multiplyScalar(Z),K.halfWidth.set(G.width*.5,0,0),K.halfHeight.set(0,G.height*.5,0),r.rectArea[_]=K,_++}else if(G.isPointLight){const K=e.get(G);if(K.color.copy(G.color).multiplyScalar(G.intensity),K.distance=G.distance,K.decay=G.decay,G.castShadow){const X=G.shadow,N=t.get(G);N.shadowBias=X.bias,N.shadowNormalBias=X.normalBias,N.shadowRadius=X.radius,N.shadowMapSize=X.mapSize,N.shadowCameraNear=X.camera.near,N.shadowCameraFar=X.camera.far,r.pointShadow[x]=N,r.pointShadowMap[x]=se,r.pointShadowMatrix[x]=G.shadow.matrix,w++}r.point[x]=K,x++}else if(G.isHemisphereLight){const K=e.get(G);K.skyColor.copy(G.color).multiplyScalar(Z),K.groundColor.copy(G.groundColor).multiplyScalar(Z),r.hemi[y]=K,y++}}_>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Pt.LTC_FLOAT_1,r.rectAreaLTC2=Pt.LTC_FLOAT_2):(r.rectAreaLTC1=Pt.LTC_HALF_1,r.rectAreaLTC2=Pt.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=p,r.ambient[2]=m;const U=r.hash;(U.directionalLength!==v||U.pointLength!==x||U.spotLength!==S||U.rectAreaLength!==_||U.hemiLength!==y||U.numDirectionalShadows!==A||U.numPointShadows!==w||U.numSpotShadows!==E||U.numSpotMaps!==I||U.numLightProbes!==L)&&(r.directional.length=v,r.spot.length=S,r.rectArea.length=_,r.point.length=x,r.hemi.length=y,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=E+I-P,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=L,U.directionalLength=v,U.pointLength=x,U.spotLength=S,U.rectAreaLength=_,U.hemiLength=y,U.numDirectionalShadows=A,U.numPointShadows=w,U.numSpotShadows=E,U.numSpotMaps=I,U.numLightProbes=L,r.version=yX++)}function l(c,f){let p=0,m=0,v=0,x=0,S=0;const _=f.matrixWorldInverse;for(let y=0,A=c.length;y<A;y++){const w=c[y];if(w.isDirectionalLight){const E=r.directional[p];E.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(_),p++}else if(w.isSpotLight){const E=r.spot[v];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(_),E.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(_),v++}else if(w.isRectAreaLight){const E=r.rectArea[x];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(_),s.identity(),o.copy(w.matrixWorld),o.premultiply(_),s.extractRotation(o),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),x++}else if(w.isPointLight){const E=r.point[m];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(_),m++}else if(w.isHemisphereLight){const E=r.hemi[S];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(_),S++}}}return{setup:a,setupView:l,state:r}}function iI(n){const e=new _X(n),t=[],r=[];function i(f){c.camera=f,t.length=0,r.length=0}function o(f){t.push(f)}function s(f){r.push(f)}function a(){e.setup(t)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function SX(n){let e=new WeakMap;function t(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new iI(n),e.set(i,[a])):o>=s.length?(a=new iI(n),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:t,dispose:r}}class mT extends Fi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gT extends Fi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const AX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,MX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function wX(n,e,t){let r=new x0;const i=new Ye,o=new Ye,s=new vr,a=new mT({depthPacking:mN}),l=new gT,c={},f=t.maxTextureSize,p={[Yl]:es,[es]:Yl,[Qs]:Qs},m=new ka({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ye},radius:{value:4}},vertexShader:AX,fragmentShader:MX}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const x=new Pn;x.setAttribute("position",new jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Ur(x,m),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=QS;let y=this.type;this.render=function(P,L,U){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||P.length===0)return;const F=n.getRenderTarget(),O=n.getActiveCubeFace(),G=n.getActiveMipmapLevel(),te=n.state;te.setBlending(Uc),te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);const Z=y!==al&&this.type===al,ie=y===al&&this.type!==al;for(let se=0,K=P.length;se<K;se++){const X=P[se],N=X.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const j=N.getFrameExtents();if(i.multiply(j),o.copy(N.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/j.x),i.x=o.x*j.x,N.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/j.y),i.y=o.y*j.y,N.mapSize.y=o.y)),N.map===null||Z===!0||ie===!0){const re=this.type!==al?{minFilter:Vi,magFilter:Vi}:{};N.map!==null&&N.map.dispose(),N.map=new xl(i.x,i.y,re),N.map.texture.name=X.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const J=N.getViewportCount();for(let re=0;re<J;re++){const pe=N.getViewport(re);s.set(o.x*pe.x,o.y*pe.y,o.x*pe.z,o.y*pe.w),te.viewport(s),N.updateMatrices(X,re),r=N.getFrustum(),E(L,U,N.camera,X,this.type)}N.isPointLightShadow!==!0&&this.type===al&&A(N,U),N.needsUpdate=!1}y=this.type,_.needsUpdate=!1,n.setRenderTarget(F,O,G)};function A(P,L){const U=e.update(S);m.defines.VSM_SAMPLES!==P.blurSamples&&(m.defines.VSM_SAMPLES=P.blurSamples,v.defines.VSM_SAMPLES=P.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new xl(i.x,i.y)),m.uniforms.shadow_pass.value=P.map.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(L,null,U,m,S,null),v.uniforms.shadow_pass.value=P.mapPass.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(L,null,U,v,S,null)}function w(P,L,U,F){let O=null;const G=U.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(G!==void 0)O=G;else if(O=U.isPointLight===!0?l:a,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const te=O.uuid,Z=L.uuid;let ie=c[te];ie===void 0&&(ie={},c[te]=ie);let se=ie[Z];se===void 0&&(se=O.clone(),ie[Z]=se,L.addEventListener("dispose",I)),O=se}if(O.visible=L.visible,O.wireframe=L.wireframe,F===al?O.side=L.shadowSide!==null?L.shadowSide:L.side:O.side=L.shadowSide!==null?L.shadowSide:p[L.side],O.alphaMap=L.alphaMap,O.alphaTest=L.alphaTest,O.map=L.map,O.clipShadows=L.clipShadows,O.clippingPlanes=L.clippingPlanes,O.clipIntersection=L.clipIntersection,O.displacementMap=L.displacementMap,O.displacementScale=L.displacementScale,O.displacementBias=L.displacementBias,O.wireframeLinewidth=L.wireframeLinewidth,O.linewidth=L.linewidth,U.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const te=n.properties.get(O);te.light=U}return O}function E(P,L,U,F,O){if(P.visible===!1)return;if(P.layers.test(L.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&O===al)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,P.matrixWorld);const Z=e.update(P),ie=P.material;if(Array.isArray(ie)){const se=Z.groups;for(let K=0,X=se.length;K<X;K++){const N=se[K],j=ie[N.materialIndex];if(j&&j.visible){const J=w(P,j,F,O);P.onBeforeShadow(n,P,L,U,Z,J,N),n.renderBufferDirect(U,null,Z,J,P,N),P.onAfterShadow(n,P,L,U,Z,J,N)}}}else if(ie.visible){const se=w(P,ie,F,O);P.onBeforeShadow(n,P,L,U,Z,se,null),n.renderBufferDirect(U,null,Z,se,P,null),P.onAfterShadow(n,P,L,U,Z,se,null)}}const te=P.children;for(let Z=0,ie=te.length;Z<ie;Z++)E(te[Z],L,U,F,O)}function I(P){P.target.removeEventListener("dispose",I);for(const U in c){const F=c[U],O=P.target.uuid;O in F&&(F[O].dispose(),delete F[O])}}}function CX(n){function e(){let le=!1;const Ze=new vr;let Oe=null;const je=new vr(0,0,0,0);return{setMask:function(it){Oe!==it&&!le&&(n.colorMask(it,it,it,it),Oe=it)},setLocked:function(it){le=it},setClear:function(it,xt,wt,St,en){en===!0&&(it*=St,xt*=St,wt*=St),Ze.set(it,xt,wt,St),je.equals(Ze)===!1&&(n.clearColor(it,xt,wt,St),je.copy(Ze))},reset:function(){le=!1,Oe=null,je.set(-1,0,0,0)}}}function t(){let le=!1,Ze=null,Oe=null,je=null;return{setTest:function(it){it?De(n.DEPTH_TEST):Pe(n.DEPTH_TEST)},setMask:function(it){Ze!==it&&!le&&(n.depthMask(it),Ze=it)},setFunc:function(it){if(Oe!==it){switch(it){case kF:n.depthFunc(n.NEVER);break;case zF:n.depthFunc(n.ALWAYS);break;case HF:n.depthFunc(n.LESS);break;case Uv:n.depthFunc(n.LEQUAL);break;case GF:n.depthFunc(n.EQUAL);break;case VF:n.depthFunc(n.GEQUAL);break;case WF:n.depthFunc(n.GREATER);break;case $F:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Oe=it}},setLocked:function(it){le=it},setClear:function(it){je!==it&&(n.clearDepth(it),je=it)},reset:function(){le=!1,Ze=null,Oe=null,je=null}}}function r(){let le=!1,Ze=null,Oe=null,je=null,it=null,xt=null,wt=null,St=null,en=null;return{setTest:function(on){le||(on?De(n.STENCIL_TEST):Pe(n.STENCIL_TEST))},setMask:function(on){Ze!==on&&!le&&(n.stencilMask(on),Ze=on)},setFunc:function(on,nn,Kt){(Oe!==on||je!==nn||it!==Kt)&&(n.stencilFunc(on,nn,Kt),Oe=on,je=nn,it=Kt)},setOp:function(on,nn,Kt){(xt!==on||wt!==nn||St!==Kt)&&(n.stencilOp(on,nn,Kt),xt=on,wt=nn,St=Kt)},setLocked:function(on){le=on},setClear:function(on){en!==on&&(n.clearStencil(on),en=on)},reset:function(){le=!1,Ze=null,Oe=null,je=null,it=null,xt=null,wt=null,St=null,en=null}}}const i=new e,o=new t,s=new r,a=new WeakMap,l=new WeakMap;let c={},f={},p=new WeakMap,m=[],v=null,x=!1,S=null,_=null,y=null,A=null,w=null,E=null,I=null,P=new bt(0,0,0),L=0,U=!1,F=null,O=null,G=null,te=null,Z=null;const ie=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let se=!1,K=0;const X=n.getParameter(n.VERSION);X.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(X)[1]),se=K>=1):X.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),se=K>=2);let N=null,j={};const J=n.getParameter(n.SCISSOR_BOX),re=n.getParameter(n.VIEWPORT),pe=new vr().fromArray(J),Me=new vr().fromArray(re);function de(le,Ze,Oe,je){const it=new Uint8Array(4),xt=n.createTexture();n.bindTexture(le,xt),n.texParameteri(le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let wt=0;wt<Oe;wt++)le===n.TEXTURE_3D||le===n.TEXTURE_2D_ARRAY?n.texImage3D(Ze,0,n.RGBA,1,1,je,0,n.RGBA,n.UNSIGNED_BYTE,it):n.texImage2D(Ze+wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,it);return xt}const Ce={};Ce[n.TEXTURE_2D]=de(n.TEXTURE_2D,n.TEXTURE_2D,1),Ce[n.TEXTURE_CUBE_MAP]=de(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ce[n.TEXTURE_2D_ARRAY]=de(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ce[n.TEXTURE_3D]=de(n.TEXTURE_3D,n.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),De(n.DEPTH_TEST),o.setFunc(Uv),Fe(!1),Ve(wC),De(n.CULL_FACE),Be(Uc);function De(le){c[le]!==!0&&(n.enable(le),c[le]=!0)}function Pe(le){c[le]!==!1&&(n.disable(le),c[le]=!1)}function lt(le,Ze){return f[le]!==Ze?(n.bindFramebuffer(le,Ze),f[le]=Ze,le===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=Ze),le===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=Ze),!0):!1}function dt(le,Ze){let Oe=m,je=!1;if(le){Oe=p.get(Ze),Oe===void 0&&(Oe=[],p.set(Ze,Oe));const it=le.textures;if(Oe.length!==it.length||Oe[0]!==n.COLOR_ATTACHMENT0){for(let xt=0,wt=it.length;xt<wt;xt++)Oe[xt]=n.COLOR_ATTACHMENT0+xt;Oe.length=it.length,je=!0}}else Oe[0]!==n.BACK&&(Oe[0]=n.BACK,je=!0);je&&n.drawBuffers(Oe)}function ht(le){return v!==le?(n.useProgram(le),v=le,!0):!1}const oe={[Hu]:n.FUNC_ADD,[AF]:n.FUNC_SUBTRACT,[MF]:n.FUNC_REVERSE_SUBTRACT};oe[wF]=n.MIN,oe[CF]=n.MAX;const Ne={[EF]:n.ZERO,[bF]:n.ONE,[TF]:n.SRC_COLOR,[cS]:n.SRC_ALPHA,[OF]:n.SRC_ALPHA_SATURATE,[BF]:n.DST_COLOR,[PF]:n.DST_ALPHA,[RF]:n.ONE_MINUS_SRC_COLOR,[uS]:n.ONE_MINUS_SRC_ALPHA,[LF]:n.ONE_MINUS_DST_COLOR,[IF]:n.ONE_MINUS_DST_ALPHA,[DF]:n.CONSTANT_COLOR,[FF]:n.ONE_MINUS_CONSTANT_COLOR,[NF]:n.CONSTANT_ALPHA,[UF]:n.ONE_MINUS_CONSTANT_ALPHA};function Be(le,Ze,Oe,je,it,xt,wt,St,en,on){if(le===Uc){x===!0&&(Pe(n.BLEND),x=!1);return}if(x===!1&&(De(n.BLEND),x=!0),le!==SF){if(le!==S||on!==U){if((_!==Hu||w!==Hu)&&(n.blendEquation(n.FUNC_ADD),_=Hu,w=Hu),on)switch(le){case Ld:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lS:n.blendFunc(n.ONE,n.ONE);break;case CC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case EC:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case Ld:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lS:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case CC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case EC:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}y=null,A=null,E=null,I=null,P.set(0,0,0),L=0,S=le,U=on}return}it=it||Ze,xt=xt||Oe,wt=wt||je,(Ze!==_||it!==w)&&(n.blendEquationSeparate(oe[Ze],oe[it]),_=Ze,w=it),(Oe!==y||je!==A||xt!==E||wt!==I)&&(n.blendFuncSeparate(Ne[Oe],Ne[je],Ne[xt],Ne[wt]),y=Oe,A=je,E=xt,I=wt),(St.equals(P)===!1||en!==L)&&(n.blendColor(St.r,St.g,St.b,en),P.copy(St),L=en),S=le,U=!1}function He(le,Ze){le.side===Qs?Pe(n.CULL_FACE):De(n.CULL_FACE);let Oe=le.side===es;Ze&&(Oe=!Oe),Fe(Oe),le.blending===Ld&&le.transparent===!1?Be(Uc):Be(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),o.setFunc(le.depthFunc),o.setTest(le.depthTest),o.setMask(le.depthWrite),i.setMask(le.colorWrite);const je=le.stencilWrite;s.setTest(je),je&&(s.setMask(le.stencilWriteMask),s.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),s.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),qe(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?De(n.SAMPLE_ALPHA_TO_COVERAGE):Pe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Fe(le){F!==le&&(le?n.frontFace(n.CW):n.frontFace(n.CCW),F=le)}function Ve(le){le!==yF?(De(n.CULL_FACE),le!==O&&(le===wC?n.cullFace(n.BACK):le===xF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Pe(n.CULL_FACE),O=le}function Ke(le){le!==G&&(se&&n.lineWidth(le),G=le)}function qe(le,Ze,Oe){le?(De(n.POLYGON_OFFSET_FILL),(te!==Ze||Z!==Oe)&&(n.polygonOffset(Ze,Oe),te=Ze,Z=Oe)):Pe(n.POLYGON_OFFSET_FILL)}function rt(le){le?De(n.SCISSOR_TEST):Pe(n.SCISSOR_TEST)}function Q(le){le===void 0&&(le=n.TEXTURE0+ie-1),N!==le&&(n.activeTexture(le),N=le)}function V(le,Ze,Oe){Oe===void 0&&(N===null?Oe=n.TEXTURE0+ie-1:Oe=N);let je=j[Oe];je===void 0&&(je={type:void 0,texture:void 0},j[Oe]=je),(je.type!==le||je.texture!==Ze)&&(N!==Oe&&(n.activeTexture(Oe),N=Oe),n.bindTexture(le,Ze||Ce[le]),je.type=le,je.texture=Ze)}function ge(){const le=j[N];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function Ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Re(){try{n.compressedTexImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ze(){try{n.texSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function pt(){try{n.texSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ct(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function st(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function kt(){try{n.texStorage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Qe(){try{n.texStorage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function vt(){try{n.texImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Vt(){try{n.texImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function It(le){pe.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),pe.copy(le))}function ft(le){Me.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),Me.copy(le))}function he(le,Ze){let Oe=l.get(Ze);Oe===void 0&&(Oe=new WeakMap,l.set(Ze,Oe));let je=Oe.get(le);je===void 0&&(je=n.getUniformBlockIndex(Ze,le.name),Oe.set(le,je))}function Ge(le,Ze){const je=l.get(Ze).get(le);a.get(Ze)!==je&&(n.uniformBlockBinding(Ze,je,le.__bindingPointIndex),a.set(Ze,je))}function ut(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},N=null,j={},f={},p=new WeakMap,m=[],v=null,x=!1,S=null,_=null,y=null,A=null,w=null,E=null,I=null,P=new bt(0,0,0),L=0,U=!1,F=null,O=null,G=null,te=null,Z=null,pe.set(0,0,n.canvas.width,n.canvas.height),Me.set(0,0,n.canvas.width,n.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:De,disable:Pe,bindFramebuffer:lt,drawBuffers:dt,useProgram:ht,setBlending:Be,setMaterial:He,setFlipSided:Fe,setCullFace:Ve,setLineWidth:Ke,setPolygonOffset:qe,setScissorTest:rt,activeTexture:Q,bindTexture:V,unbindTexture:ge,compressedTexImage2D:Ae,compressedTexImage3D:Re,texImage2D:vt,texImage3D:Vt,updateUBOMapping:he,uniformBlockBinding:Ge,texStorage2D:kt,texStorage3D:Qe,texSubImage2D:ze,texSubImage3D:pt,compressedTexSubImage2D:ct,compressedTexSubImage3D:st,scissor:It,viewport:ft,reset:ut}}function EX(n,e,t,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ye,f=new WeakMap;let p;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Q,V){return v?new OffscreenCanvas(Q,V):Kv("canvas")}function S(Q,V,ge){let Ae=1;const Re=rt(Q);if((Re.width>ge||Re.height>ge)&&(Ae=ge/Math.max(Re.width,Re.height)),Ae<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const ze=Math.floor(Ae*Re.width),pt=Math.floor(Ae*Re.height);p===void 0&&(p=x(ze,pt));const ct=V?x(ze,pt):p;return ct.width=ze,ct.height=pt,ct.getContext("2d").drawImage(Q,0,0,ze,pt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+ze+"x"+pt+")."),ct}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),Q;return Q}function _(Q){return Q.generateMipmaps&&Q.minFilter!==Vi&&Q.minFilter!==pi}function y(Q){n.generateMipmap(Q)}function A(Q,V,ge,Ae,Re=!1){if(Q!==null){if(n[Q]!==void 0)return n[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let ze=V;if(V===n.RED&&(ge===n.FLOAT&&(ze=n.R32F),ge===n.HALF_FLOAT&&(ze=n.R16F),ge===n.UNSIGNED_BYTE&&(ze=n.R8)),V===n.RED_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.R8UI),ge===n.UNSIGNED_SHORT&&(ze=n.R16UI),ge===n.UNSIGNED_INT&&(ze=n.R32UI),ge===n.BYTE&&(ze=n.R8I),ge===n.SHORT&&(ze=n.R16I),ge===n.INT&&(ze=n.R32I)),V===n.RG&&(ge===n.FLOAT&&(ze=n.RG32F),ge===n.HALF_FLOAT&&(ze=n.RG16F),ge===n.UNSIGNED_BYTE&&(ze=n.RG8)),V===n.RG_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.RG8UI),ge===n.UNSIGNED_SHORT&&(ze=n.RG16UI),ge===n.UNSIGNED_INT&&(ze=n.RG32UI),ge===n.BYTE&&(ze=n.RG8I),ge===n.SHORT&&(ze=n.RG16I),ge===n.INT&&(ze=n.RG32I)),V===n.RGB&&ge===n.UNSIGNED_INT_5_9_9_9_REV&&(ze=n.RGB9_E5),V===n.RGBA){const pt=Re?Vv:ur.getTransfer(Ae);ge===n.FLOAT&&(ze=n.RGBA32F),ge===n.HALF_FLOAT&&(ze=n.RGBA16F),ge===n.UNSIGNED_BYTE&&(ze=pt===Dr?n.SRGB8_ALPHA8:n.RGBA8),ge===n.UNSIGNED_SHORT_4_4_4_4&&(ze=n.RGBA4),ge===n.UNSIGNED_SHORT_5_5_5_1&&(ze=n.RGB5_A1)}return(ze===n.R16F||ze===n.R32F||ze===n.RG16F||ze===n.RG32F||ze===n.RGBA16F||ze===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function w(Q,V){let ge;return Q?V===null||V===jd||V===Xd?ge=n.DEPTH24_STENCIL8:V===na?ge=n.DEPTH32F_STENCIL8:V===Hv&&(ge=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===jd||V===Xd?ge=n.DEPTH_COMPONENT24:V===na?ge=n.DEPTH_COMPONENT32F:V===Hv&&(ge=n.DEPTH_COMPONENT16),ge}function E(Q,V){return _(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==Vi&&Q.minFilter!==pi?Math.log2(Math.max(V.width,V.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?V.mipmaps.length:1}function I(Q){const V=Q.target;V.removeEventListener("dispose",I),L(V),V.isVideoTexture&&f.delete(V)}function P(Q){const V=Q.target;V.removeEventListener("dispose",P),F(V)}function L(Q){const V=r.get(Q);if(V.__webglInit===void 0)return;const ge=Q.source,Ae=m.get(ge);if(Ae){const Re=Ae[V.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&U(Q),Object.keys(Ae).length===0&&m.delete(ge)}r.remove(Q)}function U(Q){const V=r.get(Q);n.deleteTexture(V.__webglTexture);const ge=Q.source,Ae=m.get(ge);delete Ae[V.__cacheKey],s.memory.textures--}function F(Q){const V=r.get(Q);if(Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(V.__webglFramebuffer[Ae]))for(let Re=0;Re<V.__webglFramebuffer[Ae].length;Re++)n.deleteFramebuffer(V.__webglFramebuffer[Ae][Re]);else n.deleteFramebuffer(V.__webglFramebuffer[Ae]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Ae])}else{if(Array.isArray(V.__webglFramebuffer))for(let Ae=0;Ae<V.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(V.__webglFramebuffer[Ae]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Ae=0;Ae<V.__webglColorRenderbuffer.length;Ae++)V.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Ae]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const ge=Q.textures;for(let Ae=0,Re=ge.length;Ae<Re;Ae++){const ze=r.get(ge[Ae]);ze.__webglTexture&&(n.deleteTexture(ze.__webglTexture),s.memory.textures--),r.remove(ge[Ae])}r.remove(Q)}let O=0;function G(){O=0}function te(){const Q=O;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),O+=1,Q}function Z(Q){const V=[];return V.push(Q.wrapS),V.push(Q.wrapT),V.push(Q.wrapR||0),V.push(Q.magFilter),V.push(Q.minFilter),V.push(Q.anisotropy),V.push(Q.internalFormat),V.push(Q.format),V.push(Q.type),V.push(Q.generateMipmaps),V.push(Q.premultiplyAlpha),V.push(Q.flipY),V.push(Q.unpackAlignment),V.push(Q.colorSpace),V.join()}function ie(Q,V){const ge=r.get(Q);if(Q.isVideoTexture&&Ke(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ge.__version!==Q.version){const Ae=Q.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(ge,Q,V);return}}t.bindTexture(n.TEXTURE_2D,ge.__webglTexture,n.TEXTURE0+V)}function se(Q,V){const ge=r.get(Q);if(Q.version>0&&ge.__version!==Q.version){Me(ge,Q,V);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ge.__webglTexture,n.TEXTURE0+V)}function K(Q,V){const ge=r.get(Q);if(Q.version>0&&ge.__version!==Q.version){Me(ge,Q,V);return}t.bindTexture(n.TEXTURE_3D,ge.__webglTexture,n.TEXTURE0+V)}function X(Q,V){const ge=r.get(Q);if(Q.version>0&&ge.__version!==Q.version){de(ge,Q,V);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+V)}const N={[af]:n.REPEAT,[ta]:n.CLAMP_TO_EDGE,[um]:n.MIRRORED_REPEAT},j={[Vi]:n.NEAREST,[e1]:n.NEAREST_MIPMAP_NEAREST,[_d]:n.NEAREST_MIPMAP_LINEAR,[pi]:n.LINEAR,[qp]:n.LINEAR_MIPMAP_NEAREST,[Da]:n.LINEAR_MIPMAP_LINEAR},J={[vN]:n.NEVER,[MN]:n.ALWAYS,[yN]:n.LESS,[aT]:n.LEQUAL,[xN]:n.EQUAL,[AN]:n.GEQUAL,[_N]:n.GREATER,[SN]:n.NOTEQUAL};function re(Q,V){if(V.type===na&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===pi||V.magFilter===qp||V.magFilter===_d||V.magFilter===Da||V.minFilter===pi||V.minFilter===qp||V.minFilter===_d||V.minFilter===Da)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Q,n.TEXTURE_WRAP_S,N[V.wrapS]),n.texParameteri(Q,n.TEXTURE_WRAP_T,N[V.wrapT]),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,N[V.wrapR]),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,j[V.magFilter]),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,j[V.minFilter]),V.compareFunction&&(n.texParameteri(Q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Q,n.TEXTURE_COMPARE_FUNC,J[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Vi||V.minFilter!==_d&&V.minFilter!==Da||V.type===na&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Q,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function pe(Q,V){let ge=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,V.addEventListener("dispose",I));const Ae=V.source;let Re=m.get(Ae);Re===void 0&&(Re={},m.set(Ae,Re));const ze=Z(V);if(ze!==Q.__cacheKey){Re[ze]===void 0&&(Re[ze]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,ge=!0),Re[ze].usedTimes++;const pt=Re[Q.__cacheKey];pt!==void 0&&(Re[Q.__cacheKey].usedTimes--,pt.usedTimes===0&&U(V)),Q.__cacheKey=ze,Q.__webglTexture=Re[ze].texture}return ge}function Me(Q,V,ge){let Ae=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Ae=n.TEXTURE_3D);const Re=pe(Q,V),ze=V.source;t.bindTexture(Ae,Q.__webglTexture,n.TEXTURE0+ge);const pt=r.get(ze);if(ze.version!==pt.__version||Re===!0){t.activeTexture(n.TEXTURE0+ge);const ct=ur.getPrimaries(ur.workingColorSpace),st=V.colorSpace===Ic?null:ur.getPrimaries(V.colorSpace),kt=V.colorSpace===Ic||ct===st?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,kt);let Qe=S(V.image,!1,i.maxTextureSize);Qe=qe(V,Qe);const vt=o.convert(V.format,V.colorSpace),Vt=o.convert(V.type);let It=A(V.internalFormat,vt,Vt,V.colorSpace,V.isVideoTexture);re(Ae,V);let ft;const he=V.mipmaps,Ge=V.isVideoTexture!==!0,ut=pt.__version===void 0||Re===!0,le=ze.dataReady,Ze=E(V,Qe);if(V.isDepthTexture)It=w(V.format===Kd,V.type),ut&&(Ge?t.texStorage2D(n.TEXTURE_2D,1,It,Qe.width,Qe.height):t.texImage2D(n.TEXTURE_2D,0,It,Qe.width,Qe.height,0,vt,Vt,null));else if(V.isDataTexture)if(he.length>0){Ge&&ut&&t.texStorage2D(n.TEXTURE_2D,Ze,It,he[0].width,he[0].height);for(let Oe=0,je=he.length;Oe<je;Oe++)ft=he[Oe],Ge?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,ft.width,ft.height,vt,Vt,ft.data):t.texImage2D(n.TEXTURE_2D,Oe,It,ft.width,ft.height,0,vt,Vt,ft.data);V.generateMipmaps=!1}else Ge?(ut&&t.texStorage2D(n.TEXTURE_2D,Ze,It,Qe.width,Qe.height),le&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Qe.width,Qe.height,vt,Vt,Qe.data)):t.texImage2D(n.TEXTURE_2D,0,It,Qe.width,Qe.height,0,vt,Vt,Qe.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ge&&ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,It,he[0].width,he[0].height,Qe.depth);for(let Oe=0,je=he.length;Oe<je;Oe++)if(ft=he[Oe],V.format!==Qo)if(vt!==null)if(Ge){if(le)if(V.layerUpdates.size>0){for(const it of V.layerUpdates){const xt=ft.width*ft.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,it,ft.width,ft.height,1,vt,ft.data.slice(xt*it,xt*(it+1)),0,0)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,0,ft.width,ft.height,Qe.depth,vt,ft.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Oe,It,ft.width,ft.height,Qe.depth,0,ft.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ge?le&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,0,ft.width,ft.height,Qe.depth,vt,Vt,ft.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Oe,It,ft.width,ft.height,Qe.depth,0,vt,Vt,ft.data)}else{Ge&&ut&&t.texStorage2D(n.TEXTURE_2D,Ze,It,he[0].width,he[0].height);for(let Oe=0,je=he.length;Oe<je;Oe++)ft=he[Oe],V.format!==Qo?vt!==null?Ge?le&&t.compressedTexSubImage2D(n.TEXTURE_2D,Oe,0,0,ft.width,ft.height,vt,ft.data):t.compressedTexImage2D(n.TEXTURE_2D,Oe,It,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,ft.width,ft.height,vt,Vt,ft.data):t.texImage2D(n.TEXTURE_2D,Oe,It,ft.width,ft.height,0,vt,Vt,ft.data)}else if(V.isDataArrayTexture)if(Ge){if(ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,It,Qe.width,Qe.height,Qe.depth),le)if(V.layerUpdates.size>0){let Oe;switch(Vt){case n.UNSIGNED_BYTE:switch(vt){case n.ALPHA:Oe=1;break;case n.LUMINANCE:Oe=1;break;case n.LUMINANCE_ALPHA:Oe=2;break;case n.RGB:Oe=3;break;case n.RGBA:Oe=4;break;default:throw new Error(`Unknown texel size for format ${vt}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:Oe=1;break;default:throw new Error(`Unknown texel size for type ${Vt}.`)}const je=Qe.width*Qe.height*Oe;for(const it of V.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,it,Qe.width,Qe.height,1,vt,Vt,Qe.data.slice(je*it,je*(it+1)));V.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Qe.width,Qe.height,Qe.depth,vt,Vt,Qe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,It,Qe.width,Qe.height,Qe.depth,0,vt,Vt,Qe.data);else if(V.isData3DTexture)Ge?(ut&&t.texStorage3D(n.TEXTURE_3D,Ze,It,Qe.width,Qe.height,Qe.depth),le&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Qe.width,Qe.height,Qe.depth,vt,Vt,Qe.data)):t.texImage3D(n.TEXTURE_3D,0,It,Qe.width,Qe.height,Qe.depth,0,vt,Vt,Qe.data);else if(V.isFramebufferTexture){if(ut)if(Ge)t.texStorage2D(n.TEXTURE_2D,Ze,It,Qe.width,Qe.height);else{let Oe=Qe.width,je=Qe.height;for(let it=0;it<Ze;it++)t.texImage2D(n.TEXTURE_2D,it,It,Oe,je,0,vt,Vt,null),Oe>>=1,je>>=1}}else if(he.length>0){if(Ge&&ut){const Oe=rt(he[0]);t.texStorage2D(n.TEXTURE_2D,Ze,It,Oe.width,Oe.height)}for(let Oe=0,je=he.length;Oe<je;Oe++)ft=he[Oe],Ge?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,vt,Vt,ft):t.texImage2D(n.TEXTURE_2D,Oe,It,vt,Vt,ft);V.generateMipmaps=!1}else if(Ge){if(ut){const Oe=rt(Qe);t.texStorage2D(n.TEXTURE_2D,Ze,It,Oe.width,Oe.height)}le&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,vt,Vt,Qe)}else t.texImage2D(n.TEXTURE_2D,0,It,vt,Vt,Qe);_(V)&&y(Ae),pt.__version=ze.version,V.onUpdate&&V.onUpdate(V)}Q.__version=V.version}function de(Q,V,ge){if(V.image.length!==6)return;const Ae=pe(Q,V),Re=V.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+ge);const ze=r.get(Re);if(Re.version!==ze.__version||Ae===!0){t.activeTexture(n.TEXTURE0+ge);const pt=ur.getPrimaries(ur.workingColorSpace),ct=V.colorSpace===Ic?null:ur.getPrimaries(V.colorSpace),st=V.colorSpace===Ic||pt===ct?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const kt=V.isCompressedTexture||V.image[0].isCompressedTexture,Qe=V.image[0]&&V.image[0].isDataTexture,vt=[];for(let je=0;je<6;je++)!kt&&!Qe?vt[je]=S(V.image[je],!0,i.maxCubemapSize):vt[je]=Qe?V.image[je].image:V.image[je],vt[je]=qe(V,vt[je]);const Vt=vt[0],It=o.convert(V.format,V.colorSpace),ft=o.convert(V.type),he=A(V.internalFormat,It,ft,V.colorSpace),Ge=V.isVideoTexture!==!0,ut=ze.__version===void 0||Ae===!0,le=Re.dataReady;let Ze=E(V,Vt);re(n.TEXTURE_CUBE_MAP,V);let Oe;if(kt){Ge&&ut&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ze,he,Vt.width,Vt.height);for(let je=0;je<6;je++){Oe=vt[je].mipmaps;for(let it=0;it<Oe.length;it++){const xt=Oe[it];V.format!==Qo?It!==null?Ge?le&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it,0,0,xt.width,xt.height,It,xt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it,he,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ge?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it,0,0,xt.width,xt.height,It,ft,xt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it,he,xt.width,xt.height,0,It,ft,xt.data)}}}else{if(Oe=V.mipmaps,Ge&&ut){Oe.length>0&&Ze++;const je=rt(vt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ze,he,je.width,je.height)}for(let je=0;je<6;je++)if(Qe){Ge?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,vt[je].width,vt[je].height,It,ft,vt[je].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,he,vt[je].width,vt[je].height,0,It,ft,vt[je].data);for(let it=0;it<Oe.length;it++){const wt=Oe[it].image[je].image;Ge?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it+1,0,0,wt.width,wt.height,It,ft,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it+1,he,wt.width,wt.height,0,It,ft,wt.data)}}else{Ge?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,It,ft,vt[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,he,It,ft,vt[je]);for(let it=0;it<Oe.length;it++){const xt=Oe[it];Ge?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it+1,0,0,It,ft,xt.image[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,it+1,he,It,ft,xt.image[je])}}}_(V)&&y(n.TEXTURE_CUBE_MAP),ze.__version=Re.version,V.onUpdate&&V.onUpdate(V)}Q.__version=V.version}function Ce(Q,V,ge,Ae,Re,ze){const pt=o.convert(ge.format,ge.colorSpace),ct=o.convert(ge.type),st=A(ge.internalFormat,pt,ct,ge.colorSpace);if(!r.get(V).__hasExternalTextures){const Qe=Math.max(1,V.width>>ze),vt=Math.max(1,V.height>>ze);Re===n.TEXTURE_3D||Re===n.TEXTURE_2D_ARRAY?t.texImage3D(Re,ze,st,Qe,vt,V.depth,0,pt,ct,null):t.texImage2D(Re,ze,st,Qe,vt,0,pt,ct,null)}t.bindFramebuffer(n.FRAMEBUFFER,Q),Ve(V)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,Re,r.get(ge).__webglTexture,0,Fe(V)):(Re===n.TEXTURE_2D||Re>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,Re,r.get(ge).__webglTexture,ze),t.bindFramebuffer(n.FRAMEBUFFER,null)}function De(Q,V,ge){if(n.bindRenderbuffer(n.RENDERBUFFER,Q),V.depthBuffer){const Ae=V.depthTexture,Re=Ae&&Ae.isDepthTexture?Ae.type:null,ze=w(V.stencilBuffer,Re),pt=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=Fe(V);Ve(V)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,ze,V.width,V.height):ge?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,ze,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,ze,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,Q)}else{const Ae=V.textures;for(let Re=0;Re<Ae.length;Re++){const ze=Ae[Re],pt=o.convert(ze.format,ze.colorSpace),ct=o.convert(ze.type),st=A(ze.internalFormat,pt,ct,ze.colorSpace),kt=Fe(V);ge&&Ve(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,kt,st,V.width,V.height):Ve(V)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,kt,st,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,st,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Pe(Q,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Q),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(V.depthTexture).__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),ie(V.depthTexture,0);const Ae=r.get(V.depthTexture).__webglTexture,Re=Fe(V);if(V.depthTexture.format===Od)Ve(V)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ae,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ae,0);else if(V.depthTexture.format===Kd)Ve(V)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ae,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ae,0);else throw new Error("Unknown depthTexture format")}function lt(Q){const V=r.get(Q),ge=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!V.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");Pe(V.__webglFramebuffer,Q)}else if(ge){V.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Ae]),V.__webglDepthbuffer[Ae]=n.createRenderbuffer(),De(V.__webglDepthbuffer[Ae],Q,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer=n.createRenderbuffer(),De(V.__webglDepthbuffer,Q,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function dt(Q,V,ge){const Ae=r.get(Q);V!==void 0&&Ce(Ae.__webglFramebuffer,Q,Q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ge!==void 0&&lt(Q)}function ht(Q){const V=Q.texture,ge=r.get(Q),Ae=r.get(V);Q.addEventListener("dispose",P);const Re=Q.textures,ze=Q.isWebGLCubeRenderTarget===!0,pt=Re.length>1;if(pt||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=V.version,s.memory.textures++),ze){ge.__webglFramebuffer=[];for(let ct=0;ct<6;ct++)if(V.mipmaps&&V.mipmaps.length>0){ge.__webglFramebuffer[ct]=[];for(let st=0;st<V.mipmaps.length;st++)ge.__webglFramebuffer[ct][st]=n.createFramebuffer()}else ge.__webglFramebuffer[ct]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){ge.__webglFramebuffer=[];for(let ct=0;ct<V.mipmaps.length;ct++)ge.__webglFramebuffer[ct]=n.createFramebuffer()}else ge.__webglFramebuffer=n.createFramebuffer();if(pt)for(let ct=0,st=Re.length;ct<st;ct++){const kt=r.get(Re[ct]);kt.__webglTexture===void 0&&(kt.__webglTexture=n.createTexture(),s.memory.textures++)}if(Q.samples>0&&Ve(Q)===!1){ge.__webglMultisampledFramebuffer=n.createFramebuffer(),ge.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let ct=0;ct<Re.length;ct++){const st=Re[ct];ge.__webglColorRenderbuffer[ct]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ge.__webglColorRenderbuffer[ct]);const kt=o.convert(st.format,st.colorSpace),Qe=o.convert(st.type),vt=A(st.internalFormat,kt,Qe,st.colorSpace,Q.isXRRenderTarget===!0),Vt=Fe(Q);n.renderbufferStorageMultisample(n.RENDERBUFFER,Vt,vt,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,ge.__webglColorRenderbuffer[ct])}n.bindRenderbuffer(n.RENDERBUFFER,null),Q.depthBuffer&&(ge.__webglDepthRenderbuffer=n.createRenderbuffer(),De(ge.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ze){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),re(n.TEXTURE_CUBE_MAP,V);for(let ct=0;ct<6;ct++)if(V.mipmaps&&V.mipmaps.length>0)for(let st=0;st<V.mipmaps.length;st++)Ce(ge.__webglFramebuffer[ct][st],Q,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ct,st);else Ce(ge.__webglFramebuffer[ct],Q,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ct,0);_(V)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(pt){for(let ct=0,st=Re.length;ct<st;ct++){const kt=Re[ct],Qe=r.get(kt);t.bindTexture(n.TEXTURE_2D,Qe.__webglTexture),re(n.TEXTURE_2D,kt),Ce(ge.__webglFramebuffer,Q,kt,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,0),_(kt)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let ct=n.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(ct=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ct,Ae.__webglTexture),re(ct,V),V.mipmaps&&V.mipmaps.length>0)for(let st=0;st<V.mipmaps.length;st++)Ce(ge.__webglFramebuffer[st],Q,V,n.COLOR_ATTACHMENT0,ct,st);else Ce(ge.__webglFramebuffer,Q,V,n.COLOR_ATTACHMENT0,ct,0);_(V)&&y(ct),t.unbindTexture()}Q.depthBuffer&&lt(Q)}function oe(Q){const V=Q.textures;for(let ge=0,Ae=V.length;ge<Ae;ge++){const Re=V[ge];if(_(Re)){const ze=Q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,pt=r.get(Re).__webglTexture;t.bindTexture(ze,pt),y(ze),t.unbindTexture()}}}const Ne=[],Be=[];function He(Q){if(Q.samples>0){if(Ve(Q)===!1){const V=Q.textures,ge=Q.width,Ae=Q.height;let Re=n.COLOR_BUFFER_BIT;const ze=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,pt=r.get(Q),ct=V.length>1;if(ct)for(let st=0;st<V.length;st++)t.bindFramebuffer(n.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,pt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,pt.__webglFramebuffer);for(let st=0;st<V.length;st++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Re|=n.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Re|=n.STENCIL_BUFFER_BIT)),ct){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,pt.__webglColorRenderbuffer[st]);const kt=r.get(V[st]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,kt,0)}n.blitFramebuffer(0,0,ge,Ae,0,0,ge,Ae,Re,n.NEAREST),l===!0&&(Ne.length=0,Be.length=0,Ne.push(n.COLOR_ATTACHMENT0+st),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(Ne.push(ze),Be.push(ze),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Be)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ct)for(let st=0;st<V.length;st++){t.bindFramebuffer(n.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,pt.__webglColorRenderbuffer[st]);const kt=r.get(V[st]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,kt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,pt.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&l){const V=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function Fe(Q){return Math.min(i.maxSamples,Q.samples)}function Ve(Q){const V=r.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Ke(Q){const V=s.render.frame;f.get(Q)!==V&&(f.set(Q,V),Q.update())}function qe(Q,V){const ge=Q.colorSpace,Ae=Q.format,Re=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||ge!==Yc&&ge!==Ic&&(ur.getTransfer(ge)===Dr?(Ae!==Qo||Re!==ql)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),V}function rt(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(c.width=Q.naturalWidth||Q.width,c.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(c.width=Q.displayWidth,c.height=Q.displayHeight):(c.width=Q.width,c.height=Q.height),c}this.allocateTextureUnit=te,this.resetTextureUnits=G,this.setTexture2D=ie,this.setTexture2DArray=se,this.setTexture3D=K,this.setTextureCube=X,this.rebindTextures=dt,this.setupRenderTarget=ht,this.updateRenderTargetMipmap=oe,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=lt,this.setupFrameBufferTexture=Ce,this.useMultisampledRTT=Ve}function zN(n,e){function t(r,i=Ic){let o;const s=ur.getTransfer(i);if(r===ql)return n.UNSIGNED_BYTE;if(r===Zb)return n.UNSIGNED_SHORT_4_4_4_4;if(r===eT)return n.UNSIGNED_SHORT_5_5_5_1;if(r===rN)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===tN)return n.BYTE;if(r===nN)return n.SHORT;if(r===Hv)return n.UNSIGNED_SHORT;if(r===Qb)return n.INT;if(r===jd)return n.UNSIGNED_INT;if(r===na)return n.FLOAT;if(r===m0)return n.HALF_FLOAT;if(r===iN)return n.ALPHA;if(r===oN)return n.RGB;if(r===Qo)return n.RGBA;if(r===sN)return n.LUMINANCE;if(r===aN)return n.LUMINANCE_ALPHA;if(r===Od)return n.DEPTH_COMPONENT;if(r===Kd)return n.DEPTH_STENCIL;if(r===tT)return n.RED;if(r===nT)return n.RED_INTEGER;if(r===lN)return n.RG;if(r===rT)return n.RG_INTEGER;if(r===iT)return n.RGBA_INTEGER;if(r===S_||r===A_||r===M_||r===w_)if(s===Dr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===S_)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===A_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===M_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===w_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===S_)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===A_)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===M_)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===w_)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===TC||r===RC||r===PC||r===IC)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===TC)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===RC)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===PC)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===IC)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===BC||r===LC||r===OC)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===BC||r===LC)return s===Dr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===OC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===DC||r===FC||r===NC||r===UC||r===kC||r===zC||r===HC||r===GC||r===VC||r===WC||r===$C||r===jC||r===XC||r===KC)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===DC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===FC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===NC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===UC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===kC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===zC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===HC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===GC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===VC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===WC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===$C)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===jC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===XC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===KC)return s===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===C_||r===JC||r===YC)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===C_)return s===Dr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===JC)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===YC)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===cN||r===qC||r===QC||r===ZC)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===C_)return o.COMPRESSED_RED_RGTC1_EXT;if(r===qC)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===QC)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===ZC)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Xd?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}class HN extends ti{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Dc extends or{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bX={type:"move"};class AM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,r),y=this._getHandJoint(c,S);_!==null&&(y.matrix.fromArray(_.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=_.radius),y.visible=_!==null}const f=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],m=f.position.distanceTo(p.position),v=.02,x=.005;c.inputState.pinching&&m>v+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(bX)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Dc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const TX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,RX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class PX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Ir,o=e.properties.get(i);o.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new ka({vertexShader:TX,fragmentShader:RX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ur(new lf(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class IX extends Zl{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,f=null,p=null,m=null,v=null,x=null;const S=new PX,_=t.getContextAttributes();let y=null,A=null;const w=[],E=[],I=new Ye;let P=null;const L=new ti;L.layers.enable(1),L.viewport=new vr;const U=new ti;U.layers.enable(2),U.viewport=new vr;const F=[L,U],O=new HN;O.layers.enable(1),O.layers.enable(2);let G=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let Ce=w[de];return Ce===void 0&&(Ce=new AM,w[de]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(de){let Ce=w[de];return Ce===void 0&&(Ce=new AM,w[de]=Ce),Ce.getGripSpace()},this.getHand=function(de){let Ce=w[de];return Ce===void 0&&(Ce=new AM,w[de]=Ce),Ce.getHandSpace()};function Z(de){const Ce=E.indexOf(de.inputSource);if(Ce===-1)return;const De=w[Ce];De!==void 0&&(De.update(de.inputSource,de.frame,c||s),De.dispatchEvent({type:de.type,data:de.inputSource}))}function ie(){i.removeEventListener("select",Z),i.removeEventListener("selectstart",Z),i.removeEventListener("selectend",Z),i.removeEventListener("squeeze",Z),i.removeEventListener("squeezestart",Z),i.removeEventListener("squeezeend",Z),i.removeEventListener("end",ie),i.removeEventListener("inputsourceschange",se);for(let de=0;de<w.length;de++){const Ce=E[de];Ce!==null&&(E[de]=null,w[de].disconnect(Ce))}G=null,te=null,S.reset(),e.setRenderTarget(y),v=null,m=null,p=null,i=null,A=null,Me.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){o=de,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){a=de,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(de){c=de},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(de){if(i=de,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",Z),i.addEventListener("selectstart",Z),i.addEventListener("selectend",Z),i.addEventListener("squeeze",Z),i.addEventListener("squeezestart",Z),i.addEventListener("squeezeend",Z),i.addEventListener("end",ie),i.addEventListener("inputsourceschange",se),_.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(I),i.renderState.layers===void 0){const Ce={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};v=new XRWebGLLayer(i,t,Ce),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),A=new xl(v.framebufferWidth,v.framebufferHeight,{format:Qo,type:ql,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let Ce=null,De=null,Pe=null;_.depth&&(Pe=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ce=_.stencil?Kd:Od,De=_.stencil?Xd:jd);const lt={colorFormat:t.RGBA8,depthFormat:Pe,scaleFactor:o};p=new XRWebGLBinding(i,t),m=p.createProjectionLayer(lt),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),A=new xl(m.textureWidth,m.textureHeight,{format:Qo,type:ql,depthTexture:new pT(m.textureWidth,m.textureHeight,De,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),Me.setContext(i),Me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function se(de){for(let Ce=0;Ce<de.removed.length;Ce++){const De=de.removed[Ce],Pe=E.indexOf(De);Pe>=0&&(E[Pe]=null,w[Pe].disconnect(De))}for(let Ce=0;Ce<de.added.length;Ce++){const De=de.added[Ce];let Pe=E.indexOf(De);if(Pe===-1){for(let dt=0;dt<w.length;dt++)if(dt>=E.length){E.push(De),Pe=dt;break}else if(E[dt]===null){E[dt]=De,Pe=dt;break}if(Pe===-1)break}const lt=w[Pe];lt&&lt.connect(De)}}const K=new ee,X=new ee;function N(de,Ce,De){K.setFromMatrixPosition(Ce.matrixWorld),X.setFromMatrixPosition(De.matrixWorld);const Pe=K.distanceTo(X),lt=Ce.projectionMatrix.elements,dt=De.projectionMatrix.elements,ht=lt[14]/(lt[10]-1),oe=lt[14]/(lt[10]+1),Ne=(lt[9]+1)/lt[5],Be=(lt[9]-1)/lt[5],He=(lt[8]-1)/lt[0],Fe=(dt[8]+1)/dt[0],Ve=ht*He,Ke=ht*Fe,qe=Pe/(-He+Fe),rt=qe*-He;Ce.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(rt),de.translateZ(qe),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert();const Q=ht+qe,V=oe+qe,ge=Ve-rt,Ae=Ke+(Pe-rt),Re=Ne*oe/V*Q,ze=Be*oe/V*Q;de.projectionMatrix.makePerspective(ge,Ae,Re,ze,Q,V),de.projectionMatrixInverse.copy(de.projectionMatrix).invert()}function j(de,Ce){Ce===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(Ce.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(i===null)return;S.texture!==null&&(de.near=S.depthNear,de.far=S.depthFar),O.near=U.near=L.near=de.near,O.far=U.far=L.far=de.far,(G!==O.near||te!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),G=O.near,te=O.far,L.near=G,L.far=te,U.near=G,U.far=te,L.updateProjectionMatrix(),U.updateProjectionMatrix(),de.updateProjectionMatrix());const Ce=de.parent,De=O.cameras;j(O,Ce);for(let Pe=0;Pe<De.length;Pe++)j(De[Pe],Ce);De.length===2?N(O,L,U):O.projectionMatrix.copy(L.projectionMatrix),J(de,O,Ce)};function J(de,Ce,De){De===null?de.matrix.copy(Ce.matrixWorld):(de.matrix.copy(De.matrixWorld),de.matrix.invert(),de.matrix.multiply(Ce.matrixWorld)),de.matrix.decompose(de.position,de.quaternion,de.scale),de.updateMatrixWorld(!0),de.projectionMatrix.copy(Ce.projectionMatrix),de.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),de.isPerspectiveCamera&&(de.fov=hm*2*Math.atan(1/de.projectionMatrix.elements[5]),de.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(de){l=de,m!==null&&(m.fixedFoveation=de),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=de)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(O)};let re=null;function pe(de,Ce){if(f=Ce.getViewerPose(c||s),x=Ce,f!==null){const De=f.views;v!==null&&(e.setRenderTargetFramebuffer(A,v.framebuffer),e.setRenderTarget(A));let Pe=!1;De.length!==O.cameras.length&&(O.cameras.length=0,Pe=!0);for(let dt=0;dt<De.length;dt++){const ht=De[dt];let oe=null;if(v!==null)oe=v.getViewport(ht);else{const Be=p.getViewSubImage(m,ht);oe=Be.viewport,dt===0&&(e.setRenderTargetTextures(A,Be.colorTexture,m.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(A))}let Ne=F[dt];Ne===void 0&&(Ne=new ti,Ne.layers.enable(dt),Ne.viewport=new vr,F[dt]=Ne),Ne.matrix.fromArray(ht.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(ht.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(oe.x,oe.y,oe.width,oe.height),dt===0&&(O.matrix.copy(Ne.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),Pe===!0&&O.cameras.push(Ne)}const lt=i.enabledFeatures;if(lt&&lt.includes("depth-sensing")){const dt=p.getDepthInformation(De[0]);dt&&dt.isValid&&dt.texture&&S.init(e,dt,i.renderState)}}for(let De=0;De<w.length;De++){const Pe=E[De],lt=w[De];Pe!==null&&lt!==void 0&&lt.update(Pe,Ce,c||s)}re&&re(de,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),x=null}const Me=new ON;Me.setAnimationLoop(pe),this.setAnimationLoop=function(de){re=de},this.dispose=function(){}}}const ed=new la,BX=new an;function LX(n,e){function t(_,y){_.matrixAutoUpdate===!0&&_.updateMatrix(),y.value.copy(_.matrix)}function r(_,y){y.color.getRGB(_.fogColor.value,PN(n)),y.isFog?(_.fogNear.value=y.near,_.fogFar.value=y.far):y.isFogExp2&&(_.fogDensity.value=y.density)}function i(_,y,A,w,E){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(_,y):y.isMeshToonMaterial?(o(_,y),p(_,y)):y.isMeshPhongMaterial?(o(_,y),f(_,y)):y.isMeshStandardMaterial?(o(_,y),m(_,y),y.isMeshPhysicalMaterial&&v(_,y,E)):y.isMeshMatcapMaterial?(o(_,y),x(_,y)):y.isMeshDepthMaterial?o(_,y):y.isMeshDistanceMaterial?(o(_,y),S(_,y)):y.isMeshNormalMaterial?o(_,y):y.isLineBasicMaterial?(s(_,y),y.isLineDashedMaterial&&a(_,y)):y.isPointsMaterial?l(_,y,A,w):y.isSpriteMaterial?c(_,y):y.isShadowMaterial?(_.color.value.copy(y.color),_.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(_,y){_.opacity.value=y.opacity,y.color&&_.diffuse.value.copy(y.color),y.emissive&&_.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(_.map.value=y.map,t(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,t(y.alphaMap,_.alphaMapTransform)),y.bumpMap&&(_.bumpMap.value=y.bumpMap,t(y.bumpMap,_.bumpMapTransform),_.bumpScale.value=y.bumpScale,y.side===es&&(_.bumpScale.value*=-1)),y.normalMap&&(_.normalMap.value=y.normalMap,t(y.normalMap,_.normalMapTransform),_.normalScale.value.copy(y.normalScale),y.side===es&&_.normalScale.value.negate()),y.displacementMap&&(_.displacementMap.value=y.displacementMap,t(y.displacementMap,_.displacementMapTransform),_.displacementScale.value=y.displacementScale,_.displacementBias.value=y.displacementBias),y.emissiveMap&&(_.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,_.emissiveMapTransform)),y.specularMap&&(_.specularMap.value=y.specularMap,t(y.specularMap,_.specularMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest);const A=e.get(y),w=A.envMap,E=A.envMapRotation;w&&(_.envMap.value=w,ed.copy(E),ed.x*=-1,ed.y*=-1,ed.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(ed.y*=-1,ed.z*=-1),_.envMapRotation.value.setFromMatrix4(BX.makeRotationFromEuler(ed)),_.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=y.reflectivity,_.ior.value=y.ior,_.refractionRatio.value=y.refractionRatio),y.lightMap&&(_.lightMap.value=y.lightMap,_.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,_.lightMapTransform)),y.aoMap&&(_.aoMap.value=y.aoMap,_.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,_.aoMapTransform))}function s(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,y.map&&(_.map.value=y.map,t(y.map,_.mapTransform))}function a(_,y){_.dashSize.value=y.dashSize,_.totalSize.value=y.dashSize+y.gapSize,_.scale.value=y.scale}function l(_,y,A,w){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.size.value=y.size*A,_.scale.value=w*.5,y.map&&(_.map.value=y.map,t(y.map,_.uvTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,t(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}function c(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.rotation.value=y.rotation,y.map&&(_.map.value=y.map,t(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,t(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}function f(_,y){_.specular.value.copy(y.specular),_.shininess.value=Math.max(y.shininess,1e-4)}function p(_,y){y.gradientMap&&(_.gradientMap.value=y.gradientMap)}function m(_,y){_.metalness.value=y.metalness,y.metalnessMap&&(_.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,_.metalnessMapTransform)),_.roughness.value=y.roughness,y.roughnessMap&&(_.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,_.roughnessMapTransform)),y.envMap&&(_.envMapIntensity.value=y.envMapIntensity)}function v(_,y,A){_.ior.value=y.ior,y.sheen>0&&(_.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),_.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(_.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,_.sheenColorMapTransform)),y.sheenRoughnessMap&&(_.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,_.sheenRoughnessMapTransform))),y.clearcoat>0&&(_.clearcoat.value=y.clearcoat,_.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(_.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,_.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(_.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===es&&_.clearcoatNormalScale.value.negate())),y.dispersion>0&&(_.dispersion.value=y.dispersion),y.iridescence>0&&(_.iridescence.value=y.iridescence,_.iridescenceIOR.value=y.iridescenceIOR,_.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(_.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,_.iridescenceMapTransform)),y.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),y.transmission>0&&(_.transmission.value=y.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),y.transmissionMap&&(_.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,_.transmissionMapTransform)),_.thickness.value=y.thickness,y.thicknessMap&&(_.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=y.attenuationDistance,_.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(_.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(_.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=y.specularIntensity,_.specularColor.value.copy(y.specularColor),y.specularColorMap&&(_.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,_.specularColorMapTransform)),y.specularIntensityMap&&(_.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,_.specularIntensityMapTransform))}function x(_,y){y.matcap&&(_.matcap.value=y.matcap)}function S(_,y){const A=e.get(y).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function OX(n,e,t,r){let i={},o={},s=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,w){const E=w.program;r.uniformBlockBinding(A,E)}function c(A,w){let E=i[A.id];E===void 0&&(x(A),E=f(A),i[A.id]=E,A.addEventListener("dispose",_));const I=w.program;r.updateUBOMapping(A,I);const P=e.render.frame;o[A.id]!==P&&(m(A),o[A.id]=P)}function f(A){const w=p();A.__bindingPointIndex=w;const E=n.createBuffer(),I=A.__size,P=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,I,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,E),E}function p(){for(let A=0;A<a;A++)if(s.indexOf(A)===-1)return s.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(A){const w=i[A.id],E=A.uniforms,I=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let P=0,L=E.length;P<L;P++){const U=Array.isArray(E[P])?E[P]:[E[P]];for(let F=0,O=U.length;F<O;F++){const G=U[F];if(v(G,P,F,I)===!0){const te=G.__offset,Z=Array.isArray(G.value)?G.value:[G.value];let ie=0;for(let se=0;se<Z.length;se++){const K=Z[se],X=S(K);typeof K=="number"||typeof K=="boolean"?(G.__data[0]=K,n.bufferSubData(n.UNIFORM_BUFFER,te+ie,G.__data)):K.isMatrix3?(G.__data[0]=K.elements[0],G.__data[1]=K.elements[1],G.__data[2]=K.elements[2],G.__data[3]=0,G.__data[4]=K.elements[3],G.__data[5]=K.elements[4],G.__data[6]=K.elements[5],G.__data[7]=0,G.__data[8]=K.elements[6],G.__data[9]=K.elements[7],G.__data[10]=K.elements[8],G.__data[11]=0):(K.toArray(G.__data,ie),ie+=X.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,te,G.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(A,w,E,I){const P=A.value,L=w+"_"+E;if(I[L]===void 0)return typeof P=="number"||typeof P=="boolean"?I[L]=P:I[L]=P.clone(),!0;{const U=I[L];if(typeof P=="number"||typeof P=="boolean"){if(U!==P)return I[L]=P,!0}else if(U.equals(P)===!1)return U.copy(P),!0}return!1}function x(A){const w=A.uniforms;let E=0;const I=16;for(let L=0,U=w.length;L<U;L++){const F=Array.isArray(w[L])?w[L]:[w[L]];for(let O=0,G=F.length;O<G;O++){const te=F[O],Z=Array.isArray(te.value)?te.value:[te.value];for(let ie=0,se=Z.length;ie<se;ie++){const K=Z[ie],X=S(K),N=E%I;N!==0&&I-N<X.boundary&&(E+=I-N),te.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=E,E+=X.storage}}}const P=E%I;return P>0&&(E+=I-P),A.__size=E,A.__cache={},this}function S(A){const w={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(w.boundary=4,w.storage=4):A.isVector2?(w.boundary=8,w.storage=8):A.isVector3||A.isColor?(w.boundary=16,w.storage=12):A.isVector4?(w.boundary=16,w.storage=16):A.isMatrix3?(w.boundary=48,w.storage=48):A.isMatrix4?(w.boundary=64,w.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),w}function _(A){const w=A.target;w.removeEventListener("dispose",_);const E=s.indexOf(w.__bindingPointIndex);s.splice(E,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function y(){for(const A in i)n.deleteBuffer(i[A]);s=[],i={},o={}}return{bind:l,update:c,dispose:y}}class GN{constructor(e={}){const{canvas:t=EN(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=s;const v=new Uint32Array(4),x=new Int32Array(4);let S=null,_=null;const y=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ia,this.toneMapping=Kl,this.toneMappingExposure=1;const w=this;let E=!1,I=0,P=0,L=null,U=-1,F=null;const O=new vr,G=new vr;let te=null;const Z=new bt(0);let ie=0,se=t.width,K=t.height,X=1,N=null,j=null;const J=new vr(0,0,se,K),re=new vr(0,0,se,K);let pe=!1;const Me=new x0;let de=!1,Ce=!1;const De=new an,Pe=new ee,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function ht(){return L===null?X:1}let oe=r;function Ne(T,ce){return t.getContext(T,ce)}try{const T={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Tm}`),t.addEventListener("webglcontextlost",Ze,!1),t.addEventListener("webglcontextrestored",Oe,!1),t.addEventListener("webglcontextcreationerror",je,!1),oe===null){const ce="webgl2";if(oe=Ne(ce,T),oe===null)throw Ne(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(T){throw console.error("THREE.WebGLRenderer: "+T.message),T}let Be,He,Fe,Ve,Ke,qe,rt,Q,V,ge,Ae,Re,ze,pt,ct,st,kt,Qe,vt,Vt,It,ft,he,Ge;function ut(){Be=new Xj(oe),Be.init(),ft=new zN(oe,Be),He=new Hj(oe,Be,e,ft),Fe=new CX(oe),Ve=new Yj(oe),Ke=new hX,qe=new EX(oe,Be,Fe,Ke,He,ft,Ve),rt=new Vj(w),Q=new jj(w),V=new rW(oe),he=new kj(oe,V),ge=new Kj(oe,V,Ve,he),Ae=new Qj(oe,ge,V,Ve),vt=new qj(oe,He,qe),st=new Gj(Ke),Re=new dX(w,rt,Q,Be,He,he,st),ze=new LX(w,Ke),pt=new mX,ct=new SX(Be),Qe=new Uj(w,rt,Q,Fe,Ae,m,l),kt=new wX(w,Ae,He),Ge=new OX(oe,Ve,He,Fe),Vt=new zj(oe,Be,Ve),It=new Jj(oe,Be,Ve),Ve.programs=Re.programs,w.capabilities=He,w.extensions=Be,w.properties=Ke,w.renderLists=pt,w.shadowMap=kt,w.state=Fe,w.info=Ve}ut();const le=new IX(w,oe);this.xr=le,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const T=Be.get("WEBGL_lose_context");T&&T.loseContext()},this.forceContextRestore=function(){const T=Be.get("WEBGL_lose_context");T&&T.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(T){T!==void 0&&(X=T,this.setSize(se,K,!1))},this.getSize=function(T){return T.set(se,K)},this.setSize=function(T,ce,Se=!0){if(le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=T,K=ce,t.width=Math.floor(T*X),t.height=Math.floor(ce*X),Se===!0&&(t.style.width=T+"px",t.style.height=ce+"px"),this.setViewport(0,0,T,ce)},this.getDrawingBufferSize=function(T){return T.set(se*X,K*X).floor()},this.setDrawingBufferSize=function(T,ce,Se){se=T,K=ce,X=Se,t.width=Math.floor(T*Se),t.height=Math.floor(ce*Se),this.setViewport(0,0,T,ce)},this.getCurrentViewport=function(T){return T.copy(O)},this.getViewport=function(T){return T.copy(J)},this.setViewport=function(T,ce,Se,be){T.isVector4?J.set(T.x,T.y,T.z,T.w):J.set(T,ce,Se,be),Fe.viewport(O.copy(J).multiplyScalar(X).round())},this.getScissor=function(T){return T.copy(re)},this.setScissor=function(T,ce,Se,be){T.isVector4?re.set(T.x,T.y,T.z,T.w):re.set(T,ce,Se,be),Fe.scissor(G.copy(re).multiplyScalar(X).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(T){Fe.setScissorTest(pe=T)},this.setOpaqueSort=function(T){N=T},this.setTransparentSort=function(T){j=T},this.getClearColor=function(T){return T.copy(Qe.getClearColor())},this.setClearColor=function(){Qe.setClearColor.apply(Qe,arguments)},this.getClearAlpha=function(){return Qe.getClearAlpha()},this.setClearAlpha=function(){Qe.setClearAlpha.apply(Qe,arguments)},this.clear=function(T=!0,ce=!0,Se=!0){let be=0;if(T){let _e=!1;if(L!==null){const me=L.texture.format;_e=me===iT||me===rT||me===nT}if(_e){const me=L.texture.type,ot=me===ql||me===jd||me===Hv||me===Xd||me===Zb||me===eT,At=Qe.getClearColor(),Mt=Qe.getClearAlpha(),Ot=At.r,_t=At.g,Bt=At.b;ot?(v[0]=Ot,v[1]=_t,v[2]=Bt,v[3]=Mt,oe.clearBufferuiv(oe.COLOR,0,v)):(x[0]=Ot,x[1]=_t,x[2]=Bt,x[3]=Mt,oe.clearBufferiv(oe.COLOR,0,x))}else be|=oe.COLOR_BUFFER_BIT}ce&&(be|=oe.DEPTH_BUFFER_BIT),Se&&(be|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ze,!1),t.removeEventListener("webglcontextrestored",Oe,!1),t.removeEventListener("webglcontextcreationerror",je,!1),pt.dispose(),ct.dispose(),Ke.dispose(),rt.dispose(),Q.dispose(),Ae.dispose(),he.dispose(),Ge.dispose(),Re.dispose(),le.dispose(),le.removeEventListener("sessionstart",nn),le.removeEventListener("sessionend",Kt),nr.stop()};function Ze(T){T.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const T=Ve.autoReset,ce=kt.enabled,Se=kt.autoUpdate,be=kt.needsUpdate,_e=kt.type;ut(),Ve.autoReset=T,kt.enabled=ce,kt.autoUpdate=Se,kt.needsUpdate=be,kt.type=_e}function je(T){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",T.statusMessage)}function it(T){const ce=T.target;ce.removeEventListener("dispose",it),xt(ce)}function xt(T){wt(T),Ke.remove(T)}function wt(T){const ce=Ke.get(T).programs;ce!==void 0&&(ce.forEach(function(Se){Re.releaseProgram(Se)}),T.isShaderMaterial&&Re.releaseShaderCache(T))}this.renderBufferDirect=function(T,ce,Se,be,_e,me){ce===null&&(ce=lt);const ot=_e.isMesh&&_e.matrixWorld.determinant()<0,At=oi(T,ce,Se,be,_e);Fe.setMaterial(be,ot);let Mt=Se.index,Ot=1;if(be.wireframe===!0){if(Mt=ge.getWireframeAttribute(Se),Mt===void 0)return;Ot=2}const _t=Se.drawRange,Bt=Se.attributes.position;let Cn=_t.start*Ot,Wn=(_t.start+_t.count)*Ot;me!==null&&(Cn=Math.max(Cn,me.start*Ot),Wn=Math.min(Wn,(me.start+me.count)*Ot)),Mt!==null?(Cn=Math.max(Cn,0),Wn=Math.min(Wn,Mt.count)):Bt!=null&&(Cn=Math.max(Cn,0),Wn=Math.min(Wn,Bt.count));const gn=Wn-Cn;if(gn<0||gn===1/0)return;he.setup(_e,be,At,Se,Mt);let cr,tn=Vt;if(Mt!==null&&(cr=V.get(Mt),tn=It,tn.setIndex(cr)),_e.isMesh)be.wireframe===!0?(Fe.setLineWidth(be.wireframeLinewidth*ht()),tn.setMode(oe.LINES)):tn.setMode(oe.TRIANGLES);else if(_e.isLine){let Te=be.linewidth;Te===void 0&&(Te=1),Fe.setLineWidth(Te*ht()),_e.isLineSegments?tn.setMode(oe.LINES):_e.isLineLoop?tn.setMode(oe.LINE_LOOP):tn.setMode(oe.LINE_STRIP)}else _e.isPoints?tn.setMode(oe.POINTS):_e.isSprite&&tn.setMode(oe.TRIANGLES);if(_e.isBatchedMesh)_e._multiDrawInstances!==null?tn.renderMultiDrawInstances(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount,_e._multiDrawInstances):tn.renderMultiDraw(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount);else if(_e.isInstancedMesh)tn.renderInstances(Cn,gn,_e.count);else if(Se.isInstancedBufferGeometry){const Te=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,ln=Math.min(Se.instanceCount,Te);tn.renderInstances(Cn,gn,ln)}else tn.render(Cn,gn)};function St(T,ce,Se){T.transparent===!0&&T.side===Qs&&T.forceSinglePass===!1?(T.side=es,T.needsUpdate=!0,mr(T,ce,Se),T.side=Yl,T.needsUpdate=!0,mr(T,ce,Se),T.side=Qs):mr(T,ce,Se)}this.compile=function(T,ce,Se=null){Se===null&&(Se=T),_=ct.get(Se),_.init(ce),A.push(_),Se.traverseVisible(function(_e){_e.isLight&&_e.layers.test(ce.layers)&&(_.pushLight(_e),_e.castShadow&&_.pushShadow(_e))}),T!==Se&&T.traverseVisible(function(_e){_e.isLight&&_e.layers.test(ce.layers)&&(_.pushLight(_e),_e.castShadow&&_.pushShadow(_e))}),_.setupLights();const be=new Set;return T.traverse(function(_e){const me=_e.material;if(me)if(Array.isArray(me))for(let ot=0;ot<me.length;ot++){const At=me[ot];St(At,Se,_e),be.add(At)}else St(me,Se,_e),be.add(me)}),A.pop(),_=null,be},this.compileAsync=function(T,ce,Se=null){const be=this.compile(T,ce,Se);return new Promise(_e=>{function me(){if(be.forEach(function(ot){Ke.get(ot).currentProgram.isReady()&&be.delete(ot)}),be.size===0){_e(T);return}setTimeout(me,10)}Be.get("KHR_parallel_shader_compile")!==null?me():setTimeout(me,10)})};let en=null;function on(T){en&&en(T)}function nn(){nr.stop()}function Kt(){nr.start()}const nr=new ON;nr.setAnimationLoop(on),typeof self<"u"&&nr.setContext(self),this.setAnimationLoop=function(T){en=T,le.setAnimationLoop(T),T===null?nr.stop():nr.start()},le.addEventListener("sessionstart",nn),le.addEventListener("sessionend",Kt),this.render=function(T,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(T.matrixWorldAutoUpdate===!0&&T.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),le.enabled===!0&&le.isPresenting===!0&&(le.cameraAutoUpdate===!0&&le.updateCamera(ce),ce=le.getCamera()),T.isScene===!0&&T.onBeforeRender(w,T,ce,L),_=ct.get(T,A.length),_.init(ce),A.push(_),De.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),Me.setFromProjectionMatrix(De),Ce=this.localClippingEnabled,de=st.init(this.clippingPlanes,Ce),S=pt.get(T,y.length),S.init(),y.push(S),le.enabled===!0&&le.isPresenting===!0){const me=w.xr.getDepthSensingMesh();me!==null&&lr(me,ce,-1/0,w.sortObjects)}lr(T,ce,0,w.sortObjects),S.finish(),w.sortObjects===!0&&S.sort(N,j),dt=le.enabled===!1||le.isPresenting===!1||le.hasDepthSensing()===!1,dt&&Qe.addToRenderList(S,T),this.info.render.frame++,de===!0&&st.beginShadows();const Se=_.state.shadowsArray;kt.render(Se,T,ce),de===!0&&st.endShadows(),this.info.autoReset===!0&&this.info.reset();const be=S.opaque,_e=S.transmissive;if(_.setupLights(),ce.isArrayCamera){const me=ce.cameras;if(_e.length>0)for(let ot=0,At=me.length;ot<At;ot++){const Mt=me[ot];fr(be,_e,T,Mt)}dt&&Qe.render(T);for(let ot=0,At=me.length;ot<At;ot++){const Mt=me[ot];Br(S,T,Mt,Mt.viewport)}}else _e.length>0&&fr(be,_e,T,ce),dt&&Qe.render(T),Br(S,T,ce);L!==null&&(qe.updateMultisampleRenderTarget(L),qe.updateRenderTargetMipmap(L)),T.isScene===!0&&T.onAfterRender(w,T,ce),he.resetDefaultState(),U=-1,F=null,A.pop(),A.length>0?(_=A[A.length-1],de===!0&&st.setGlobalState(w.clippingPlanes,_.state.camera)):_=null,y.pop(),y.length>0?S=y[y.length-1]:S=null};function lr(T,ce,Se,be){if(T.visible===!1)return;if(T.layers.test(ce.layers)){if(T.isGroup)Se=T.renderOrder;else if(T.isLOD)T.autoUpdate===!0&&T.update(ce);else if(T.isLight)_.pushLight(T),T.castShadow&&_.pushShadow(T);else if(T.isSprite){if(!T.frustumCulled||Me.intersectsSprite(T)){be&&Pe.setFromMatrixPosition(T.matrixWorld).applyMatrix4(De);const ot=Ae.update(T),At=T.material;At.visible&&S.push(T,ot,At,Se,Pe.z,null)}}else if((T.isMesh||T.isLine||T.isPoints)&&(!T.frustumCulled||Me.intersectsObject(T))){const ot=Ae.update(T),At=T.material;if(be&&(T.boundingSphere!==void 0?(T.boundingSphere===null&&T.computeBoundingSphere(),Pe.copy(T.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),Pe.copy(ot.boundingSphere.center)),Pe.applyMatrix4(T.matrixWorld).applyMatrix4(De)),Array.isArray(At)){const Mt=ot.groups;for(let Ot=0,_t=Mt.length;Ot<_t;Ot++){const Bt=Mt[Ot],Cn=At[Bt.materialIndex];Cn&&Cn.visible&&S.push(T,ot,Cn,Se,Pe.z,Bt)}}else At.visible&&S.push(T,ot,At,Se,Pe.z,null)}}const me=T.children;for(let ot=0,At=me.length;ot<At;ot++)lr(me[ot],ce,Se,be)}function Br(T,ce,Se,be){const _e=T.opaque,me=T.transmissive,ot=T.transparent;_.setupLightsView(Se),de===!0&&st.setGlobalState(w.clippingPlanes,Se),be&&Fe.viewport(O.copy(be)),_e.length>0&&_r(_e,ce,Se),me.length>0&&_r(me,ce,Se),ot.length>0&&_r(ot,ce,Se),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function fr(T,ce,Se,be){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[be.id]===void 0&&(_.state.transmissionRenderTarget[be.id]=new xl(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?m0:ql,minFilter:Da,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ur.workingColorSpace}));const me=_.state.transmissionRenderTarget[be.id],ot=be.viewport||O;me.setSize(ot.z,ot.w);const At=w.getRenderTarget();w.setRenderTarget(me),w.getClearColor(Z),ie=w.getClearAlpha(),ie<1&&w.setClearColor(16777215,.5),dt?Qe.render(Se):w.clear();const Mt=w.toneMapping;w.toneMapping=Kl;const Ot=be.viewport;if(be.viewport!==void 0&&(be.viewport=void 0),_.setupLightsView(be),de===!0&&st.setGlobalState(w.clippingPlanes,be),_r(T,Se,be),qe.updateMultisampleRenderTarget(me),qe.updateRenderTargetMipmap(me),Be.has("WEBGL_multisampled_render_to_texture")===!1){let _t=!1;for(let Bt=0,Cn=ce.length;Bt<Cn;Bt++){const Wn=ce[Bt],gn=Wn.object,cr=Wn.geometry,tn=Wn.material,Te=Wn.group;if(tn.side===Qs&&gn.layers.test(be.layers)){const ln=tn.side;tn.side=es,tn.needsUpdate=!0,wr(gn,Se,be,cr,tn,Te),tn.side=ln,tn.needsUpdate=!0,_t=!0}}_t===!0&&(qe.updateMultisampleRenderTarget(me),qe.updateRenderTargetMipmap(me))}w.setRenderTarget(At),w.setClearColor(Z,ie),Ot!==void 0&&(be.viewport=Ot),w.toneMapping=Mt}function _r(T,ce,Se){const be=ce.isScene===!0?ce.overrideMaterial:null;for(let _e=0,me=T.length;_e<me;_e++){const ot=T[_e],At=ot.object,Mt=ot.geometry,Ot=be===null?ot.material:be,_t=ot.group;At.layers.test(Se.layers)&&wr(At,ce,Se,Mt,Ot,_t)}}function wr(T,ce,Se,be,_e,me){T.onBeforeRender(w,ce,Se,be,_e,me),T.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,T.matrixWorld),T.normalMatrix.getNormalMatrix(T.modelViewMatrix),_e.onBeforeRender(w,ce,Se,be,T,me),_e.transparent===!0&&_e.side===Qs&&_e.forceSinglePass===!1?(_e.side=es,_e.needsUpdate=!0,w.renderBufferDirect(Se,ce,be,_e,T,me),_e.side=Yl,_e.needsUpdate=!0,w.renderBufferDirect(Se,ce,be,_e,T,me),_e.side=Qs):w.renderBufferDirect(Se,ce,be,_e,T,me),T.onAfterRender(w,ce,Se,be,_e,me)}function mr(T,ce,Se){ce.isScene!==!0&&(ce=lt);const be=Ke.get(T),_e=_.state.lights,me=_.state.shadowsArray,ot=_e.state.version,At=Re.getParameters(T,_e.state,me,ce,Se),Mt=Re.getProgramCacheKey(At);let Ot=be.programs;be.environment=T.isMeshStandardMaterial?ce.environment:null,be.fog=ce.fog,be.envMap=(T.isMeshStandardMaterial?Q:rt).get(T.envMap||be.environment),be.envMapRotation=be.environment!==null&&T.envMap===null?ce.environmentRotation:T.envMapRotation,Ot===void 0&&(T.addEventListener("dispose",it),Ot=new Map,be.programs=Ot);let _t=Ot.get(Mt);if(_t!==void 0){if(be.currentProgram===_t&&be.lightsStateVersion===ot)return Wr(T,At),_t}else At.uniforms=Re.getUniforms(T),T.onBuild(Se,At,w),T.onBeforeCompile(At,w),_t=Re.acquireProgram(At,Mt),Ot.set(Mt,_t),be.uniforms=At.uniforms;const Bt=be.uniforms;return(!T.isShaderMaterial&&!T.isRawShaderMaterial||T.clipping===!0)&&(Bt.clippingPlanes=st.uniform),Wr(T,At),be.needsLights=Wt(T),be.lightsStateVersion=ot,be.needsLights&&(Bt.ambientLightColor.value=_e.state.ambient,Bt.lightProbe.value=_e.state.probe,Bt.directionalLights.value=_e.state.directional,Bt.directionalLightShadows.value=_e.state.directionalShadow,Bt.spotLights.value=_e.state.spot,Bt.spotLightShadows.value=_e.state.spotShadow,Bt.rectAreaLights.value=_e.state.rectArea,Bt.ltc_1.value=_e.state.rectAreaLTC1,Bt.ltc_2.value=_e.state.rectAreaLTC2,Bt.pointLights.value=_e.state.point,Bt.pointLightShadows.value=_e.state.pointShadow,Bt.hemisphereLights.value=_e.state.hemi,Bt.directionalShadowMap.value=_e.state.directionalShadowMap,Bt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,Bt.spotShadowMap.value=_e.state.spotShadowMap,Bt.spotLightMatrix.value=_e.state.spotLightMatrix,Bt.spotLightMap.value=_e.state.spotLightMap,Bt.pointShadowMap.value=_e.state.pointShadowMap,Bt.pointShadowMatrix.value=_e.state.pointShadowMatrix),be.currentProgram=_t,be.uniformsList=null,_t}function mi(T){if(T.uniformsList===null){const ce=T.currentProgram.getUniforms();T.uniformsList=b_.seqWithValue(ce.seq,T.uniforms)}return T.uniformsList}function Wr(T,ce){const Se=Ke.get(T);Se.outputColorSpace=ce.outputColorSpace,Se.batching=ce.batching,Se.batchingColor=ce.batchingColor,Se.instancing=ce.instancing,Se.instancingColor=ce.instancingColor,Se.instancingMorph=ce.instancingMorph,Se.skinning=ce.skinning,Se.morphTargets=ce.morphTargets,Se.morphNormals=ce.morphNormals,Se.morphColors=ce.morphColors,Se.morphTargetsCount=ce.morphTargetsCount,Se.numClippingPlanes=ce.numClippingPlanes,Se.numIntersection=ce.numClipIntersection,Se.vertexAlphas=ce.vertexAlphas,Se.vertexTangents=ce.vertexTangents,Se.toneMapping=ce.toneMapping}function oi(T,ce,Se,be,_e){ce.isScene!==!0&&(ce=lt),qe.resetTextureUnits();const me=ce.fog,ot=be.isMeshStandardMaterial?ce.environment:null,At=L===null?w.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Yc,Mt=(be.isMeshStandardMaterial?Q:rt).get(be.envMap||ot),Ot=be.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,_t=!!Se.attributes.tangent&&(!!be.normalMap||be.anisotropy>0),Bt=!!Se.morphAttributes.position,Cn=!!Se.morphAttributes.normal,Wn=!!Se.morphAttributes.color;let gn=Kl;be.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(gn=w.toneMapping);const cr=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,tn=cr!==void 0?cr.length:0,Te=Ke.get(be),ln=_.state.lights;if(de===!0&&(Ce===!0||T!==F)){const dr=T===F&&be.id===U;st.setState(be,T,dr)}let xn=!1;be.version===Te.__version?(Te.needsLights&&Te.lightsStateVersion!==ln.state.version||Te.outputColorSpace!==At||_e.isBatchedMesh&&Te.batching===!1||!_e.isBatchedMesh&&Te.batching===!0||_e.isBatchedMesh&&Te.batchingColor===!0&&_e.colorTexture===null||_e.isBatchedMesh&&Te.batchingColor===!1&&_e.colorTexture!==null||_e.isInstancedMesh&&Te.instancing===!1||!_e.isInstancedMesh&&Te.instancing===!0||_e.isSkinnedMesh&&Te.skinning===!1||!_e.isSkinnedMesh&&Te.skinning===!0||_e.isInstancedMesh&&Te.instancingColor===!0&&_e.instanceColor===null||_e.isInstancedMesh&&Te.instancingColor===!1&&_e.instanceColor!==null||_e.isInstancedMesh&&Te.instancingMorph===!0&&_e.morphTexture===null||_e.isInstancedMesh&&Te.instancingMorph===!1&&_e.morphTexture!==null||Te.envMap!==Mt||be.fog===!0&&Te.fog!==me||Te.numClippingPlanes!==void 0&&(Te.numClippingPlanes!==st.numPlanes||Te.numIntersection!==st.numIntersection)||Te.vertexAlphas!==Ot||Te.vertexTangents!==_t||Te.morphTargets!==Bt||Te.morphNormals!==Cn||Te.morphColors!==Wn||Te.toneMapping!==gn||Te.morphTargetsCount!==tn)&&(xn=!0):(xn=!0,Te.__version=be.version);let In=Te.currentProgram;xn===!0&&(In=mr(be,ce,_e));let Yn=!1,gr=!1,Cr=!1;const vn=In.getUniforms(),$r=Te.uniforms;if(Fe.useProgram(In.program)&&(Yn=!0,gr=!0,Cr=!0),be.id!==U&&(U=be.id,gr=!0),Yn||F!==T){vn.setValue(oe,"projectionMatrix",T.projectionMatrix),vn.setValue(oe,"viewMatrix",T.matrixWorldInverse);const dr=vn.map.cameraPosition;dr!==void 0&&dr.setValue(oe,Pe.setFromMatrixPosition(T.matrixWorld)),He.logarithmicDepthBuffer&&vn.setValue(oe,"logDepthBufFC",2/(Math.log(T.far+1)/Math.LN2)),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&vn.setValue(oe,"isOrthographic",T.isOrthographicCamera===!0),F!==T&&(F=T,gr=!0,Cr=!0)}if(_e.isSkinnedMesh){vn.setOptional(oe,_e,"bindMatrix"),vn.setOptional(oe,_e,"bindMatrixInverse");const dr=_e.skeleton;dr&&(dr.boneTexture===null&&dr.computeBoneTexture(),vn.setValue(oe,"boneTexture",dr.boneTexture,qe))}_e.isBatchedMesh&&(vn.setOptional(oe,_e,"batchingTexture"),vn.setValue(oe,"batchingTexture",_e._matricesTexture,qe),vn.setOptional(oe,_e,"batchingColorTexture"),_e._colorsTexture!==null&&vn.setValue(oe,"batchingColorTexture",_e._colorsTexture,qe));const Ni=Se.morphAttributes;if((Ni.position!==void 0||Ni.normal!==void 0||Ni.color!==void 0)&&vt.update(_e,Se,In),(gr||Te.receiveShadow!==_e.receiveShadow)&&(Te.receiveShadow=_e.receiveShadow,vn.setValue(oe,"receiveShadow",_e.receiveShadow)),be.isMeshGouraudMaterial&&be.envMap!==null&&($r.envMap.value=Mt,$r.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),be.isMeshStandardMaterial&&be.envMap===null&&ce.environment!==null&&($r.envMapIntensity.value=ce.environmentIntensity),gr&&(vn.setValue(oe,"toneMappingExposure",w.toneMappingExposure),Te.needsLights&&sn($r,Cr),me&&be.fog===!0&&ze.refreshFogUniforms($r,me),ze.refreshMaterialUniforms($r,be,X,K,_.state.transmissionRenderTarget[T.id]),b_.upload(oe,mi(Te),$r,qe)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(b_.upload(oe,mi(Te),$r,qe),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&vn.setValue(oe,"center",_e.center),vn.setValue(oe,"modelViewMatrix",_e.modelViewMatrix),vn.setValue(oe,"normalMatrix",_e.normalMatrix),vn.setValue(oe,"modelMatrix",_e.matrixWorld),be.isShaderMaterial||be.isRawShaderMaterial){const dr=be.uniformsGroups;for(let si=0,_o=dr.length;si<_o;si++){const zr=dr[si];Ge.update(zr,In),Ge.bind(zr,In)}}return In}function sn(T,ce){T.ambientLightColor.needsUpdate=ce,T.lightProbe.needsUpdate=ce,T.directionalLights.needsUpdate=ce,T.directionalLightShadows.needsUpdate=ce,T.pointLights.needsUpdate=ce,T.pointLightShadows.needsUpdate=ce,T.spotLights.needsUpdate=ce,T.spotLightShadows.needsUpdate=ce,T.rectAreaLights.needsUpdate=ce,T.hemisphereLights.needsUpdate=ce}function Wt(T){return T.isMeshLambertMaterial||T.isMeshToonMaterial||T.isMeshPhongMaterial||T.isMeshStandardMaterial||T.isShadowMaterial||T.isShaderMaterial&&T.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(T,ce,Se){Ke.get(T.texture).__webglTexture=ce,Ke.get(T.depthTexture).__webglTexture=Se;const be=Ke.get(T);be.__hasExternalTextures=!0,be.__autoAllocateDepthBuffer=Se===void 0,be.__autoAllocateDepthBuffer||Be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),be.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(T,ce){const Se=Ke.get(T);Se.__webglFramebuffer=ce,Se.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(T,ce=0,Se=0){L=T,I=ce,P=Se;let be=!0,_e=null,me=!1,ot=!1;if(T){const Mt=Ke.get(T);Mt.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(oe.FRAMEBUFFER,null),be=!1):Mt.__webglFramebuffer===void 0?qe.setupRenderTarget(T):Mt.__hasExternalTextures&&qe.rebindTextures(T,Ke.get(T.texture).__webglTexture,Ke.get(T.depthTexture).__webglTexture);const Ot=T.texture;(Ot.isData3DTexture||Ot.isDataArrayTexture||Ot.isCompressedArrayTexture)&&(ot=!0);const _t=Ke.get(T).__webglFramebuffer;T.isWebGLCubeRenderTarget?(Array.isArray(_t[ce])?_e=_t[ce][Se]:_e=_t[ce],me=!0):T.samples>0&&qe.useMultisampledRTT(T)===!1?_e=Ke.get(T).__webglMultisampledFramebuffer:Array.isArray(_t)?_e=_t[Se]:_e=_t,O.copy(T.viewport),G.copy(T.scissor),te=T.scissorTest}else O.copy(J).multiplyScalar(X).floor(),G.copy(re).multiplyScalar(X).floor(),te=pe;if(Fe.bindFramebuffer(oe.FRAMEBUFFER,_e)&&be&&Fe.drawBuffers(T,_e),Fe.viewport(O),Fe.scissor(G),Fe.setScissorTest(te),me){const Mt=Ke.get(T.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Mt.__webglTexture,Se)}else if(ot){const Mt=Ke.get(T.texture),Ot=ce||0;oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Mt.__webglTexture,Se||0,Ot)}U=-1},this.readRenderTargetPixels=function(T,ce,Se,be,_e,me,ot){if(!(T&&T.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=Ke.get(T).__webglFramebuffer;if(T.isWebGLCubeRenderTarget&&ot!==void 0&&(At=At[ot]),At){Fe.bindFramebuffer(oe.FRAMEBUFFER,At);try{const Mt=T.texture,Ot=Mt.format,_t=Mt.type;if(!He.textureFormatReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!He.textureTypeReadable(_t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=T.width-be&&Se>=0&&Se<=T.height-_e&&oe.readPixels(ce,Se,be,_e,ft.convert(Ot),ft.convert(_t),me)}finally{const Mt=L!==null?Ke.get(L).__webglFramebuffer:null;Fe.bindFramebuffer(oe.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(T,ce,Se,be,_e,me,ot){if(!(T&&T.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let At=Ke.get(T).__webglFramebuffer;if(T.isWebGLCubeRenderTarget&&ot!==void 0&&(At=At[ot]),At){Fe.bindFramebuffer(oe.FRAMEBUFFER,At);try{const Mt=T.texture,Ot=Mt.format,_t=Mt.type;if(!He.textureFormatReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!He.textureTypeReadable(_t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ce>=0&&ce<=T.width-be&&Se>=0&&Se<=T.height-_e){const Bt=oe.createBuffer();oe.bindBuffer(oe.PIXEL_PACK_BUFFER,Bt),oe.bufferData(oe.PIXEL_PACK_BUFFER,me.byteLength,oe.STREAM_READ),oe.readPixels(ce,Se,be,_e,ft.convert(Ot),ft.convert(_t),0),oe.flush();const Cn=oe.fenceSync(oe.SYNC_GPU_COMMANDS_COMPLETE,0);await T6(oe,Cn,4);try{oe.bindBuffer(oe.PIXEL_PACK_BUFFER,Bt),oe.getBufferSubData(oe.PIXEL_PACK_BUFFER,0,me)}finally{oe.deleteBuffer(Bt),oe.deleteSync(Cn)}return me}}finally{const Mt=L!==null?Ke.get(L).__webglFramebuffer:null;Fe.bindFramebuffer(oe.FRAMEBUFFER,Mt)}}},this.copyFramebufferToTexture=function(T,ce=null,Se=0){T.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ce=arguments[0]||null,T=arguments[1]);const be=Math.pow(2,-Se),_e=Math.floor(T.image.width*be),me=Math.floor(T.image.height*be),ot=ce!==null?ce.x:0,At=ce!==null?ce.y:0;qe.setTexture2D(T,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,Se,0,0,ot,At,_e,me),Fe.unbindTexture()},this.copyTextureToTexture=function(T,ce,Se=null,be=null,_e=0){T.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),be=arguments[0]||null,T=arguments[1],ce=arguments[2],_e=arguments[3]||0,Se=null);let me,ot,At,Mt,Ot,_t;Se!==null?(me=Se.max.x-Se.min.x,ot=Se.max.y-Se.min.y,At=Se.min.x,Mt=Se.min.y):(me=T.image.width,ot=T.image.height,At=0,Mt=0),be!==null?(Ot=be.x,_t=be.y):(Ot=0,_t=0);const Bt=ft.convert(ce.format),Cn=ft.convert(ce.type);qe.setTexture2D(ce,0),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,ce.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,ce.unpackAlignment);const Wn=oe.getParameter(oe.UNPACK_ROW_LENGTH),gn=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),cr=oe.getParameter(oe.UNPACK_SKIP_PIXELS),tn=oe.getParameter(oe.UNPACK_SKIP_ROWS),Te=oe.getParameter(oe.UNPACK_SKIP_IMAGES),ln=T.isCompressedTexture?T.mipmaps[_e]:T.image;oe.pixelStorei(oe.UNPACK_ROW_LENGTH,ln.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,ln.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,At),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,Mt),T.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,_e,Ot,_t,me,ot,Bt,Cn,ln.data):T.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,_e,Ot,_t,ln.width,ln.height,Bt,ln.data):oe.texSubImage2D(oe.TEXTURE_2D,_e,Ot,_t,Bt,Cn,ln),oe.pixelStorei(oe.UNPACK_ROW_LENGTH,Wn),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,gn),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,cr),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,tn),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Te),_e===0&&ce.generateMipmaps&&oe.generateMipmap(oe.TEXTURE_2D),Fe.unbindTexture()},this.copyTextureToTexture3D=function(T,ce,Se=null,be=null,_e=0){T.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Se=arguments[0]||null,be=arguments[1]||null,T=arguments[2],ce=arguments[3],_e=arguments[4]||0);let me,ot,At,Mt,Ot,_t,Bt,Cn,Wn;const gn=T.isCompressedTexture?T.mipmaps[_e]:T.image;Se!==null?(me=Se.max.x-Se.min.x,ot=Se.max.y-Se.min.y,At=Se.max.z-Se.min.z,Mt=Se.min.x,Ot=Se.min.y,_t=Se.min.z):(me=gn.width,ot=gn.height,At=gn.depth,Mt=0,Ot=0,_t=0),be!==null?(Bt=be.x,Cn=be.y,Wn=be.z):(Bt=0,Cn=0,Wn=0);const cr=ft.convert(ce.format),tn=ft.convert(ce.type);let Te;if(ce.isData3DTexture)qe.setTexture3D(ce,0),Te=oe.TEXTURE_3D;else if(ce.isDataArrayTexture||ce.isCompressedArrayTexture)qe.setTexture2DArray(ce,0),Te=oe.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,ce.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,ce.unpackAlignment);const ln=oe.getParameter(oe.UNPACK_ROW_LENGTH),xn=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),In=oe.getParameter(oe.UNPACK_SKIP_PIXELS),Yn=oe.getParameter(oe.UNPACK_SKIP_ROWS),gr=oe.getParameter(oe.UNPACK_SKIP_IMAGES);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,gn.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,gn.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,Mt),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,Ot),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,_t),T.isDataTexture||T.isData3DTexture?oe.texSubImage3D(Te,_e,Bt,Cn,Wn,me,ot,At,cr,tn,gn.data):ce.isCompressedArrayTexture?oe.compressedTexSubImage3D(Te,_e,Bt,Cn,Wn,me,ot,At,cr,gn.data):oe.texSubImage3D(Te,_e,Bt,Cn,Wn,me,ot,At,cr,tn,gn),oe.pixelStorei(oe.UNPACK_ROW_LENGTH,ln),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,xn),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,In),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,Yn),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,gr),_e===0&&ce.generateMipmaps&&oe.generateMipmap(Te),Fe.unbindTexture()},this.initRenderTarget=function(T){Ke.get(T).__webglFramebuffer===void 0&&qe.setupRenderTarget(T)},this.initTexture=function(T){T.isCubeTexture?qe.setTextureCube(T,0):T.isData3DTexture?qe.setTexture3D(T,0):T.isDataArrayTexture||T.isCompressedArrayTexture?qe.setTexture2DArray(T,0):qe.setTexture2D(T,0),Fe.unbindTexture()},this.resetState=function(){I=0,P=0,L=null,Fe.reset(),he.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===n1?"display-p3":"srgb",t.unpackColorSpace=ur.workingColorSpace===g0?"display-p3":"srgb"}}class o1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(e),this.density=t}clone(){return new o1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class s1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new bt(e),this.near=t,this.far=r}clone(){return new s1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class dS extends or{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new la,this.environmentIntensity=1,this.environmentRotation=new la,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class _0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=jv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=sa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return cT("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=sa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=sa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ko=new ee;class cf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ko.fromBufferAttribute(this,t),Ko.applyMatrix4(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ko.fromBufferAttribute(this,t),Ko.applyNormalMatrix(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ko.fromBufferAttribute(this,t),Ko.transformDirection(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=qo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=kn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array),o=kn(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vT extends Fi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ap;const Ng=new ee,lp=new ee,cp=new ee,up=new Ye,Ug=new Ye,VN=new an,xx=new ee,kg=new ee,_x=new ee,oI=new Ye,MM=new Ye,sI=new Ye;class WN extends or{constructor(e=new vT){if(super(),this.isSprite=!0,this.type="Sprite",ap===void 0){ap=new Pn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new _0(t,5);ap.setIndex([0,1,2,0,2,3]),ap.setAttribute("position",new cf(r,3,0,!1)),ap.setAttribute("uv",new cf(r,2,3,!1))}this.geometry=ap,this.material=e,this.center=new Ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lp.setFromMatrixScale(this.matrixWorld),VN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),cp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lp.multiplyScalar(-cp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;Sx(xx.set(-.5,-.5,0),cp,s,lp,i,o),Sx(kg.set(.5,-.5,0),cp,s,lp,i,o),Sx(_x.set(.5,.5,0),cp,s,lp,i,o),oI.set(0,0),MM.set(1,0),sI.set(1,1);let a=e.ray.intersectTriangle(xx,kg,_x,!1,Ng);if(a===null&&(Sx(kg.set(-.5,.5,0),cp,s,lp,i,o),MM.set(0,1),a=e.ray.intersectTriangle(xx,_x,kg,!1,Ng),a===null))return;const l=e.ray.origin.distanceTo(Ng);l<e.near||l>e.far||t.push({distance:l,point:Ng.clone(),uv:Zs.getInterpolation(Ng,xx,kg,_x,oI,MM,sI,new Ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Sx(n,e,t,r,i,o){up.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ug.x=o*up.x-i*up.y,Ug.y=i*up.x+o*up.y):Ug.copy(up),n.copy(e),n.x+=Ug.x,n.y+=Ug.y,n.applyMatrix4(VN)}const Ax=new ee,aI=new ee;class $N extends or{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let o;for(o=0;o<i.length&&!(t<i[o].distance);o++);return i.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Ax.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ax);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ax.setFromMatrixPosition(e.matrixWorld),aI.setFromMatrixPosition(this.matrixWorld);const r=Ax.distanceTo(aI)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),r>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const lI=new ee,cI=new vr,uI=new vr,DX=new ee,fI=new an,Mx=new ee,wM=new vo,dI=new an,CM=new sh;class yT extends Ur{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=bC,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Io),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Mx),this.boundingBox.expandByPoint(Mx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Mx),this.boundingSphere.expandByPoint(Mx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wM.copy(this.boundingSphere),wM.applyMatrix4(i),e.ray.intersectsSphere(wM)!==!1&&(dI.copy(i).invert(),CM.copy(e.ray).applyMatrix4(dI),!(this.boundingBox!==null&&CM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,CM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===bC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===eN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;cI.fromBufferAttribute(i.attributes.skinIndex,e),uI.fromBufferAttribute(i.attributes.skinWeight,e),lI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=uI.getComponent(o);if(s!==0){const a=cI.getComponent(o);fI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(DX.copy(lI).applyMatrix4(fI),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class a1 extends or{constructor(){super(),this.isBone=!0,this.type="Bone"}}class kc extends Ir{constructor(e=null,t=1,r=1,i,o,s,a,l,c=Vi,f=Vi,p,m){super(null,s,a,l,c,f,i,o,p,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const hI=new an,FX=new an;let xT=class jN{constructor(e=[],t=[]){this.uuid=sa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new an;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:FX;hI.multiplyMatrices(a,t[o]),hI.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new jN(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new kc(t,e,e,Qo,na);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new a1),this.bones.push(s),this.boneInverses.push(new an().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const s=t[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}};class Jd extends jn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const fp=new an,pI=new an,wx=[],mI=new Io,NX=new an,zg=new Ur,Hg=new vo;class _T extends Ur{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Jd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,NX)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Io),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,fp),mI.copy(e.boundingBox).applyMatrix4(fp),this.boundingBox.union(mI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new vo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,fp),Hg.copy(e.boundingSphere).applyMatrix4(fp),this.boundingSphere.union(Hg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(zg.geometry=this.geometry,zg.material=this.material,zg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Hg.copy(this.boundingSphere),Hg.applyMatrix4(r),e.ray.intersectsSphere(Hg)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,fp),pI.multiplyMatrices(r,fp),zg.matrixWorld=pI,zg.raycast(e,wx);for(let s=0,a=wx.length;s<a;s++){const l=wx[s];l.instanceId=o,l.object=this,t.push(l)}wx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Jd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new kc(new Float32Array(i*this.count),i,this.count,tT,na));const o=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const a=this.geometry.morphTargetsRelative?1:1-s,l=i*e;o[l]=a,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function UX(n,e){return n.z-e.z}function kX(n,e){return e.z-n.z}class zX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t}reset(){this.list.length=0,this.index=0}}const dp="batchId",Bu=new an,EM=new an,HX=new an,GX=new bt(1,1,1),gI=new an,bM=new x0,Cx=new Io,td=new vo,Gg=new ee,vI=new ee,VX=new ee,TM=new zX,Ro=new Ur,Ex=[];function WX(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+t,s,n.getComponent(o,s))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class XN extends Ur{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Pn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new kc(t,e,e,Qo,na);this._matricesTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new kc(t,e,e,Qo,na);r.colorSpace=ur.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:f,normalized:p}=l,m=new c.constructor(r*f),v=new jn(m,f,p);t.setAttribute(a,v)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(o):new Uint16Array(o);t.setIndex(new jn(a,1))}const s=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(dp,new jn(s,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(dp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${dp}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===dp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=t.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Io);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Bu),this.getBoundingBoxAt(i,Cx).applyMatrix4(Bu),t.union(Cx))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Bu),this.getBoundingSphereAt(i,td).applyMatrix4(Bu),t.union(td))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const s=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=s[s.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),f=c!==null;if(f&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const p=this._visibility,m=this._active,v=this._matricesTexture,x=this._matricesTexture.image.data,S=this._colorsTexture;p.push(!0),m.push(!0);const _=this._geometryCount;this._geometryCount++,HX.toArray(x,_*16),v.needsUpdate=!0,S!==null&&(GX.toArray(S.image.data,_*4),S.needsUpdate=!0),s.push(i),a.push({start:f?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Io,sphereInitialized:!1,sphere:new vo});const y=this.geometry.getAttribute(dp);for(let A=0;A<i.vertexCount;A++)y.setX(i.vertexStart+A,_);return y.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=t.getIndex(),a=this._reservedRanges[e];if(i&&s.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const v in r.attributes){if(v===dp)continue;const x=t.getAttribute(v),S=r.getAttribute(v);WX(x,S,l);const _=x.itemSize;for(let y=x.count,A=c;y<A;y++){const w=l+y;for(let E=0;E<_;E++)S.setComponent(w,E,0)}S.needsUpdate=!0,S.addUpdateRange(l*_,c*_)}if(i){const v=a.indexStart;for(let x=0;x<s.count;x++)o.setX(v+x,l+s.getX(x));for(let x=s.count,S=a.indexCount;x<S;x++)o.setX(v+x,l);o.needsUpdate=!0,o.addUpdateRange(v,a.indexCount)}const f=this._bounds[e];t.boundingBox!==null?(f.box.copy(t.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,t.boundingSphere!==null?(f.sphere.copy(t.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const p=this._drawRanges[e],m=t.getAttribute("position");return p.count=i?s.count:m.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,s=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const a=s.index,l=s.attributes.position,c=this._drawRanges[e];for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),o.expandByPoint(Gg.fromBufferAttribute(l,m))}i.boxInitialized=!0}return t.copy(o),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,Cx),Cx.getCenter(o.center);const a=s.index,l=s.attributes.position,c=this._drawRanges[e];let f=0;for(let p=c.start,m=c.start+c.count;p<m;p++){let v=p;a&&(v=a.getX(v)),Gg.fromBufferAttribute(l,v),f=Math.max(f,o.center.distanceToSquared(Gg))}o.radius=Math.sqrt(f),i.sphereInitialized=!0}return t.copy(o),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(t.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:t.fromArray(i,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const r=this._active,i=this._colorsTexture,o=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(t.toArray(o,e*4),i.needsUpdate=!0,this)}getColorAt(e,t){const r=this._active,i=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:t.fromArray(i,e*4)}setVisibleAt(e,t){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,o=this._drawRanges,s=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ro.material=this.material,Ro.geometry.index=l.index,Ro.geometry.attributes=l.attributes,Ro.geometry.boundingBox===null&&(Ro.geometry.boundingBox=new Io),Ro.geometry.boundingSphere===null&&(Ro.geometry.boundingSphere=new vo);for(let c=0;c<s;c++){if(!r[c]||!i[c])continue;const f=o[c];Ro.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(c,Ro.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ro.geometry.boundingBox),this.getBoundingSphereAt(c,Ro.geometry.boundingSphere),Ro.raycast(e,Ex);for(let p=0,m=Ex.length;p<m;p++){const v=Ex[p];v.object=this,v.batchId=c,t.push(v)}Ex.length=0}Ro.material=null,Ro.geometry.index=null,Ro.geometry.attributes={},Ro.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,f=this._multiDrawStarts,p=this._multiDrawCounts,m=this._drawRanges,v=this.perObjectFrustumCulled;v&&(gI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),bM.setFromProjectionMatrix(gI,e.coordinateSystem));let x=0;if(this.sortObjects){EM.copy(this.matrixWorld).invert(),Gg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(EM),vI.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(EM);for(let y=0,A=c.length;y<A;y++)if(c[y]&&l[y]){this.getMatrixAt(y,Bu),this.getBoundingSphereAt(y,td).applyMatrix4(Bu);let w=!1;if(v&&(w=!bM.intersectsSphere(td)),!w){const E=VX.subVectors(td.center,Gg).dot(vI);TM.push(m[y],E)}}const S=TM.list,_=this.customSort;_===null?S.sort(o.transparent?kX:UX):_.call(this,S,r);for(let y=0,A=S.length;y<A;y++){const w=S[y];f[x]=w.start*a,p[x]=w.count,x++}TM.reset()}else for(let S=0,_=c.length;S<_;S++)if(c[S]&&l[S]){let y=!1;if(v&&(this.getMatrixAt(S,Bu),this.getBoundingSphereAt(S,td).applyMatrix4(Bu),y=!bM.intersectsSphere(td)),!y){const A=m[S];f[x]=A.start*a,p[x]=A.count,x++}}this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class Lo extends Fi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const hS=new ee,pS=new ee,yI=new an,Vg=new sh,bx=new vo,RM=new ee,xI=new ee;class Xc extends or{constructor(e=new Pn,t=new Lo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)hS.fromBufferAttribute(t,i-1),pS.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=hS.distanceTo(pS);e.setAttribute("lineDistance",new Qt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),bx.copy(r.boundingSphere),bx.applyMatrix4(i),bx.radius+=o,e.ray.intersectsSphere(bx)===!1)return;yI.copy(i).invert(),Vg.copy(e.ray).applyMatrix4(yI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,f=r.index,m=r.attributes.position;if(f!==null){const v=Math.max(0,s.start),x=Math.min(f.count,s.start+s.count);for(let S=v,_=x-1;S<_;S+=c){const y=f.getX(S),A=f.getX(S+1),w=Tx(this,e,Vg,l,y,A);w&&t.push(w)}if(this.isLineLoop){const S=f.getX(x-1),_=f.getX(v),y=Tx(this,e,Vg,l,S,_);y&&t.push(y)}}else{const v=Math.max(0,s.start),x=Math.min(m.count,s.start+s.count);for(let S=v,_=x-1;S<_;S+=c){const y=Tx(this,e,Vg,l,S,S+1);y&&t.push(y)}if(this.isLineLoop){const S=Tx(this,e,Vg,l,x-1,v);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function Tx(n,e,t,r,i,o){const s=n.geometry.attributes.position;if(hS.fromBufferAttribute(s,i),pS.fromBufferAttribute(s,o),t.distanceSqToSegment(hS,pS,RM,xI)>r)return;RM.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(RM);if(!(l<e.near||l>e.far))return{distance:l,point:xI.clone().applyMatrix4(n.matrixWorld),index:i,face:null,faceIndex:null,object:n}}const _I=new ee,SI=new ee;class _l extends Xc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)_I.fromBufferAttribute(t,i),SI.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+_I.distanceTo(SI);e.setAttribute("lineDistance",new Qt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ST extends Xc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class l1 extends Fi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const AI=new an,iE=new sh,Rx=new vo,Px=new ee;class AT extends or{constructor(e=new Pn,t=new l1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Rx.copy(r.boundingSphere),Rx.applyMatrix4(i),Rx.radius+=o,e.ray.intersectsSphere(Rx)===!1)return;AI.copy(i).invert(),iE.copy(e.ray).applyMatrix4(AI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,p=r.attributes.position;if(c!==null){const m=Math.max(0,s.start),v=Math.min(c.count,s.start+s.count);for(let x=m,S=v;x<S;x++){const _=c.getX(x);Px.fromBufferAttribute(p,_),MI(Px,_,l,i,e,t,this)}}else{const m=Math.max(0,s.start),v=Math.min(p.count,s.start+s.count);for(let x=m,S=v;x<S;x++)Px.fromBufferAttribute(p,x),MI(Px,x,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function MI(n,e,t,r,i,o,s){const a=iE.distanceSqToPoint(n);if(a<t){const l=new ee;iE.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class $X extends Ir{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:pi,this.magFilter=o!==void 0?o:pi,this.generateMipmaps=!1;const f=this;function p(){f.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jX extends Ir{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Vi,this.minFilter=Vi,this.generateMipmaps=!1,this.needsUpdate=!0}}class c1 extends Ir{constructor(e,t,r,i,o,s,a,l,c,f,p,m){super(null,s,a,l,c,f,i,o,p,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class XX extends c1{constructor(e,t,r,i,o,s){super(e,t,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ta,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class KX extends c1{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,jc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class JX extends Ir{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Sl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let s;t?s=t:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const f=r[i],m=r[i+1]-f,v=(s-f)/m;return(i+v)/(o-1)}getTangent(e,t){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new Ye:new ee);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ee,i=[],o=[],s=[],a=new ee,l=new an;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new ee)}o[0]=new ee,s[0]=new ee;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),m<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let v=1;v<=e;v++){if(o[v]=o[v-1].clone(),s[v]=s[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(hi(i[v-1].dot(i[v]),-1,1));o[v].applyMatrix4(l.makeRotationAxis(a,x))}s[v].crossVectors(i[v],o[v])}if(t===!0){let v=Math.acos(hi(o[0].dot(o[e]),-1,1));v/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(v=-v);for(let x=1;x<=e;x++)o[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),s[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class u1 extends Sl{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Ye){const r=t,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*f-v*p+this.aX,c=m*p+v*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class KN extends u1{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function MT(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,f,p){let m=(s-o)/c-(a-o)/(c+f)+(a-s)/f,v=(a-s)/f-(l-s)/(f+p)+(l-a)/p;m*=f,v*=f,i(s,a,m,v)},calc:function(o){const s=o*o,a=s*o;return n+e*o+t*s+r*a}}}const Ix=new ee,PM=new MT,IM=new MT,BM=new MT;class JN extends Sl{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ee){const r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,f;this.closed||a>0?c=i[(a-1)%o]:(Ix.subVectors(i[0],i[1]).add(i[0]),c=Ix);const p=i[a%o],m=i[(a+1)%o];if(this.closed||a+2<o?f=i[(a+2)%o]:(Ix.subVectors(i[o-1],i[o-2]).add(i[o-1]),f=Ix),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(m),v),_=Math.pow(m.distanceToSquared(f),v);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),PM.initNonuniformCatmullRom(c.x,p.x,m.x,f.x,x,S,_),IM.initNonuniformCatmullRom(c.y,p.y,m.y,f.y,x,S,_),BM.initNonuniformCatmullRom(c.z,p.z,m.z,f.z,x,S,_)}else this.curveType==="catmullrom"&&(PM.initCatmullRom(c.x,p.x,m.x,f.x,this.tension),IM.initCatmullRom(c.y,p.y,m.y,f.y,this.tension),BM.initCatmullRom(c.z,p.z,m.z,f.z,this.tension));return r.set(PM.calc(l),IM.calc(l),BM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ee().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function wI(n,e,t,r,i){const o=(r-e)*.5,s=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+o+s)*l+(-3*t+3*r-2*o-s)*a+o*n+t}function YX(n,e){const t=1-n;return t*t*e}function qX(n,e){return 2*(1-n)*n*e}function QX(n,e){return n*n*e}function gv(n,e,t,r){return YX(n,e)+qX(n,t)+QX(n,r)}function ZX(n,e){const t=1-n;return t*t*t*e}function eK(n,e){const t=1-n;return 3*t*t*n*e}function tK(n,e){return 3*(1-n)*n*n*e}function nK(n,e){return n*n*n*e}function vv(n,e,t,r,i){return ZX(n,e)+eK(n,t)+tK(n,r)+nK(n,i)}class wT extends Sl{constructor(e=new Ye,t=new Ye,r=new Ye,i=new Ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ye){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(vv(e,i.x,o.x,s.x,a.x),vv(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class YN extends Sl{constructor(e=new ee,t=new ee,r=new ee,i=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ee){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(vv(e,i.x,o.x,s.x,a.x),vv(e,i.y,o.y,s.y,a.y),vv(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CT extends Sl{constructor(e=new Ye,t=new Ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qN extends Sl{constructor(e=new ee,t=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ee){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ee){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ET extends Sl{constructor(e=new Ye,t=new Ye,r=new Ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ye){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(gv(e,i.x,o.x,s.x),gv(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bT extends Sl{constructor(e=new ee,t=new ee,r=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ee){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(gv(e,i.x,o.x,s.x),gv(e,i.y,o.y,s.y),gv(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TT extends Sl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ye){const r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],f=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return r.set(wI(a,l.x,c.x,f.x,p.x),wI(a,l.y,c.y,f.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ye().fromArray(i))}return this}}var mS=Object.freeze({__proto__:null,ArcCurve:KN,CatmullRomCurve3:JN,CubicBezierCurve:wT,CubicBezierCurve3:YN,EllipseCurve:u1,LineCurve:CT,LineCurve3:qN,QuadraticBezierCurve:ET,QuadraticBezierCurve3:bT,SplineCurve:TT});class QN extends Sl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new mS[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new mS[i.type]().fromJSON(i))}return this}}class Jv extends QN{constructor(e){super(),this.type="Path",this.currentPoint=new Ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new CT(this.currentPoint.clone(),new Ye(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new ET(this.currentPoint.clone(),new Ye(e,t),new Ye(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){const a=new wT(this.currentPoint.clone(),new Ye(e,t),new Ye(r,i),new Ye(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new TT(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){const c=new u1(e,t,r,i,o,s,a,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class S0 extends Pn{constructor(e=[new Ye(0,-.5),new Ye(.5,0),new Ye(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=hi(i,0,Math.PI*2);const o=[],s=[],a=[],l=[],c=[],f=1/t,p=new ee,m=new Ye,v=new ee,x=new ee,S=new ee;let _=0,y=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,y=e[A+1].y-e[A].y,v.x=y*1,v.y=-_,v.z=y*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:_=e[A+1].x-e[A].x,y=e[A+1].y-e[A].y,v.x=y*1,v.y=-_,v.z=y*0,x.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(x)}for(let A=0;A<=t;A++){const w=r+A*f*i,E=Math.sin(w),I=Math.cos(w);for(let P=0;P<=e.length-1;P++){p.x=e[P].x*E,p.y=e[P].y,p.z=e[P].x*I,s.push(p.x,p.y,p.z),m.x=A/t,m.y=P/(e.length-1),a.push(m.x,m.y);const L=l[3*P+0]*E,U=l[3*P+1],F=l[3*P+0]*I;c.push(L,U,F)}}for(let A=0;A<t;A++)for(let w=0;w<e.length-1;w++){const E=w+A*e.length,I=E,P=E+e.length,L=E+e.length+1,U=E+1;o.push(I,P,U),o.push(L,U,P)}this.setIndex(o),this.setAttribute("position",new Qt(s,3)),this.setAttribute("uv",new Qt(a,2)),this.setAttribute("normal",new Qt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S0(e.points,e.segments,e.phiStart,e.phiLength)}}class f1 extends S0{constructor(e=1,t=1,r=4,i=8){const o=new Jv;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new f1(e.radius,e.length,e.capSegments,e.radialSegments)}}class d1 extends Pn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],s=[],a=[],l=[],c=new ee,f=new Ye;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=t;p++,m+=3){const v=r+p/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),s.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(s[m]/e+1)/2,f.y=(s[m+1]/e+1)/2,l.push(f.x,f.y)}for(let p=1;p<=t;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new Qt(s,3)),this.setAttribute("normal",new Qt(a,3)),this.setAttribute("uv",new Qt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Im extends Pn{constructor(e=1,t=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const f=[],p=[],m=[],v=[];let x=0;const S=[],_=r/2;let y=0;A(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(f),this.setAttribute("position",new Qt(p,3)),this.setAttribute("normal",new Qt(m,3)),this.setAttribute("uv",new Qt(v,2));function A(){const E=new ee,I=new ee;let P=0;const L=(t-e)/r;for(let U=0;U<=o;U++){const F=[],O=U/o,G=O*(t-e)+e;for(let te=0;te<=i;te++){const Z=te/i,ie=Z*l+a,se=Math.sin(ie),K=Math.cos(ie);I.x=G*se,I.y=-O*r+_,I.z=G*K,p.push(I.x,I.y,I.z),E.set(se,L,K).normalize(),m.push(E.x,E.y,E.z),v.push(Z,1-O),F.push(x++)}S.push(F)}for(let U=0;U<i;U++)for(let F=0;F<o;F++){const O=S[F][U],G=S[F+1][U],te=S[F+1][U+1],Z=S[F][U+1];f.push(O,G,Z),f.push(G,te,Z),P+=6}c.addGroup(y,P,0),y+=P}function w(E){const I=x,P=new Ye,L=new ee;let U=0;const F=E===!0?e:t,O=E===!0?1:-1;for(let te=1;te<=i;te++)p.push(0,_*O,0),m.push(0,O,0),v.push(.5,.5),x++;const G=x;for(let te=0;te<=i;te++){const ie=te/i*l+a,se=Math.cos(ie),K=Math.sin(ie);L.x=F*K,L.y=_*O,L.z=F*se,p.push(L.x,L.y,L.z),m.push(0,O,0),P.x=se*.5+.5,P.y=K*.5*O+.5,v.push(P.x,P.y),x++}for(let te=0;te<i;te++){const Z=I+te,ie=G+te;E===!0?f.push(ie,ie+1,Z):f.push(ie+1,ie,Z),U+=3}c.addGroup(y,U,E===!0?1:2),y+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Im(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class h1 extends Im{constructor(e=1,t=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new h1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mf extends Pn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],s=[];a(i),c(r),f(),this.setAttribute("position",new Qt(o,3)),this.setAttribute("normal",new Qt(o.slice(),3)),this.setAttribute("uv",new Qt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const w=new ee,E=new ee,I=new ee;for(let P=0;P<t.length;P+=3)v(t[P+0],w),v(t[P+1],E),v(t[P+2],I),l(w,E,I,A)}function l(A,w,E,I){const P=I+1,L=[];for(let U=0;U<=P;U++){L[U]=[];const F=A.clone().lerp(E,U/P),O=w.clone().lerp(E,U/P),G=P-U;for(let te=0;te<=G;te++)te===0&&U===P?L[U][te]=F:L[U][te]=F.clone().lerp(O,te/G)}for(let U=0;U<P;U++)for(let F=0;F<2*(P-U)-1;F++){const O=Math.floor(F/2);F%2===0?(m(L[U][O+1]),m(L[U+1][O]),m(L[U][O])):(m(L[U][O+1]),m(L[U+1][O+1]),m(L[U+1][O]))}}function c(A){const w=new ee;for(let E=0;E<o.length;E+=3)w.x=o[E+0],w.y=o[E+1],w.z=o[E+2],w.normalize().multiplyScalar(A),o[E+0]=w.x,o[E+1]=w.y,o[E+2]=w.z}function f(){const A=new ee;for(let w=0;w<o.length;w+=3){A.x=o[w+0],A.y=o[w+1],A.z=o[w+2];const E=_(A)/2/Math.PI+.5,I=y(A)/Math.PI+.5;s.push(E,1-I)}x(),p()}function p(){for(let A=0;A<s.length;A+=6){const w=s[A+0],E=s[A+2],I=s[A+4],P=Math.max(w,E,I),L=Math.min(w,E,I);P>.9&&L<.1&&(w<.2&&(s[A+0]+=1),E<.2&&(s[A+2]+=1),I<.2&&(s[A+4]+=1))}}function m(A){o.push(A.x,A.y,A.z)}function v(A,w){const E=A*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}function x(){const A=new ee,w=new ee,E=new ee,I=new ee,P=new Ye,L=new Ye,U=new Ye;for(let F=0,O=0;F<o.length;F+=9,O+=6){A.set(o[F+0],o[F+1],o[F+2]),w.set(o[F+3],o[F+4],o[F+5]),E.set(o[F+6],o[F+7],o[F+8]),P.set(s[O+0],s[O+1]),L.set(s[O+2],s[O+3]),U.set(s[O+4],s[O+5]),I.copy(A).add(w).add(E).divideScalar(3);const G=_(I);S(P,O+0,A,G),S(L,O+2,w,G),S(U,O+4,E,G)}}function S(A,w,E,I){I<0&&A.x===1&&(s[w]=A.x-1),E.x===0&&E.z===0&&(s[w]=I/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function y(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mf(e.vertices,e.indices,e.radius,e.details)}}class p1 extends mf{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new p1(e.radius,e.detail)}}const Bx=new ee,Lx=new ee,LM=new ee,Ox=new Zs;class ZN extends Pn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),o=Math.cos(Dd*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],f=["a","b","c"],p=new Array(3),m={},v=[];for(let x=0;x<l;x+=3){s?(c[0]=s.getX(x),c[1]=s.getX(x+1),c[2]=s.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:S,b:_,c:y}=Ox;if(S.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),Ox.getNormal(LM),p[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,p[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let A=0;A<3;A++){const w=(A+1)%3,E=p[A],I=p[w],P=Ox[f[A]],L=Ox[f[w]],U=`${E}_${I}`,F=`${I}_${E}`;F in m&&m[F]?(LM.dot(m[F].normal)<=o&&(v.push(P.x,P.y,P.z),v.push(L.x,L.y,L.z)),m[F]=null):U in m||(m[U]={index0:c[A],index1:c[w],normal:LM.clone()})}}for(const x in m)if(m[x]){const{index0:S,index1:_}=m[x];Bx.fromBufferAttribute(a,S),Lx.fromBufferAttribute(a,_),v.push(Bx.x,Bx.y,Bx.z),v.push(Lx.x,Lx.y,Lx.z)}this.setAttribute("position",new Qt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nd extends Jv{constructor(e){super(e),this.uuid=sa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Jv().fromJSON(i))}return this}}const rK={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=e3(n,0,i,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,f,p,m,v;if(r&&(o=lK(n,e,o,t)),n.length>80*t){a=c=n[0],l=f=n[1];for(let x=t;x<i;x+=t)p=n[x],m=n[x+1],p<a&&(a=p),m<l&&(l=m),p>c&&(c=p),m>f&&(f=m);v=Math.max(c-a,f-l),v=v!==0?32767/v:0}return Yv(o,s,t,a,l,v,0),s}};function e3(n,e,t,r,i){let o,s;if(i===xK(n,e,t,r)>0)for(o=e;o<t;o+=r)s=CI(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=CI(o,n[o],n[o+1],s);return s&&m1(s,s.next)&&(Qv(s),s=s.next),s}function Yd(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(m1(t,t.next)||ni(t.prev,t,t.next)===0)){if(Qv(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Yv(n,e,t,r,i,o,s){if(!n)return;!s&&o&&hK(n,r,i,o);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,o?oK(n,r,i,o):iK(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Qv(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=sK(Yd(n),e,t),Yv(n,e,t,r,i,o,2)):s===2&&aK(n,e,t,r,i,o):Yv(Yd(n),e,t,r,i,o,1);break}}}function iK(n){const e=n.prev,t=n,r=n.next;if(ni(e,t,r)>=0)return!1;const i=e.x,o=t.x,s=r.x,a=e.y,l=t.y,c=r.y,f=i<o?i<s?i:s:o<s?o:s,p=a<l?a<c?a:c:l<c?l:c,m=i>o?i>s?i:s:o>s?o:s,v=a>l?a>c?a:c:l>c?l:c;let x=r.next;for(;x!==e;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&Up(i,a,o,l,s,c,x.x,x.y)&&ni(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function oK(n,e,t,r){const i=n.prev,o=n,s=n.next;if(ni(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,f=i.y,p=o.y,m=s.y,v=a<l?a<c?a:c:l<c?l:c,x=f<p?f<m?f:m:p<m?p:m,S=a>l?a>c?a:c:l>c?l:c,_=f>p?f>m?f:m:p>m?p:m,y=oE(v,x,e,t,r),A=oE(S,_,e,t,r);let w=n.prevZ,E=n.nextZ;for(;w&&w.z>=y&&E&&E.z<=A;){if(w.x>=v&&w.x<=S&&w.y>=x&&w.y<=_&&w!==i&&w!==s&&Up(a,f,l,p,c,m,w.x,w.y)&&ni(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=v&&E.x<=S&&E.y>=x&&E.y<=_&&E!==i&&E!==s&&Up(a,f,l,p,c,m,E.x,E.y)&&ni(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=y;){if(w.x>=v&&w.x<=S&&w.y>=x&&w.y<=_&&w!==i&&w!==s&&Up(a,f,l,p,c,m,w.x,w.y)&&ni(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=A;){if(E.x>=v&&E.x<=S&&E.y>=x&&E.y<=_&&E!==i&&E!==s&&Up(a,f,l,p,c,m,E.x,E.y)&&ni(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function sK(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!m1(i,o)&&t3(i,r,r.next,o)&&qv(i,o)&&qv(o,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),Qv(r),Qv(r.next),r=n=o),r=r.next}while(r!==n);return Yd(r)}function aK(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&gK(s,a)){let l=n3(s,a);s=Yd(s,s.next),l=Yd(l,l.next),Yv(s,e,t,r,i,o,0),Yv(l,e,t,r,i,o,0);return}a=a.next}s=s.next}while(s!==n)}function lK(n,e,t,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=e3(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(mK(c));for(i.sort(cK),o=0;o<i.length;o++)t=uK(i[o],t);return t}function cK(n,e){return n.x-e.x}function uK(n,e){const t=fK(n,e);if(!t)return e;const r=n3(t,n);return Yd(r,r.next),Yd(t,t.next)}function fK(n,e){let t=e,r=-1/0,i;const o=n.x,s=n.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const m=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=o&&m>r&&(r=m,i=t.x<t.next.x?t:t.next,m===o))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let f=1/0,p;t=i;do o>=t.x&&t.x>=l&&o!==t.x&&Up(s<c?o:r,s,l,c,s<c?r:o,s,t.x,t.y)&&(p=Math.abs(s-t.y)/(o-t.x),qv(t,n)&&(p<f||p===f&&(t.x>i.x||t.x===i.x&&dK(i,t)))&&(i=t,f=p)),t=t.next;while(t!==a);return i}function dK(n,e){return ni(n.prev,n,e.prev)<0&&ni(e.next,n,n.next)<0}function hK(n,e,t,r){let i=n;do i.z===0&&(i.z=oE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,pK(i)}function pK(n){let e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function oE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mK(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Up(n,e,t,r,i,o,s,a){return(i-s)*(e-a)>=(n-s)*(o-a)&&(n-s)*(r-a)>=(t-s)*(e-a)&&(t-s)*(o-a)>=(i-s)*(r-a)}function gK(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!vK(n,e)&&(qv(n,e)&&qv(e,n)&&yK(n,e)&&(ni(n.prev,n,e.prev)||ni(n,e.prev,e))||m1(n,e)&&ni(n.prev,n,n.next)>0&&ni(e.prev,e,e.next)>0)}function ni(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function m1(n,e){return n.x===e.x&&n.y===e.y}function t3(n,e,t,r){const i=Fx(ni(n,e,t)),o=Fx(ni(n,e,r)),s=Fx(ni(t,r,n)),a=Fx(ni(t,r,e));return!!(i!==o&&s!==a||i===0&&Dx(n,t,e)||o===0&&Dx(n,r,e)||s===0&&Dx(t,n,r)||a===0&&Dx(t,e,r))}function Dx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Fx(n){return n>0?1:n<0?-1:0}function vK(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&t3(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function qv(n,e){return ni(n.prev,n,n.next)<0?ni(n,e,n.next)>=0&&ni(n,n.prev,e)>=0:ni(n,e,n.prev)<0||ni(n,n.next,e)<0}function yK(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function n3(n,e){const t=new sE(n.i,n.x,n.y),r=new sE(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function CI(n,e,t,r){const i=new sE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xK(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}class Jl{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Jl.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];EI(e),bI(r,e);let s=e.length;t.forEach(EI);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,bI(r,t[l]);const a=rK.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function EI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function bI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class g1 extends Pn{constructor(e=new Nd([new Ye(.5,.5),new Ye(-.5,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new Qt(i,3)),this.setAttribute("uv",new Qt(o,2)),this.computeVertexNormals();function s(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:v-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:_K;let w,E=!1,I,P,L,U;y&&(w=y.getSpacedPoints(f),E=!0,m=!1,I=y.computeFrenetFrames(f,!1),P=new ee,L=new ee,U=new ee),m||(_=0,v=0,x=0,S=0);const F=a.extractPoints(c);let O=F.shape;const G=F.holes;if(!Jl.isClockWise(O)){O=O.reverse();for(let Ne=0,Be=G.length;Ne<Be;Ne++){const He=G[Ne];Jl.isClockWise(He)&&(G[Ne]=He.reverse())}}const Z=Jl.triangulateShape(O,G),ie=O;for(let Ne=0,Be=G.length;Ne<Be;Ne++){const He=G[Ne];O=O.concat(He)}function se(Ne,Be,He){return Be||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ne.clone().addScaledVector(Be,He)}const K=O.length,X=Z.length;function N(Ne,Be,He){let Fe,Ve,Ke;const qe=Ne.x-Be.x,rt=Ne.y-Be.y,Q=He.x-Ne.x,V=He.y-Ne.y,ge=qe*qe+rt*rt,Ae=qe*V-rt*Q;if(Math.abs(Ae)>Number.EPSILON){const Re=Math.sqrt(ge),ze=Math.sqrt(Q*Q+V*V),pt=Be.x-rt/Re,ct=Be.y+qe/Re,st=He.x-V/ze,kt=He.y+Q/ze,Qe=((st-pt)*V-(kt-ct)*Q)/(qe*V-rt*Q);Fe=pt+qe*Qe-Ne.x,Ve=ct+rt*Qe-Ne.y;const vt=Fe*Fe+Ve*Ve;if(vt<=2)return new Ye(Fe,Ve);Ke=Math.sqrt(vt/2)}else{let Re=!1;qe>Number.EPSILON?Q>Number.EPSILON&&(Re=!0):qe<-Number.EPSILON?Q<-Number.EPSILON&&(Re=!0):Math.sign(rt)===Math.sign(V)&&(Re=!0),Re?(Fe=-rt,Ve=qe,Ke=Math.sqrt(ge)):(Fe=qe,Ve=rt,Ke=Math.sqrt(ge/2))}return new Ye(Fe/Ke,Ve/Ke)}const j=[];for(let Ne=0,Be=ie.length,He=Be-1,Fe=Ne+1;Ne<Be;Ne++,He++,Fe++)He===Be&&(He=0),Fe===Be&&(Fe=0),j[Ne]=N(ie[Ne],ie[He],ie[Fe]);const J=[];let re,pe=j.concat();for(let Ne=0,Be=G.length;Ne<Be;Ne++){const He=G[Ne];re=[];for(let Fe=0,Ve=He.length,Ke=Ve-1,qe=Fe+1;Fe<Ve;Fe++,Ke++,qe++)Ke===Ve&&(Ke=0),qe===Ve&&(qe=0),re[Fe]=N(He[Fe],He[Ke],He[qe]);J.push(re),pe=pe.concat(re)}for(let Ne=0;Ne<_;Ne++){const Be=Ne/_,He=v*Math.cos(Be*Math.PI/2),Fe=x*Math.sin(Be*Math.PI/2)+S;for(let Ve=0,Ke=ie.length;Ve<Ke;Ve++){const qe=se(ie[Ve],j[Ve],Fe);Pe(qe.x,qe.y,-He)}for(let Ve=0,Ke=G.length;Ve<Ke;Ve++){const qe=G[Ve];re=J[Ve];for(let rt=0,Q=qe.length;rt<Q;rt++){const V=se(qe[rt],re[rt],Fe);Pe(V.x,V.y,-He)}}}const Me=x+S;for(let Ne=0;Ne<K;Ne++){const Be=m?se(O[Ne],pe[Ne],Me):O[Ne];E?(L.copy(I.normals[0]).multiplyScalar(Be.x),P.copy(I.binormals[0]).multiplyScalar(Be.y),U.copy(w[0]).add(L).add(P),Pe(U.x,U.y,U.z)):Pe(Be.x,Be.y,0)}for(let Ne=1;Ne<=f;Ne++)for(let Be=0;Be<K;Be++){const He=m?se(O[Be],pe[Be],Me):O[Be];E?(L.copy(I.normals[Ne]).multiplyScalar(He.x),P.copy(I.binormals[Ne]).multiplyScalar(He.y),U.copy(w[Ne]).add(L).add(P),Pe(U.x,U.y,U.z)):Pe(He.x,He.y,p/f*Ne)}for(let Ne=_-1;Ne>=0;Ne--){const Be=Ne/_,He=v*Math.cos(Be*Math.PI/2),Fe=x*Math.sin(Be*Math.PI/2)+S;for(let Ve=0,Ke=ie.length;Ve<Ke;Ve++){const qe=se(ie[Ve],j[Ve],Fe);Pe(qe.x,qe.y,p+He)}for(let Ve=0,Ke=G.length;Ve<Ke;Ve++){const qe=G[Ve];re=J[Ve];for(let rt=0,Q=qe.length;rt<Q;rt++){const V=se(qe[rt],re[rt],Fe);E?Pe(V.x,V.y+w[f-1].y,w[f-1].x+He):Pe(V.x,V.y,p+He)}}}de(),Ce();function de(){const Ne=i.length/3;if(m){let Be=0,He=K*Be;for(let Fe=0;Fe<X;Fe++){const Ve=Z[Fe];lt(Ve[2]+He,Ve[1]+He,Ve[0]+He)}Be=f+_*2,He=K*Be;for(let Fe=0;Fe<X;Fe++){const Ve=Z[Fe];lt(Ve[0]+He,Ve[1]+He,Ve[2]+He)}}else{for(let Be=0;Be<X;Be++){const He=Z[Be];lt(He[2],He[1],He[0])}for(let Be=0;Be<X;Be++){const He=Z[Be];lt(He[0]+K*f,He[1]+K*f,He[2]+K*f)}}r.addGroup(Ne,i.length/3-Ne,0)}function Ce(){const Ne=i.length/3;let Be=0;De(ie,Be),Be+=ie.length;for(let He=0,Fe=G.length;He<Fe;He++){const Ve=G[He];De(Ve,Be),Be+=Ve.length}r.addGroup(Ne,i.length/3-Ne,1)}function De(Ne,Be){let He=Ne.length;for(;--He>=0;){const Fe=He;let Ve=He-1;Ve<0&&(Ve=Ne.length-1);for(let Ke=0,qe=f+_*2;Ke<qe;Ke++){const rt=K*Ke,Q=K*(Ke+1),V=Be+Fe+rt,ge=Be+Ve+rt,Ae=Be+Ve+Q,Re=Be+Fe+Q;dt(V,ge,Ae,Re)}}}function Pe(Ne,Be,He){l.push(Ne),l.push(Be),l.push(He)}function lt(Ne,Be,He){ht(Ne),ht(Be),ht(He);const Fe=i.length/3,Ve=A.generateTopUV(r,i,Fe-3,Fe-2,Fe-1);oe(Ve[0]),oe(Ve[1]),oe(Ve[2])}function dt(Ne,Be,He,Fe){ht(Ne),ht(Be),ht(Fe),ht(Be),ht(He),ht(Fe);const Ve=i.length/3,Ke=A.generateSideWallUV(r,i,Ve-6,Ve-3,Ve-2,Ve-1);oe(Ke[0]),oe(Ke[1]),oe(Ke[3]),oe(Ke[1]),oe(Ke[2]),oe(Ke[3])}function ht(Ne){i.push(l[Ne*3+0]),i.push(l[Ne*3+1]),i.push(l[Ne*3+2])}function oe(Ne){o.push(Ne.x),o.push(Ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return SK(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new mS[i.type]().fromJSON(i)),new g1(r,e.options)}}const _K={generateTopUV:function(n,e,t,r,i){const o=e[t*3],s=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new Ye(o,s),new Ye(a,l),new Ye(c,f)]},generateSideWallUV:function(n,e,t,r,i,o){const s=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],f=e[r*3+1],p=e[r*3+2],m=e[i*3],v=e[i*3+1],x=e[i*3+2],S=e[o*3],_=e[o*3+1],y=e[o*3+2];return Math.abs(a-f)<Math.abs(s-c)?[new Ye(s,1-l),new Ye(c,1-p),new Ye(m,1-x),new Ye(S,1-y)]:[new Ye(a,1-l),new Ye(f,1-p),new Ye(v,1-x),new Ye(_,1-y)]}};function SK(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class v1 extends mf{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new v1(e.radius,e.detail)}}class A0 extends mf{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new A0(e.radius,e.detail)}}class y1 extends Pn{constructor(e=.5,t=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],f=[];let p=e;const m=(t-e)/i,v=new ee,x=new Ye;for(let S=0;S<=i;S++){for(let _=0;_<=r;_++){const y=o+_/r*s;v.x=p*Math.cos(y),v.y=p*Math.sin(y),l.push(v.x,v.y,v.z),c.push(0,0,1),x.x=(v.x/t+1)/2,x.y=(v.y/t+1)/2,f.push(x.x,x.y)}p+=m}for(let S=0;S<i;S++){const _=S*(r+1);for(let y=0;y<r;y++){const A=y+_,w=A,E=A+r+1,I=A+r+2,P=A+1;a.push(w,E,P),a.push(E,I,P)}}this.setIndex(a),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(c,3)),this.setAttribute("uv",new Qt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class x1 extends Pn{constructor(e=new Nd([new Ye(0,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qt(i,3)),this.setAttribute("normal",new Qt(o,3)),this.setAttribute("uv",new Qt(s,2));function c(f){const p=i.length/3,m=f.extractPoints(t);let v=m.shape;const x=m.holes;Jl.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,y=x.length;_<y;_++){const A=x[_];Jl.isClockWise(A)===!0&&(x[_]=A.reverse())}const S=Jl.triangulateShape(v,x);for(let _=0,y=x.length;_<y;_++){const A=x[_];v=v.concat(A)}for(let _=0,y=v.length;_<y;_++){const A=v[_];i.push(A.x,A.y,0),o.push(0,0,1),s.push(A.x,A.y)}for(let _=0,y=S.length;_<y;_++){const A=S[_],w=A[0]+p,E=A[1]+p,I=A[2]+p;r.push(w,E,I),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return AK(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=t[e.shapes[i]];r.push(s)}return new x1(r,e.curveSegments)}}function AK(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class qd extends Pn{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let c=0;const f=[],p=new ee,m=new ee,v=[],x=[],S=[],_=[];for(let y=0;y<=r;y++){const A=[],w=y/r;let E=0;y===0&&s===0?E=.5/t:y===r&&l===Math.PI&&(E=-.5/t);for(let I=0;I<=t;I++){const P=I/t;p.x=-e*Math.cos(i+P*o)*Math.sin(s+w*a),p.y=e*Math.cos(s+w*a),p.z=e*Math.sin(i+P*o)*Math.sin(s+w*a),x.push(p.x,p.y,p.z),m.copy(p).normalize(),S.push(m.x,m.y,m.z),_.push(P+E,1-w),A.push(c++)}f.push(A)}for(let y=0;y<r;y++)for(let A=0;A<t;A++){const w=f[y][A+1],E=f[y][A],I=f[y+1][A],P=f[y+1][A+1];(y!==0||s>0)&&v.push(w,E,P),(y!==r-1||l<Math.PI)&&v.push(E,I,P)}this.setIndex(v),this.setAttribute("position",new Qt(x,3)),this.setAttribute("normal",new Qt(S,3)),this.setAttribute("uv",new Qt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _1 extends mf{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _1(e.radius,e.detail)}}class S1 extends Pn{constructor(e=1,t=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],c=[],f=new ee,p=new ee,m=new ee;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const S=x/i*o,_=v/r*Math.PI*2;p.x=(e+t*Math.cos(_))*Math.cos(S),p.y=(e+t*Math.cos(_))*Math.sin(S),p.z=t*Math.sin(_),a.push(p.x,p.y,p.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),m.subVectors(p,f).normalize(),l.push(m.x,m.y,m.z),c.push(x/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const S=(i+1)*v+x-1,_=(i+1)*(v-1)+x-1,y=(i+1)*(v-1)+x,A=(i+1)*v+x;s.push(S,_,A),s.push(_,y,A)}this.setIndex(s),this.setAttribute("position",new Qt(a,3)),this.setAttribute("normal",new Qt(l,3)),this.setAttribute("uv",new Qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class A1 extends Pn{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],f=[],p=new ee,m=new ee,v=new ee,x=new ee,S=new ee,_=new ee,y=new ee;for(let w=0;w<=r;++w){const E=w/r*o*Math.PI*2;A(E,o,s,e,v),A(E+.01,o,s,e,x),_.subVectors(x,v),y.addVectors(x,v),S.crossVectors(_,y),y.crossVectors(S,_),S.normalize(),y.normalize();for(let I=0;I<=i;++I){const P=I/i*Math.PI*2,L=-t*Math.cos(P),U=t*Math.sin(P);p.x=v.x+(L*y.x+U*S.x),p.y=v.y+(L*y.y+U*S.y),p.z=v.z+(L*y.z+U*S.z),l.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),c.push(m.x,m.y,m.z),f.push(w/r),f.push(I/i)}}for(let w=1;w<=r;w++)for(let E=1;E<=i;E++){const I=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),L=(i+1)*w+E,U=(i+1)*(w-1)+E;a.push(I,P,U),a.push(P,L,U)}this.setIndex(a),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(c,3)),this.setAttribute("uv",new Qt(f,2));function A(w,E,I,P,L){const U=Math.cos(w),F=Math.sin(w),O=I/E*w,G=Math.cos(O);L.x=P*(2+G)*.5*U,L.y=P*(2+G)*F*.5,L.z=P*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class M1 extends Pn{constructor(e=new bT(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),t=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new ee,l=new ee,c=new Ye;let f=new ee;const p=[],m=[],v=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new Qt(p,3)),this.setAttribute("normal",new Qt(m,3)),this.setAttribute("uv",new Qt(v,2));function S(){for(let w=0;w<t;w++)_(w);_(o===!1?t:0),A(),y()}function _(w){f=e.getPointAt(w/t,f);const E=s.normals[w],I=s.binormals[w];for(let P=0;P<=i;P++){const L=P/i*Math.PI*2,U=Math.sin(L),F=-Math.cos(L);l.x=F*E.x+U*I.x,l.y=F*E.y+U*I.y,l.z=F*E.z+U*I.z,l.normalize(),m.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,p.push(a.x,a.y,a.z)}}function y(){for(let w=1;w<=t;w++)for(let E=1;E<=i;E++){const I=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),L=(i+1)*w+E,U=(i+1)*(w-1)+E;x.push(I,P,U),x.push(P,L,U)}}function A(){for(let w=0;w<=t;w++)for(let E=0;E<=i;E++)c.x=w/t,c.y=E/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new M1(new mS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class r3 extends Pn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ee,o=new ee;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const p=l[c],m=p.start,v=p.count;for(let x=m,S=m+v;x<S;x+=3)for(let _=0;_<3;_++){const y=a.getX(x+_),A=a.getX(x+(_+1)%3);i.fromBufferAttribute(s,y),o.fromBufferAttribute(s,A),TI(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,p=3*a+(c+1)%3;i.fromBufferAttribute(s,f),o.fromBufferAttribute(s,p),TI(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function TI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var RI=Object.freeze({__proto__:null,BoxGeometry:ah,CapsuleGeometry:f1,CircleGeometry:d1,ConeGeometry:h1,CylinderGeometry:Im,DodecahedronGeometry:p1,EdgesGeometry:ZN,ExtrudeGeometry:g1,IcosahedronGeometry:v1,LatheGeometry:S0,OctahedronGeometry:A0,PlaneGeometry:lf,PolyhedronGeometry:mf,RingGeometry:y1,ShapeGeometry:x1,SphereGeometry:qd,TetrahedronGeometry:_1,TorusGeometry:S1,TorusKnotGeometry:A1,TubeGeometry:M1,WireframeGeometry:r3});class i3 extends Fi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class o3 extends ka{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class M0 extends Fi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new la,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ga extends M0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return hi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class s3 extends Fi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new la,this.combine=p0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class a3 extends Fi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class l3 extends Fi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class c3 extends Fi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new la,this.combine=p0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u3 extends Fi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class f3 extends Lo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function wd(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function d3(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function h3(n){function e(i,o){return n[i]-n[o]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function aE(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i}function RT(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)}function MK(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],f=c.getValueSize(),p=[],m=[];for(let v=0;v<c.times.length;++v){const x=c.times[v]*i;if(!(x<t||x>=r)){p.push(c.times[v]);for(let S=0;S<f;++S)m.push(c.values[v*f+S])}}p.length!==0&&(c.times=wd(p,c.times.constructor),c.values=wd(m,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function wK(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let f=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const x=a.times.length-1;let S;if(o<=a.times[0]){const y=f,A=p-f;S=a.values.slice(y,A)}else if(o>=a.times[x]){const y=x*p+f,A=y+p-f;S=a.values.slice(y,A)}else{const y=a.createInterpolant(),A=f,w=p-f;y.evaluate(o),S=y.resultBuffer.slice(A,w)}l==="quaternion"&&new uo().fromArray(S).normalize().conjugate().toArray(S);const _=c.times.length;for(let y=0;y<_;++y){const A=y*v+m;if(l==="quaternion")uo.multiplyQuaternionsFlat(c.values,A,S,0,c.values,A);else{const w=v-m*2;for(let E=0;E<w;++E)c.values[A+E]-=S[E]}}}return n.blendMode=oT,n}const CK={convertArray:wd,isTypedArray:d3,getKeyframeOrder:h3,sortedArray:aE,flattenJSON:RT,subclip:MK,makeClipAdditive:wK};class Bm{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class p3 extends Bm{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sd,endingEnd:Sd}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case Ad:o=e,a=2*t-r;break;case Gv:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ad:s=e,l=2*r-t;break;case Gv:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=(r-t)*.5,f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=o*f,this._offsetNext=s*f}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,v=this._weightNext,x=(r-t)/(i-t),S=x*x,_=S*x,y=-m*_+2*m*S-m*x,A=(1+m)*_+(-1.5-2*m)*S+(-.5+m)*x+1,w=(-1-v)*_+(1.5+v)*S+.5*x,E=v*_-v*S;for(let I=0;I!==a;++I)o[I]=y*s[f+I]+A*s[c+I]+w*s[l+I]+E*s[p+I];return o}}class PT extends Bm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(r-t)/(i-t),p=1-f;for(let m=0;m!==a;++m)o[m]=s[c+m]*p+s[l+m]*f;return o}}class m3 extends Bm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Al{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wd(t,this.TimeBufferType),this.values=wd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:wd(e.times,Array),values:wd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new m3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new p3(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case fm:t=this.InterpolantFactoryMethodDiscrete;break;case dm:t=this.InterpolantFactoryMethodLinear;break;case E_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fm;case this.InterpolantFactoryMethodLinear:return dm;case this.InterpolantFactoryMethodSmooth:return E_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&d3(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===E_,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)l=!0;else{const p=a*r,m=p-r,v=p+r;for(let x=0;x!==r;++x){const S=t[p+x];if(S!==t[m+x]||S!==t[v+x]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const p=a*r,m=s*r;for(let v=0;v!==r;++v)t[m+v]=t[p+v]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Al.prototype.TimeBufferType=Float32Array;Al.prototype.ValueBufferType=Float32Array;Al.prototype.DefaultInterpolation=dm;class lh extends Al{constructor(e,t,r){super(e,t,r)}}lh.prototype.ValueTypeName="bool";lh.prototype.ValueBufferType=Array;lh.prototype.DefaultInterpolation=fm;lh.prototype.InterpolantFactoryMethodLinear=void 0;lh.prototype.InterpolantFactoryMethodSmooth=void 0;class IT extends Al{}IT.prototype.ValueTypeName="color";class Qd extends Al{}Qd.prototype.ValueTypeName="number";class g3 extends Bm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let f=c+a;c!==f;c+=4)uo.slerpFlat(o,0,s,c-a,s,c,l);return o}}class Zd extends Al{InterpolantFactoryMethodLinear(e){return new g3(this.times,this.values,this.getValueSize(),e)}}Zd.prototype.ValueTypeName="quaternion";Zd.prototype.InterpolantFactoryMethodSmooth=void 0;class ch extends Al{constructor(e,t,r){super(e,t,r)}}ch.prototype.ValueTypeName="string";ch.prototype.ValueBufferType=Array;ch.prototype.DefaultInterpolation=fm;ch.prototype.InterpolantFactoryMethodLinear=void 0;ch.prototype.InterpolantFactoryMethodSmooth=void 0;class eh extends Al{}eh.prototype.ValueTypeName="vector";class mm{constructor(e="",t=-1,r=[],i=t1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=sa(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(bK(r[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(Al.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const f=h3(l);l=aE(l,1,f),c=aE(c,1,f),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Qd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(o);if(f&&f.length>1){const p=f[1];let m=i[p];m||(i[p]=m=[]),m.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,v,x,S){if(v.length!==0){const _=[],y=[];RT(v,_,y,x),_.length!==0&&S.push(new p(m,_,y))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const m=c[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let x;for(x=0;x<m.length;x++)if(m[x].morphTargets)for(let S=0;S<m[x].morphTargets.length;S++)v[m[x].morphTargets[S]]=-1;for(const S in v){const _=[],y=[];for(let A=0;A!==m[x].morphTargets.length;++A){const w=m[x];_.push(w.time),y.push(w.morphTarget===S?1:0)}i.push(new Qd(".morphTargetInfluence["+S+"]",_,y))}l=v.length*s}else{const v=".bones["+t[p].name+"]";r(eh,v+".position",m,"pos",i),r(Zd,v+".quaternion",m,"rot",i),r(eh,v+".scale",m,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function EK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qd;case"vector":case"vector2":case"vector3":case"vector4":return eh;case"color":return IT;case"quaternion":return Zd;case"bool":case"boolean":return lh;case"string":return ch}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=EK(n.type);if(n.times===void 0){const t=[],r=[];RT(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Fc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class BT{constructor(e,t,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,o===!1&&i.onStart!==void 0&&i.onStart(f,s,a),o=!0},this.itemEnd=function(f){s++,i.onProgress!==void 0&&i.onProgress(f,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,p){return c.push(f,p),this},this.removeHandler=function(f){const p=c.indexOf(f);return p!==-1&&c.splice(p,2),this},this.getHandler=function(f){for(let p=0,m=c.length;p<m;p+=2){const v=c[p],x=c[p+1];if(v.global&&(v.lastIndex=0),v.test(f))return x}return null}}}const kp=new BT;class Oo{constructor(e){this.manager=e!==void 0?e:kp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Oo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ac={};class TK extends Error{constructor(e,t){super(e),this.response=t}}class ca extends Oo{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Fc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Ac[e]!==void 0){Ac[e].push({onLoad:t,onProgress:r,onError:i});return}Ac[e]=[],Ac[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Ac[e],p=c.body.getReader(),m=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=m?parseInt(m):0,x=v!==0;let S=0;const _=new ReadableStream({start(y){A();function A(){p.read().then(({done:w,value:E})=>{if(w)y.close();else{S+=E.byteLength;const I=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:v});for(let P=0,L=f.length;P<L;P++){const U=f[P];U.onProgress&&U.onProgress(I)}y.enqueue(E),A()}},w=>{y.error(w)})}}});return new Response(_)}else throw new TK(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),m=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(x=>v.decode(x))}}}).then(c=>{Fc.add(e,c);const f=Ac[e];delete Ac[e];for(let p=0,m=f.length;p<m;p++){const v=f[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const f=Ac[e];if(f===void 0)throw this.manager.itemError(e),c;delete Ac[e];for(let p=0,m=f.length;p<m;p++){const v=f[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class RK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new ca(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=mm.parse(e[r]);t.push(i)}return t}}class PK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=[],a=new c1,l=new ca(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function f(p){l.load(e[p],function(m){const v=o.parse(m,!0);s[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=pi),a.image=s,a.format=v.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)f(p);else l.load(e,function(p){const m=o.parse(p,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let x=0;x<v;x++){s[x]={mipmaps:[]};for(let S=0;S<m.mipmapCount;S++)s[x].mipmaps.push(m.mipmaps[x*m.mipmapCount+S]),s[x].format=m.format,s[x].width=m.width,s[x].height=m.height}a.image=s}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=pi),a.format=m.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Zv extends Oo{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Fc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=Kv("img");function l(){f(),Fc.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(p){f(),i&&i(p),o.manager.itemError(e),o.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class IK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=new y0;o.colorSpace=Ia;const s=new Zv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(f){o.images[c]=f,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class BK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new kc,a=new ca(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c;try{c=o.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:ta,s.wrapT=c.wrapT!==void 0?c.wrapT:ta,s.magFilter=c.magFilter!==void 0?c.magFilter:pi,s.minFilter=c.minFilter!==void 0?c.minFilter:pi,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Da),c.mipmapCount===1&&(s.minFilter=pi),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},r,i),s}}class w0 extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=new Ir,s=new Zv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class gf extends or{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class v3 extends gf{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(or.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const OM=new an,PI=new ee,II=new ee;class LT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ye(512,512),this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new x0,this._frameExtents=new Ye(1,1),this._viewportCount=1,this._viewports=[new vr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;PI.setFromMatrixPosition(e.matrixWorld),t.position.copy(PI),II.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(II),t.updateMatrixWorld(),OM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(OM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(OM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class LK extends LT{constructor(){super(new ti(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=hm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class OT extends gf{constructor(e,t,r=0,i=Math.PI/3,o=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(or.DEFAULT_UP),this.updateMatrix(),this.target=new or,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new LK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const BI=new an,Wg=new ee,DM=new ee;class OK extends LT{constructor(){super(new ti(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ye(4,2),this._viewportCount=6,this._viewports=[new vr(2,1,1,1),new vr(0,1,1,1),new vr(3,1,1,1),new vr(1,1,1,1),new vr(3,0,1,1),new vr(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Wg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Wg),DM.copy(r.position),DM.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(DM),r.updateMatrixWorld(),i.makeTranslation(-Wg.x,-Wg.y,-Wg.z),BI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BI)}}class DT extends gf{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new OK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DK extends LT{constructor(){super(new Wl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FT extends gf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(or.DEFAULT_UP),this.updateMatrix(),this.target=new or,this.shadow=new DK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class y3 extends gf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class x3 extends gf{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class _3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}class S3 extends gf{constructor(e=new _3,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class w1 extends Oo{constructor(e){super(e),this.textures={}}load(e,t,r,i){const o=this,s=new ca(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=w1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new bt().setHex(s.value);break;case"v2":i.uniforms[o].value=new Ye().fromArray(s.value);break;case"v3":i.uniforms[o].value=new ee().fromArray(s.value);break;case"v4":i.uniforms[o].value=new vr().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Ln().fromArray(s.value);break;case"m4":i.uniforms[o].value=new an().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Ye().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:i3,SpriteMaterial:vT,RawShaderMaterial:o3,ShaderMaterial:ka,PointsMaterial:l1,MeshPhysicalMaterial:Ga,MeshStandardMaterial:M0,MeshPhongMaterial:s3,MeshToonMaterial:a3,MeshNormalMaterial:l3,MeshLambertMaterial:c3,MeshDepthMaterial:mT,MeshDistanceMaterial:gT,MeshBasicMaterial:ra,MeshMatcapMaterial:u3,LineDashedMaterial:f3,LineBasicMaterial:Lo,Material:Fi};return new t[e]}}class nf{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class A3 extends Pn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class M3 extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new ca(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,x){if(t[x]!==void 0)return t[x];const _=v.interleavedBuffers[x],y=o(v,_.buffer),A=Fp(_.type,y),w=new _0(A,_.stride);return w.uuid=_.uuid,t[x]=w,w}function o(v,x){if(r[x]!==void 0)return r[x];const _=v.arrayBuffers[x],y=new Uint32Array(_).buffer;return r[x]=y,y}const s=e.isInstancedBufferGeometry?new A3:new Pn,a=e.data.index;if(a!==void 0){const v=Fp(a.type,a.array);s.setIndex(new jn(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let S;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);S=new cf(_,x.itemSize,x.offset,x.normalized)}else{const _=Fp(x.type,x.array),y=x.isInstancedBufferAttribute?Jd:jn;S=new y(_,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),s.setAttribute(v,S)}const c=e.data.morphAttributes;if(c)for(const v in c){const x=c[v],S=[];for(let _=0,y=x.length;_<y;_++){const A=x[_];let w;if(A.isInterleavedBufferAttribute){const E=i(e.data,A.data);w=new cf(E,A.itemSize,A.offset,A.normalized)}else{const E=Fp(A.type,A.array);w=new jn(E,A.itemSize,A.normalized)}A.name!==void 0&&(w.name=A.name),S.push(w)}s.morphAttributes[v]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,x=p.length;v!==x;++v){const S=p[v];s.addGroup(S.start,S.count,S.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new ee;m.center!==void 0&&v.fromArray(m.center),s.boundingSphere=new vo(v,m.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class FK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=this.path===""?nf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new ca(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?nf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new ca(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),t!==void 0){let p=!1;for(const m in s)if(s[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Nd().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new xT().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new M3;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in RI?a=RI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new w1;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=mm.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(f)}else return l.data?{data:Fp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new BT(t);o=new Zv(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const p=e[c],m=p.url;if(Array.isArray(m)){const v=[];for(let x=0,S=m.length;x<S;x++){const _=m[x],y=a(_);y!==null&&(y instanceof HTMLImageElement?v.push(y):v.push(new kc(y.data,y.width,y.height)))}i[p.uuid]=new Md(v)}else{const v=a(p.url);i[p.uuid]=new Md(v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:Fp(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Zv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const f=[];for(let p=0,m=c.length;p<m;p++){const v=c[p],x=await o(v);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new kc(x.data,x.width,x.height)))}r[l.uuid]=new Md(f)}else{const f=await o(l.url);r[l.uuid]=new Md(f)}}}return r}parseTextures(e,t){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let f;Array.isArray(c)?(f=new y0,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new kc:f=new Ir,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,NK)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],LI),f.wrapT=r(a.wrap[1],LI)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,OI)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,OI)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,t,r,i,o){let s;function a(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let x=0,S=m.length;x<S;x++){const _=m[x];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(r[_])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let f,p;switch(e.type){case"Scene":s=new dS,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new bt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new s1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new o1(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ti(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Wl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new y3(e.color,e.intensity);break;case"DirectionalLight":s=new FT(e.color,e.intensity);break;case"PointLight":s=new DT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new x3(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new OT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new v3(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new S3().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),p=l(e.material),s=new yT(f,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),p=l(e.material),s=new Ur(f,p);break;case"InstancedMesh":f=a(e.geometry),p=l(e.material);const m=e.count,v=e.instanceMatrix,x=e.instanceColor;s=new _T(f,p,m),s.instanceMatrix=new Jd(new Float32Array(v.array),16),x!==void 0&&(s.instanceColor=new Jd(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":f=a(e.geometry),p=l(e.material),s=new XN(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,p),s.geometry=f,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(S=>{const _=new Io;_.min.fromArray(S.boxMin),_.max.fromArray(S.boxMax);const y=new vo;return y.radius=S.sphereRadius,y.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:_,sphereInitialized:S.sphereInitialized,sphere:y}}),s._maxGeometryCount=e.maxGeometryCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new $N;break;case"Line":s=new Xc(a(e.geometry),l(e.material));break;case"LineLoop":s=new ST(a(e.geometry),l(e.material));break;case"LineSegments":s=new _l(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new AT(a(e.geometry),l(e.material));break;case"Sprite":s=new WN(l(e.material));break;case"Group":s=new Dc;break;case"Bone":s=new a1;break;default:s=new or}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)s.add(this.parseObject(m[v],t,r,i,o))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const x=m[v];s.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const x=m[v],S=s.getObjectByProperty("uuid",x.object);S!==void 0&&s.addLevel(S,x.distance,x.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const NK={UVMapping:ZS,CubeReflectionMapping:jc,CubeRefractionMapping:sf,EquirectangularReflectionMapping:kv,EquirectangularRefractionMapping:zv,CubeUVReflectionMapping:Rm},LI={RepeatWrapping:af,ClampToEdgeWrapping:ta,MirroredRepeatWrapping:um},OI={NearestFilter:Vi,NearestMipmapNearestFilter:e1,NearestMipmapLinearFilter:_d,LinearFilter:pi,LinearMipmapNearestFilter:qp,LinearMipmapLinearFilter:Da};class w3 extends Oo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Fc.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{t&&t(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Fc.add(e,c),t&&t(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Fc.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Fc.add(e,l),o.manager.itemStart(e)}}let Nx;class NT{static getContext(){return Nx===void 0&&(Nx=new(window.AudioContext||window.webkitAudioContext)),Nx}static setContext(e){Nx=e}}class UK extends Oo{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new ca(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);NT.getContext().decodeAudioData(c,function(p){t(p)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const DI=new an,FI=new an,nd=new an;class kK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ti,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ti,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nd.copy(e.projectionMatrix);const i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(Dd*t.fov*.5)/t.zoom;let a,l;FI.elements[12]=-i,DI.elements[12]=i,a=-s*t.aspect+o,l=s*t.aspect+o,nd.elements[0]=2*t.near/(l-a),nd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(nd),a=-s*t.aspect-o,l=s*t.aspect-o,nd.elements[0]=2*t.near/(l-a),nd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(nd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(DI)}}class UT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=NI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=NI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function NI(){return(typeof performance>"u"?Date:performance).now()}const rd=new ee,UI=new uo,zK=new ee,id=new ee;class HK extends or{constructor(){super(),this.type="AudioListener",this.context=NT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rd,UI,zK),id.set(0,0,-1).applyQuaternion(UI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(rd.x,i),t.positionY.linearRampToValueAtTime(rd.y,i),t.positionZ.linearRampToValueAtTime(rd.z,i),t.forwardX.linearRampToValueAtTime(id.x,i),t.forwardY.linearRampToValueAtTime(id.y,i),t.forwardZ.linearRampToValueAtTime(id.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(rd.x,rd.y,rd.z),t.setOrientation(id.x,id.y,id.z,r.x,r.y,r.z)}}class C3 extends or{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const od=new ee,kI=new uo,GK=new ee,sd=new ee;class VK extends C3{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(od,kI,GK),sd.set(0,0,1).applyQuaternion(kI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(od.x,r),t.positionY.linearRampToValueAtTime(od.y,r),t.positionZ.linearRampToValueAtTime(od.z,r),t.orientationX.linearRampToValueAtTime(sd.x,r),t.orientationY.linearRampToValueAtTime(sd.y,r),t.orientationZ.linearRampToValueAtTime(sd.z,r)}else t.setPosition(od.x,od.y,od.z),t.setOrientation(sd.x,sd.y,sd.z)}}class WK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class E3{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){uo.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const s=this._workIndex*o;uo.multiplyQuaternionsFlat(e,s,e,t,e,r),uo.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[r+s]*i}}}const kT="\\[\\]\\.:\\/",$K=new RegExp("["+kT+"]","g"),zT="[^"+kT+"]",jK="[^"+kT.replace("\\.","")+"]",XK=/((?:WC+[\/:])*)/.source.replace("WC",zT),KK=/(WCOD+)?/.source.replace("WCOD",jK),JK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zT),YK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zT),qK=new RegExp("^"+XK+KK+JK+YK+"$"),QK=["material","materials","bones","map"];class ZK{constructor(e,t,r){const i=r||ir.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class ir{constructor(e,t,r){this.path=t,this.parsedPath=r||ir.parseTrackName(t),this.node=ir.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new ir.Composite(e,t,r):new ir(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($K,"")}static parseTrackName(e){const t=qK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);QK.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=ir.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ir.Composite=ZK;ir.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ir.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ir.prototype.GetterByBindingType=[ir.prototype._getValue_direct,ir.prototype._getValue_array,ir.prototype._getValue_arrayElement,ir.prototype._getValue_toArray];ir.prototype.SetterByBindingTypeAndVersioning=[[ir.prototype._setValue_direct,ir.prototype._setValue_direct_setNeedsUpdate,ir.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ir.prototype._setValue_array,ir.prototype._setValue_array_setNeedsUpdate,ir.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ir.prototype._setValue_arrayElement,ir.prototype._setValue_arrayElement_setNeedsUpdate,ir.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ir.prototype._setValue_fromArray,ir.prototype._setValue_fromArray_setNeedsUpdate,ir.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=sa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,p=arguments.length;f!==p;++f){const m=arguments[f],v=m.uuid;let x=t[v];if(x===void 0){x=l++,t[v]=x,e.push(m);for(let S=0,_=s;S!==_;++S)o[S].push(new ir(m,r[S],i[S]))}else if(x<c){a=e[x];const S=--c,_=e[S];t[_.uuid]=x,e[x]=_,t[v]=S,e[S]=m;for(let y=0,A=s;y!==A;++y){const w=o[y],E=w[S];let I=w[x];w[x]=E,I===void 0&&(I=new ir(m,r[y],i[y])),w[S]=I}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,f=t[c];if(f!==void 0&&f>=o){const p=o++,m=e[p];t[m.uuid]=f,e[f]=m,t[c]=p,e[p]=l;for(let v=0,x=i;v!==x;++v){const S=r[v],_=S[p],y=S[f];S[f]=_,S[p]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,p=t[f];if(p!==void 0)if(delete t[f],p<o){const m=--o,v=e[m],x=--s,S=e[x];t[v.uuid]=p,e[p]=v,t[S.uuid]=m,e[m]=S,e.pop();for(let _=0,y=i;_!==y;++_){const A=r[_],w=A[m],E=A[x];A[p]=w,A[m]=E,A.pop()}}else{const m=--s,v=e[m];m>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let x=0,S=i;x!==S;++x){const _=r[x];_[p]=_[m],_.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,p=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(p);for(let m=f,v=l.length;m!==v;++m){const x=l[m];p[m]=new ir(x,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];t[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class b3{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:Sd,endingEnd:Sd};for(let c=0;c!==s;++c){const f=o[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case oT:for(let f=0,p=l.length;f!==p;++f)l[f].evaluate(s),c[f].accumulateAdditive(a);break;case t1:default:for(let f=0,p=l.length;f!==p;++f)l[f].evaluate(s),c[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===dN;if(e===0)return o===-1?i:s&&(o&1)===1?t-i:i;if(r===uN){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ad,i.endingEnd=Ad):(e?i.endingStart=this.zeroSlopeAtStart?Ad:Sd:i.endingStart=Gv,t?i.endingEnd=this.zeroSlopeAtEnd?Ad:Sd:i.endingEnd=Gv)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}}const tJ=new Float32Array(1);class nJ extends Zl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let p=0;p!==o;++p){const m=i[p],v=m.name;let x=f[v];if(x!==void 0)++x.referenceCount,s[p]=x;else{if(x=s[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const S=t&&t._propertyBindings[p].binding.parsedPath;x=new E3(ir.create(r,v,S),m.ValueTypeName,m.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),s[p]=x}a[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new PT(new Float32Array(2),new Float32Array(2),1,tJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let s=typeof e=="string"?mm.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=t1),l!==void 0){const p=l.actionByRoot[o];if(p!==void 0&&p.blendMode===r)return p;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const f=new b3(this,s,t,r);return this._bindAction(f,c),this._addInactiveAction(f,a,o),f}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?mm.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const f=c._cacheIndex,p=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=f,t[f]=p,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class HT{constructor(e){this.value=e}clone(){return new HT(this.value.clone===void 0?this.value:this.value.clone())}}let rJ=0;class iJ extends Zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rJ++}),this.name="",this.usage=jv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class oJ extends _0{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sJ{constructor(e,t,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const zI=new an;class T3{constructor(e,t,r=0,i=1/0){this.ray=new sh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Fd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return zI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(zI),this}intersectObject(e,t=!0,r=[]){return lE(e,this,r,t),r.sort(HI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)lE(e[i],this,r,t);return r.sort(HI),r}}function HI(n,e){return n.distance-e.distance}function lE(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const o=n.children;for(let s=0,a=o.length;s<a;s++)lE(o[s],e,t,!0)}}class gS{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(hi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aJ{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const GI=new Ye;class lJ{constructor(e=new Ye(1/0,1/0),t=new Ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=GI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,GI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const VI=new ee,Ux=new ee;class cJ{constructor(e=new ee,t=new ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){VI.subVectors(e,this.start),Ux.subVectors(this.end,this.start);const r=Ux.dot(Ux);let o=Ux.dot(VI)/r;return t&&(o=hi(o,0,1)),o}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const WI=new ee;class uJ extends or{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Pn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Qt(i,3));const o=new Lo({fog:!1,toneMapped:!1});this.cone=new _l(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Lu=new ee,kx=new an,FM=new an;class fJ extends _l{constructor(e){const t=R3(e),r=new Pn,i=[],o=[],s=new bt(0,0,1),a=new bt(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Qt(i,3)),r.setAttribute("color",new Qt(o,3));const l=new Lo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");FM.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(kx.multiplyMatrices(FM,a.matrixWorld),Lu.setFromMatrixPosition(kx),i.setXYZ(s,Lu.x,Lu.y,Lu.z),kx.multiplyMatrices(FM,a.parent.matrixWorld),Lu.setFromMatrixPosition(kx),i.setXYZ(s+1,Lu.x,Lu.y,Lu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function R3(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,R3(n.children[t]));return e}class dJ extends Ur{constructor(e,t,r){const i=new qd(t,4,2),o=new ra({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hJ=new ee,$I=new bt,jI=new bt;class pJ extends or{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new A0(t);i.rotateY(Math.PI*.5),this.material=new ra({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new jn(s,3)),this.add(new Ur(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");$I.copy(this.light.color),jI.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const o=r<i/2?$I:jI;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mJ extends _l{constructor(e=10,t=10,r=4473924,i=8947848){r=new bt(r),i=new bt(i);const o=t/2,s=e/t,a=e/2,l=[],c=[];for(let m=0,v=0,x=-a;m<=t;m++,x+=s){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const S=m===o?r:i;S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3}const f=new Pn;f.setAttribute("position",new Qt(l,3)),f.setAttribute("color",new Qt(c,3));const p=new Lo({vertexColors:!0,toneMapped:!1});super(f,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gJ extends _l{constructor(e=10,t=16,r=8,i=64,o=4473924,s=8947848){o=new bt(o),s=new bt(s);const a=[],l=[];if(t>1)for(let p=0;p<t;p++){const m=p/t*(Math.PI*2),v=Math.sin(m)*e,x=Math.cos(m)*e;a.push(0,0,0),a.push(v,0,x);const S=p&1?o:s;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let p=0;p<r;p++){const m=p&1?o:s,v=e-e/r*p;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),_=Math.sin(S)*v,y=Math.cos(S)*v;a.push(_,0,y),l.push(m.r,m.g,m.b),S=(x+1)/i*(Math.PI*2),_=Math.sin(S)*v,y=Math.cos(S)*v,a.push(_,0,y),l.push(m.r,m.g,m.b)}}const c=new Pn;c.setAttribute("position",new Qt(a,3)),c.setAttribute("color",new Qt(l,3));const f=new Lo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XI=new ee,zx=new ee,KI=new ee;class cE extends or{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Pn;i.setAttribute("position",new Qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Lo({fog:!1,toneMapped:!1});this.lightPlane=new Xc(i,o),this.add(this.lightPlane),i=new Pn,i.setAttribute("position",new Qt([0,0,0,0,0,1],3)),this.targetLine=new Xc(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XI.setFromMatrixPosition(this.light.matrixWorld),zx.setFromMatrixPosition(this.light.target.matrixWorld),KI.subVectors(zx,XI),this.lightPlane.lookAt(zx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zx),this.targetLine.scale.z=KI.length()}}const Hx=new ee,fi=new v0;class vJ extends _l{constructor(e){const t=new Pn,r=new Lo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,S){l(x),l(S)}function l(x){i.push(0,0,0),o.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}t.setAttribute("position",new Qt(i,3)),t.setAttribute("color",new Qt(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new bt(16755200),f=new bt(16711680),p=new bt(43775),m=new bt(16777215),v=new bt(3355443);this.setColors(c,f,p,m,v)}setColors(e,t,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;fi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mi("c",t,e,fi,0,0,-1),Mi("t",t,e,fi,0,0,1),Mi("n1",t,e,fi,-r,-i,-1),Mi("n2",t,e,fi,r,-i,-1),Mi("n3",t,e,fi,-r,i,-1),Mi("n4",t,e,fi,r,i,-1),Mi("f1",t,e,fi,-r,-i,1),Mi("f2",t,e,fi,r,-i,1),Mi("f3",t,e,fi,-r,i,1),Mi("f4",t,e,fi,r,i,1),Mi("u1",t,e,fi,r*.7,i*1.1,-1),Mi("u2",t,e,fi,-r*.7,i*1.1,-1),Mi("u3",t,e,fi,0,i*2,-1),Mi("cf1",t,e,fi,-r,0,1),Mi("cf2",t,e,fi,r,0,1),Mi("cf3",t,e,fi,0,-i,1),Mi("cf4",t,e,fi,0,i,1),Mi("cn1",t,e,fi,-r,0,-1),Mi("cn2",t,e,fi,r,0,-1),Mi("cn3",t,e,fi,0,-i,-1),Mi("cn4",t,e,fi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mi(n,e,t,r,i,o,s){Hx.set(i,o,s).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],Hx.x,Hx.y,Hx.z)}}const Gx=new Io;class yJ extends _l{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Pn;o.setIndex(new jn(r,1)),o.setAttribute("position",new jn(i,3)),super(o,new Lo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Gx.setFromObject(this.object),Gx.isEmpty())return;const t=Gx.min,r=Gx.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=t.x,o[4]=r.y,o[5]=r.z,o[6]=t.x,o[7]=t.y,o[8]=r.z,o[9]=r.x,o[10]=t.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=t.z,o[15]=t.x,o[16]=r.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=r.x,o[22]=t.y,o[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xJ extends _l{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Pn;o.setIndex(new jn(r,1)),o.setAttribute("position",new Qt(i,3)),super(o,new Lo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _J extends Xc{constructor(e,t=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Pn;s.setAttribute("position",new Qt(o,3)),s.computeBoundingSphere(),super(s,new Lo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pn;l.setAttribute("position",new Qt(a,3)),l.computeBoundingSphere(),this.add(new Ur(l,new ra({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const JI=new ee;let Vx,NM;class SJ extends or{constructor(e=new ee(0,0,1),t=new ee(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",Vx===void 0&&(Vx=new Pn,Vx.setAttribute("position",new Qt([0,0,0,0,1,0],3)),NM=new Im(0,.5,1,5,1),NM.translate(0,-.5,0)),this.position.copy(t),this.line=new Xc(Vx,new Lo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ur(NM,new ra({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{JI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(JI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AJ extends _l{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Pn;i.setAttribute("position",new Qt(t,3)),i.setAttribute("color",new Qt(r,3));const o=new Lo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,t,r){const i=new bt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class MJ{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Jv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,s){return this.currentPath.bezierCurveTo(e,t,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const A=[];for(let w=0,E=y.length;w<E;w++){const I=y[w],P=new Nd;P.curves=I.curves,A.push(P)}return A}function r(y,A){const w=A.length;let E=!1;for(let I=w-1,P=0;P<w;I=P++){let L=A[I],U=A[P],F=U.x-L.x,O=U.y-L.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(L=A[P],F=-F,U=A[I],O=-O),y.y<L.y||y.y>U.y)continue;if(y.y===L.y){if(y.x===L.x)return!0}else{const G=O*(y.x-L.x)-F*(y.y-L.y);if(G===0)return!0;if(G<0)continue;E=!E}}else{if(y.y!==L.y)continue;if(U.x<=y.x&&y.x<=L.x||L.x<=y.x&&y.x<=U.x)return!0}}return E}const i=Jl.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new Nd,l.curves=a.curves,c.push(l),c;let f=!i(o[0].getPoints());f=e?!f:f;const p=[],m=[];let v=[],x=0,S;m[x]=void 0,v[x]=[];for(let y=0,A=o.length;y<A;y++)a=o[y],S=a.getPoints(),s=i(S),s=e?!s:s,s?(!f&&m[x]&&x++,m[x]={s:new Nd,p:S},m[x].s.curves=a.curves,f&&x++,v[x]=[]):v[x].push({h:a,p:S[0]});if(!m[0])return t(o);if(m.length>1){let y=!1,A=0;for(let w=0,E=m.length;w<E;w++)p[w]=[];for(let w=0,E=m.length;w<E;w++){const I=v[w];for(let P=0;P<I.length;P++){const L=I[P];let U=!0;for(let F=0;F<m.length;F++)r(L.p,m[F].p)&&(w!==F&&A++,U?(U=!1,p[F].push(L)):y=!0);U&&p[w].push(L)}}A>0&&y===!1&&(v=p)}let _;for(let y=0,A=m.length;y<A;y++){l=m[y].s,c.push(l),_=v[y];for(let w=0,E=_.length;w<E;w++)l.holes.push(_[w].h)}return c}}class wJ extends xl{constructor(e=1,t=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Tm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Tm);const CJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:qb,AddEquation:Hu,AddOperation:XF,AdditiveAnimationBlendMode:oT,AdditiveBlending:lS,AgXToneMapping:QF,AlphaFormat:iN,AlwaysCompare:MN,AlwaysDepth:zF,AlwaysStencilFunc:eE,AmbientLight:y3,AnimationAction:b3,AnimationClip:mm,AnimationLoader:RK,AnimationMixer:nJ,AnimationObjectGroup:eJ,AnimationUtils:CK,ArcCurve:KN,ArrayCamera:HN,ArrowHelper:SJ,AttachedBindMode:bC,Audio:C3,AudioAnalyser:WK,AudioContext:NT,AudioListener:HK,AudioLoader:UK,AxesHelper:AJ,BackSide:es,BasicDepthPacking:pN,BasicShadowMap:_F,BatchedMesh:XN,Bone:a1,BooleanKeyframeTrack:lh,Box2:lJ,Box3:Io,Box3Helper:xJ,BoxGeometry:ah,BoxHelper:yJ,BufferAttribute:jn,BufferGeometry:Pn,BufferGeometryLoader:M3,ByteType:tN,Cache:Fc,Camera:v0,CameraHelper:vJ,CanvasTexture:JX,CapsuleGeometry:f1,CatmullRomCurve3:JN,CineonToneMapping:YF,CircleGeometry:d1,ClampToEdgeWrapping:ta,Clock:UT,Color:bt,ColorKeyframeTrack:IT,ColorManagement:ur,CompressedArrayTexture:XX,CompressedCubeTexture:KX,CompressedTexture:c1,CompressedTextureLoader:PK,ConeGeometry:h1,ConstantAlphaFactor:NF,ConstantColorFactor:DF,CubeCamera:BN,CubeReflectionMapping:jc,CubeRefractionMapping:sf,CubeTexture:y0,CubeTextureLoader:IK,CubeUVReflectionMapping:Rm,CubicBezierCurve:wT,CubicBezierCurve3:YN,CubicInterpolant:p3,CullFaceBack:wC,CullFaceFront:xF,CullFaceFrontBack:NV,CullFaceNone:yF,Curve:Sl,CurvePath:QN,CustomBlending:SF,CustomToneMapping:qF,CylinderGeometry:Im,Cylindrical:aJ,Data3DTexture:uT,DataArrayTexture:r1,DataTexture:kc,DataTextureLoader:BK,DataUtils:V6,DecrementStencilOp:$V,DecrementWrapStencilOp:XV,DefaultLoadingManager:kp,DepthFormat:Od,DepthStencilFormat:Kd,DepthTexture:pT,DetachedBindMode:eN,DirectionalLight:FT,DirectionalLightHelper:cE,DiscreteInterpolant:m3,DisplayP3ColorSpace:n1,DodecahedronGeometry:p1,DoubleSide:Qs,DstAlphaFactor:PF,DstColorFactor:BF,DynamicCopyUsage:l6,DynamicDrawUsage:n6,DynamicReadUsage:o6,EdgesGeometry:ZN,EllipseCurve:u1,EqualCompare:xN,EqualDepth:GF,EqualStencilFunc:qV,EquirectangularReflectionMapping:kv,EquirectangularRefractionMapping:zv,Euler:la,EventDispatcher:Zl,ExtrudeGeometry:g1,FileLoader:ca,Float16BufferAttribute:J6,Float32BufferAttribute:Qt,FloatType:na,Fog:s1,FogExp2:o1,FramebufferTexture:jX,FrontSide:Yl,Frustum:x0,GLBufferAttribute:sJ,GLSL1:u6,GLSL3:tE,GreaterCompare:_N,GreaterDepth:WF,GreaterEqualCompare:AN,GreaterEqualDepth:VF,GreaterEqualStencilFunc:t6,GreaterStencilFunc:ZV,GridHelper:mJ,Group:Dc,HalfFloatType:m0,HemisphereLight:v3,HemisphereLightHelper:pJ,IcosahedronGeometry:v1,ImageBitmapLoader:w3,ImageLoader:Zv,ImageUtils:bN,IncrementStencilOp:WV,IncrementWrapStencilOp:jV,InstancedBufferAttribute:Jd,InstancedBufferGeometry:A3,InstancedInterleavedBuffer:oJ,InstancedMesh:_T,Int16BufferAttribute:X6,Int32BufferAttribute:K6,Int8BufferAttribute:W6,IntType:Qb,InterleavedBuffer:_0,InterleavedBufferAttribute:cf,Interpolant:Bm,InterpolateDiscrete:fm,InterpolateLinear:dm,InterpolateSmooth:E_,InvertStencilOp:KV,KeepStencilOp:dd,KeyframeTrack:Al,LOD:$N,LatheGeometry:S0,Layers:Fd,LessCompare:yN,LessDepth:HF,LessEqualCompare:aT,LessEqualDepth:Uv,LessEqualStencilFunc:QV,LessStencilFunc:YV,Light:gf,LightProbe:S3,Line:Xc,Line3:cJ,LineBasicMaterial:Lo,LineCurve:CT,LineCurve3:qN,LineDashedMaterial:f3,LineLoop:ST,LineSegments:_l,LinearDisplayP3ColorSpace:g0,LinearFilter:pi,LinearInterpolant:PT,LinearMipMapLinearFilter:HV,LinearMipMapNearestFilter:zV,LinearMipmapLinearFilter:Da,LinearMipmapNearestFilter:qp,LinearSRGBColorSpace:Yc,LinearToneMapping:KF,LinearTransfer:Vv,Loader:Oo,LoaderUtils:nf,LoadingManager:BT,LoopOnce:uN,LoopPingPong:dN,LoopRepeat:fN,LuminanceAlphaFormat:aN,LuminanceFormat:sN,MOUSE:ud,Material:Fi,MaterialLoader:w1,MathUtils:wN,Matrix3:Ln,Matrix4:an,MaxEquation:CF,Mesh:Ur,MeshBasicMaterial:ra,MeshDepthMaterial:mT,MeshDistanceMaterial:gT,MeshLambertMaterial:c3,MeshMatcapMaterial:u3,MeshNormalMaterial:l3,MeshPhongMaterial:s3,MeshPhysicalMaterial:Ga,MeshStandardMaterial:M0,MeshToonMaterial:a3,MinEquation:wF,MirroredRepeatWrapping:um,MixOperation:jF,MultiplyBlending:EC,MultiplyOperation:p0,NearestFilter:Vi,NearestMipMapLinearFilter:kV,NearestMipMapNearestFilter:UV,NearestMipmapLinearFilter:_d,NearestMipmapNearestFilter:e1,NeutralToneMapping:ZF,NeverCompare:vN,NeverDepth:kF,NeverStencilFunc:JV,NoBlending:Uc,NoColorSpace:Ic,NoToneMapping:Kl,NormalAnimationBlendMode:t1,NormalBlending:Ld,NotEqualCompare:SN,NotEqualDepth:$F,NotEqualStencilFunc:e6,NumberKeyframeTrack:Qd,Object3D:or,ObjectLoader:FK,ObjectSpaceNormalMap:gN,OctahedronGeometry:A0,OneFactor:bF,OneMinusConstantAlphaFactor:UF,OneMinusConstantColorFactor:FF,OneMinusDstAlphaFactor:IF,OneMinusDstColorFactor:LF,OneMinusSrcAlphaFactor:uS,OneMinusSrcColorFactor:RF,OrthographicCamera:Wl,P3Primaries:$v,PCFShadowMap:QS,PCFSoftShadowMap:pv,PMREMGenerator:nE,Path:Jv,PerspectiveCamera:ti,Plane:Tc,PlaneGeometry:lf,PlaneHelper:_J,PointLight:DT,PointLightHelper:dJ,Points:AT,PointsMaterial:l1,PolarGridHelper:gJ,PolyhedronGeometry:mf,PositionalAudio:VK,PropertyBinding:ir,PropertyMixer:E3,QuadraticBezierCurve:ET,QuadraticBezierCurve3:bT,Quaternion:uo,QuaternionKeyframeTrack:Zd,QuaternionLinearInterpolant:g3,RED_GREEN_RGTC2_Format:QC,RED_RGTC1_Format:cN,REVISION:Tm,RGBADepthPacking:mN,RGBAFormat:Qo,RGBAIntegerFormat:iT,RGBA_ASTC_10x10_Format:jC,RGBA_ASTC_10x5_Format:VC,RGBA_ASTC_10x6_Format:WC,RGBA_ASTC_10x8_Format:$C,RGBA_ASTC_12x10_Format:XC,RGBA_ASTC_12x12_Format:KC,RGBA_ASTC_4x4_Format:DC,RGBA_ASTC_5x4_Format:FC,RGBA_ASTC_5x5_Format:NC,RGBA_ASTC_6x5_Format:UC,RGBA_ASTC_6x6_Format:kC,RGBA_ASTC_8x5_Format:zC,RGBA_ASTC_8x6_Format:HC,RGBA_ASTC_8x8_Format:GC,RGBA_BPTC_Format:C_,RGBA_ETC2_EAC_Format:OC,RGBA_PVRTC_2BPPV1_Format:IC,RGBA_PVRTC_4BPPV1_Format:PC,RGBA_S3TC_DXT1_Format:A_,RGBA_S3TC_DXT3_Format:M_,RGBA_S3TC_DXT5_Format:w_,RGBFormat:oN,RGB_BPTC_SIGNED_Format:JC,RGB_BPTC_UNSIGNED_Format:YC,RGB_ETC1_Format:BC,RGB_ETC2_Format:LC,RGB_PVRTC_2BPPV1_Format:RC,RGB_PVRTC_4BPPV1_Format:TC,RGB_S3TC_DXT1_Format:S_,RGFormat:lN,RGIntegerFormat:rT,RawShaderMaterial:o3,Ray:sh,Raycaster:T3,Rec709Primaries:Wv,RectAreaLight:x3,RedFormat:tT,RedIntegerFormat:nT,ReinhardToneMapping:JF,RenderTarget:TN,RepeatWrapping:af,ReplaceStencilOp:VV,ReverseSubtractEquation:MF,RingGeometry:y1,SIGNED_RED_GREEN_RGTC2_Format:ZC,SIGNED_RED_RGTC1_Format:qC,SRGBColorSpace:Ia,SRGBTransfer:Dr,Scene:dS,ShaderChunk:Hn,ShaderLib:hl,ShaderMaterial:ka,ShadowMaterial:i3,Shape:Nd,ShapeGeometry:x1,ShapePath:MJ,ShapeUtils:Jl,ShortType:nN,Skeleton:xT,SkeletonHelper:fJ,SkinnedMesh:yT,Source:Md,Sphere:vo,SphereGeometry:qd,Spherical:gS,SphericalHarmonics3:_3,SplineCurve:TT,SpotLight:OT,SpotLightHelper:uJ,Sprite:WN,SpriteMaterial:vT,SrcAlphaFactor:cS,SrcAlphaSaturateFactor:OF,SrcColorFactor:TF,StaticCopyUsage:a6,StaticDrawUsage:jv,StaticReadUsage:i6,StereoCamera:kK,StreamCopyUsage:c6,StreamDrawUsage:r6,StreamReadUsage:s6,StringKeyframeTrack:ch,SubtractEquation:AF,SubtractiveBlending:CC,TOUCH:fd,TangentSpaceNormalMap:pf,TetrahedronGeometry:_1,Texture:Ir,TextureLoader:w0,TorusGeometry:S1,TorusKnotGeometry:A1,Triangle:Zs,TriangleFanDrawMode:fS,TriangleStripDrawMode:sT,TrianglesDrawMode:hN,TubeGeometry:M1,UVMapping:ZS,Uint16BufferAttribute:fT,Uint32BufferAttribute:dT,Uint8BufferAttribute:$6,Uint8ClampedBufferAttribute:j6,Uniform:HT,UniformsGroup:iJ,UniformsLib:Pt,UniformsUtils:IN,UnsignedByteType:ql,UnsignedInt248Type:Xd,UnsignedInt5999Type:rN,UnsignedIntType:jd,UnsignedShort4444Type:Zb,UnsignedShort5551Type:eT,UnsignedShortType:Hv,VSMShadowMap:al,Vector2:Ye,Vector3:ee,Vector4:vr,VectorKeyframeTrack:eh,VideoTexture:$X,WebGL3DRenderTarget:L6,WebGLArrayRenderTarget:B6,WebGLCoordinateSystem:Vl,WebGLCubeRenderTarget:LN,WebGLMultipleRenderTargets:wJ,WebGLRenderTarget:xl,WebGLRenderer:GN,WebGLUtils:zN,WebGPUCoordinateSystem:Xv,WireframeGeometry:r3,WrapAroundEnding:Gv,ZeroCurvatureEnding:Sd,ZeroFactor:EF,ZeroSlopeEnding:Ad,ZeroStencilOp:GV,createCanvasElement:EN},Symbol.toStringTag,{value:"Module"}));var P3={exports:{}},uh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */uh.ConcurrentRoot=1;uh.ContinuousEventPriority=4;uh.DefaultEventPriority=16;uh.DiscreteEventPriority=1;uh.IdleEventPriority=536870912;uh.LegacyRoot=0;P3.exports=uh;var zp=P3.exports;function EJ(n){let e;const t=new Set,r=(c,f)=>{const p=typeof c=="function"?c(e):c;if(p!==e){const m=e;e=f?p:Object.assign({},e,p),t.forEach(v=>v(e,m))}},i=()=>e,o=(c,f=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=f(e);function v(){const x=f(e);if(!p(m,x)){const S=m;c(m=x,S)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,f,p)=>f||p?o(c,f,p):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const bJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YI=bJ?R.useEffect:R.useLayoutEffect;function I3(n){const e=typeof n=="function"?EJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,o]=R.useReducer(_=>_+1,0),s=e.getState(),a=R.useRef(s),l=R.useRef(r),c=R.useRef(i),f=R.useRef(!1),p=R.useRef();p.current===void 0&&(p.current=r(s));let m,v=!1;(a.current!==s||l.current!==r||c.current!==i||f.current)&&(m=r(s),v=!i(p.current,m)),YI(()=>{v&&(p.current=m),a.current=s,l.current=r,c.current=i,f.current=!1});const x=R.useRef(s);YI(()=>{const _=()=>{try{const A=e.getState(),w=l.current(A);c.current(p.current,w)||(a.current=A,p.current=w,o())}catch{f.current=!0,o()}},y=e.subscribe(_);return e.getState()!==x.current&&_(),y},[]);const S=v?m:p.current;return R.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var B3={exports:{}},UM={exports:{}},kM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function TJ(){return qI||(qI=1,function(n){function e(N,j){var J=N.length;N.push(j);e:for(;0<J;){var re=J-1>>>1,pe=N[re];if(0<i(pe,j))N[re]=j,N[J]=pe,J=re;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],J=N.pop();if(J!==j){N[0]=J;e:for(var re=0,pe=N.length,Me=pe>>>1;re<Me;){var de=2*(re+1)-1,Ce=N[de],De=de+1,Pe=N[De];if(0>i(Ce,J))De<pe&&0>i(Pe,Ce)?(N[re]=Pe,N[De]=J,re=De):(N[re]=Ce,N[de]=J,re=de);else if(De<pe&&0>i(Pe,J))N[re]=Pe,N[De]=J,re=De;else break e}}return j}function i(N,j){var J=N.sortIndex-j.sortIndex;return J!==0?J:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,p=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(N){if(S=!1,w(N),!x)if(t(l)!==null)x=!0,K(I);else{var j=t(c);j!==null&&X(E,j.startTime-N)}}function I(N,j){x=!1,S&&(S=!1,y(U),U=-1),v=!0;var J=m;try{for(w(j),p=t(l);p!==null&&(!(p.expirationTime>j)||N&&!G());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var pe=re(p.expirationTime<=j);j=n.unstable_now(),typeof pe=="function"?p.callback=pe:p===t(l)&&r(l),w(j)}else r(l);p=t(l)}if(p!==null)var Me=!0;else{var de=t(c);de!==null&&X(E,de.startTime-j),Me=!1}return Me}finally{p=null,m=J,v=!1}}var P=!1,L=null,U=-1,F=5,O=-1;function G(){return!(n.unstable_now()-O<F)}function te(){if(L!==null){var N=n.unstable_now();O=N;var j=!0;try{j=L(!0,N)}finally{j?Z():(P=!1,L=null)}}else P=!1}var Z;if(typeof A=="function")Z=function(){A(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=te,Z=function(){se.postMessage(null)}}else Z=function(){_(te,0)};function K(N){L=N,P||(P=!0,Z())}function X(N,j){U=_(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,K(I))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var J=m;m=j;try{return N()}finally{m=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=m;m=N;try{return j()}finally{m=J}},n.unstable_scheduleCallback=function(N,j,J){var re=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,N){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=J+pe,N={id:f++,callback:j,priorityLevel:N,startTime:J,expirationTime:pe,sortIndex:-1},J>re?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(S?(y(U),U=-1):S=!0,X(E,J-re))):(N.sortIndex=pe,e(l,N),x||v||(x=!0,K(I))),N},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(N){var j=m;return function(){var J=m;m=j;try{return N.apply(this,arguments)}finally{m=J}}}}(kM)),kM}var QI;function RJ(){return QI||(QI=1,UM.exports=TJ()),UM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PJ=function(e){var t={},r=R,i=RJ(),o=Object.assign;function s(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,M=1;M<arguments.length;M++)h+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),I=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=I&&d[I]||d["@@iterator"],typeof d=="function"?d:null)}function L(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case f:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case _:return"Suspense";case y:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case x:return(d.displayName||"Context")+".Consumer";case v:return(d._context.displayName||"Context")+".Provider";case S:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case A:return h=d.displayName||null,h!==null?h:L(d.type)||"Memo";case w:h=d._payload,d=d._init;try{return L(d(h))}catch{}}return null}function U(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(h);case 8:return h===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function F(d){var h=d,M=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(M=h.return),d=h.return;while(d)}return h.tag===3?M:null}function O(d){if(F(d)!==d)throw Error(s(188))}function G(d){var h=d.alternate;if(!h){if(h=F(d),h===null)throw Error(s(188));return h!==d?null:d}for(var M=d,b=h;;){var B=M.return;if(B===null)break;var z=B.alternate;if(z===null){if(b=B.return,b!==null){M=b;continue}break}if(B.child===z.child){for(z=B.child;z;){if(z===M)return O(B),d;if(z===b)return O(B),h;z=z.sibling}throw Error(s(188))}if(M.return!==b.return)M=B,b=z;else{for(var ae=!1,xe=B.child;xe;){if(xe===M){ae=!0,M=B,b=z;break}if(xe===b){ae=!0,b=B,M=z;break}xe=xe.sibling}if(!ae){for(xe=z.child;xe;){if(xe===M){ae=!0,M=z,b=B;break}if(xe===b){ae=!0,b=z,M=B;break}xe=xe.sibling}if(!ae)throw Error(s(189))}}if(M.alternate!==b)throw Error(s(190))}if(M.tag!==3)throw Error(s(188));return M.stateNode.current===M?d:h}function te(d){return d=G(d),d!==null?Z(d):null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Z(d);if(h!==null)return h;d=d.sibling}return null}function ie(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=ie(d);if(h!==null)return h}d=d.sibling}return null}var se=Array.isArray,K=e.getPublicInstance,X=e.getRootHostContext,N=e.getChildHostContext,j=e.prepareForCommit,J=e.resetAfterCommit,re=e.createInstance,pe=e.appendInitialChild,Me=e.finalizeInitialChildren,de=e.prepareUpdate,Ce=e.shouldSetTextContent,De=e.createTextInstance,Pe=e.scheduleTimeout,lt=e.cancelTimeout,dt=e.noTimeout,ht=e.isPrimaryRenderer,oe=e.supportsMutation,Ne=e.supportsPersistence,Be=e.supportsHydration,He=e.getInstanceFromNode,Fe=e.preparePortalMount,Ve=e.getCurrentEventPriority,Ke=e.detachDeletedInstance,qe=e.supportsMicrotasks,rt=e.scheduleMicrotask,Q=e.supportsTestSelectors,V=e.findFiberRoot,ge=e.getBoundingRect,Ae=e.getTextContent,Re=e.isHiddenSubtree,ze=e.matchAccessibilityRole,pt=e.setFocusIfFocusable,ct=e.setupIntersectionObserver,st=e.appendChild,kt=e.appendChildToContainer,Qe=e.commitTextUpdate,vt=e.commitMount,Vt=e.commitUpdate,It=e.insertBefore,ft=e.insertInContainerBefore,he=e.removeChild,Ge=e.removeChildFromContainer,ut=e.resetTextContent,le=e.hideInstance,Ze=e.hideTextInstance,Oe=e.unhideInstance,je=e.unhideTextInstance,it=e.clearContainer,xt=e.cloneInstance,wt=e.createContainerChildSet,St=e.appendChildToContainerChildSet,en=e.finalizeContainerChildren,on=e.replaceContainerChildren,nn=e.cloneHiddenInstance,Kt=e.cloneHiddenTextInstance,nr=e.canHydrateInstance,lr=e.canHydrateTextInstance,Br=e.canHydrateSuspenseInstance,fr=e.isSuspenseInstancePending,_r=e.isSuspenseInstanceFallback,wr=e.registerSuspenseInstanceRetry,mr=e.getNextHydratableSibling,mi=e.getFirstHydratableChild,Wr=e.getFirstHydratableChildWithinContainer,oi=e.getFirstHydratableChildWithinSuspenseInstance,sn=e.hydrateInstance,Wt=e.hydrateTextInstance,T=e.hydrateSuspenseInstance,ce=e.getNextHydratableInstanceAfterSuspenseInstance,Se=e.commitHydratedContainer,be=e.commitHydratedSuspenseInstance,_e=e.clearSuspenseBoundary,me=e.clearSuspenseBoundaryFromContainer,ot=e.shouldDeleteUnhydratedTailInstances,At=e.didNotMatchHydratedContainerTextInstance,Mt=e.didNotMatchHydratedTextInstance,Ot;function _t(d){if(Ot===void 0)try{throw Error()}catch(M){var h=M.stack.trim().match(/\n( *(at )?)/);Ot=h&&h[1]||""}return`
`+Ot+d}var Bt=!1;function Cn(d,h){if(!d||Bt)return"";Bt=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(mt){var b=mt}Reflect.construct(d,[],h)}else{try{h.call()}catch(mt){b=mt}d.call(h.prototype)}else{try{throw Error()}catch(mt){b=mt}d()}}catch(mt){if(mt&&b&&typeof mt.stack=="string"){for(var B=mt.stack.split(`
`),z=b.stack.split(`
`),ae=B.length-1,xe=z.length-1;1<=ae&&0<=xe&&B[ae]!==z[xe];)xe--;for(;1<=ae&&0<=xe;ae--,xe--)if(B[ae]!==z[xe]){if(ae!==1||xe!==1)do if(ae--,xe--,0>xe||B[ae]!==z[xe]){var Xe=`
`+B[ae].replace(" at new "," at ");return d.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",d.displayName)),Xe}while(1<=ae&&0<=xe);break}}}finally{Bt=!1,Error.prepareStackTrace=M}return(d=d?d.displayName||d.name:"")?_t(d):""}var Wn=Object.prototype.hasOwnProperty,gn=[],cr=-1;function tn(d){return{current:d}}function Te(d){0>cr||(d.current=gn[cr],gn[cr]=null,cr--)}function ln(d,h){cr++,gn[cr]=d.current,d.current=h}var xn={},In=tn(xn),Yn=tn(!1),gr=xn;function Cr(d,h){var M=d.type.contextTypes;if(!M)return xn;var b=d.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var B={},z;for(z in M)B[z]=h[z];return b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=B),B}function vn(d){return d=d.childContextTypes,d!=null}function $r(){Te(Yn),Te(In)}function Ni(d,h,M){if(In.current!==xn)throw Error(s(168));ln(In,h),ln(Yn,M)}function dr(d,h,M){var b=d.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return M;b=b.getChildContext();for(var B in b)if(!(B in h))throw Error(s(108,U(d)||"Unknown",B));return o({},M,b)}function si(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||xn,gr=In.current,ln(In,d),ln(Yn,Yn.current),!0}function _o(d,h,M){var b=d.stateNode;if(!b)throw Error(s(169));M?(d=dr(d,h,gr),b.__reactInternalMemoizedMergedChildContext=d,Te(Yn),Te(In),ln(In,d)):Te(Yn),ln(Yn,M)}var zr=Math.clz32?Math.clz32:Ps,us=Math.log,ha=Math.LN2;function Ps(d){return d>>>=0,d===0?32:31-(us(d)/ha|0)|0}var Ui=64,Ei=4194304;function bi(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function fs(d,h){var M=d.pendingLanes;if(M===0)return 0;var b=0,B=d.suspendedLanes,z=d.pingedLanes,ae=M&268435455;if(ae!==0){var xe=ae&~B;xe!==0?b=bi(xe):(z&=ae,z!==0&&(b=bi(z)))}else ae=M&~B,ae!==0?b=bi(ae):z!==0&&(b=bi(z));if(b===0)return 0;if(h!==0&&h!==b&&!(h&B)&&(B=b&-b,z=h&-h,B>=z||B===16&&(z&4194240)!==0))return h;if(b&4&&(b|=M&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=b;0<h;)M=31-zr(h),B=1<<M,b|=d[M],h&=~B;return b}function $a(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(d,h){for(var M=d.suspendedLanes,b=d.pingedLanes,B=d.expirationTimes,z=d.pendingLanes;0<z;){var ae=31-zr(z),xe=1<<ae,Xe=B[ae];Xe===-1?(!(xe&M)||xe&b)&&(B[ae]=$a(xe,h)):Xe<=h&&(d.expiredLanes|=xe),z&=~xe}}function So(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Fo(d){for(var h=[],M=0;31>M;M++)h.push(d);return h}function Kr(d,h,M){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-zr(h),d[h]=M}function Ti(d,h){var M=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var b=d.eventTimes;for(d=d.expirationTimes;0<M;){var B=31-zr(M),z=1<<B;h[B]=0,b[B]=-1,d[B]=-1,M&=~z}}function Jr(d,h){var M=d.entangledLanes|=h;for(d=d.entanglements;M;){var b=31-zr(M),B=1<<b;B&h|d[b]&h&&(d[b]|=h),M&=~B}}var _n=0;function An(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var No=i.unstable_scheduleCallback,Xi=i.unstable_cancelCallback,ds=i.unstable_shouldYield,Dt=i.unstable_requestPaint,Et=i.unstable_now,On=i.unstable_ImmediatePriority,Ar=i.unstable_UserBlockingPriority,Zn=i.unstable_NormalPriority,gi=i.unstable_IdlePriority,Uo=null,Ri=null;function En(d){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Uo,d,void 0,(d.current.flags&128)===128)}catch{}}function k(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ne=typeof Object.is=="function"?Object.is:k,H=null,Y=!1,fe=!1;function et(d){H===null?H=[d]:H.push(d)}function $t(d){Y=!0,et(d)}function Rt(){if(!fe&&H!==null){fe=!0;var d=0,h=_n;try{var M=H;for(_n=1;d<M.length;d++){var b=M[d];do b=b(!0);while(b!==null)}H=null,Y=!1}catch(B){throw H!==null&&(H=H.slice(d+1)),No(On,Rt),B}finally{_n=h,fe=!1}}return null}var Dn=a.ReactCurrentBatchConfig;function yt(d,h){if(ne(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var M=Object.keys(d),b=Object.keys(h);if(M.length!==b.length)return!1;for(b=0;b<M.length;b++){var B=M[b];if(!Wn.call(h,B)||!ne(d[B],h[B]))return!1}return!0}function cn(d){switch(d.tag){case 5:return _t(d.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return d=Cn(d.type,!1),d;case 11:return d=Cn(d.type.render,!1),d;case 1:return d=Cn(d.type,!0),d;default:return""}}function jt(d,h){if(d&&d.defaultProps){h=o({},h),d=d.defaultProps;for(var M in d)h[M]===void 0&&(h[M]=d[M]);return h}return h}var Mn=tn(null),Er=null,rr=null,hs=null;function ec(){hs=rr=Er=null}function km(d,h,M){ht?(ln(Mn,h._currentValue),h._currentValue=M):(ln(Mn,h._currentValue2),h._currentValue2=M)}function ph(d){var h=Mn.current;Te(Mn),ht?d._currentValue=h:d._currentValue2=h}function mh(d,h,M){for(;d!==null;){var b=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),d===M)break;d=d.return}}function tc(d,h){Er=d,hs=rr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(zo=!0),d.firstContext=null)}function Lr(d){var h=ht?d._currentValue:d._currentValue2;if(hs!==d)if(d={context:d,memoizedValue:h,next:null},rr===null){if(Er===null)throw Error(s(308));rr=d,Er.dependencies={lanes:0,firstContext:d}}else rr=rr.next=d;return h}var pa=null,vi=!1;function zm(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hm(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ki(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Is(d,h){var M=d.updateQueue;M!==null&&(M=M.shared,ai!==null&&d.mode&1&&!(Fn&2)?(d=M.interleaved,d===null?(h.next=h,pa===null?pa=[M]:pa.push(M)):(h.next=d.next,d.next=h),M.interleaved=h):(d=M.pending,d===null?h.next=h:(h.next=d.next,d.next=h),M.pending=h))}function Zc(d,h,M){if(h=h.updateQueue,h!==null&&(h=h.shared,(M&4194240)!==0)){var b=h.lanes;b&=d.pendingLanes,M|=b,h.lanes=M,Jr(d,M)}}function br(d,h){var M=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,M===b)){var B=null,z=null;if(M=M.firstBaseUpdate,M!==null){do{var ae={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};z===null?B=z=ae:z=z.next=ae,M=M.next}while(M!==null);z===null?B=z=h:z=z.next=h}else B=z=h;M={baseState:b.baseState,firstBaseUpdate:B,lastBaseUpdate:z,shared:b.shared,effects:b.effects},d.updateQueue=M;return}d=M.lastBaseUpdate,d===null?M.firstBaseUpdate=h:d.next=h,M.lastBaseUpdate=h}function Bs(d,h,M,b){var B=d.updateQueue;vi=!1;var z=B.firstBaseUpdate,ae=B.lastBaseUpdate,xe=B.shared.pending;if(xe!==null){B.shared.pending=null;var Xe=xe,mt=Xe.next;Xe.next=null,ae===null?z=mt:ae.next=mt,ae=Xe;var zt=d.alternate;zt!==null&&(zt=zt.updateQueue,xe=zt.lastBaseUpdate,xe!==ae&&(xe===null?zt.firstBaseUpdate=mt:xe.next=mt,zt.lastBaseUpdate=Xe))}if(z!==null){var wn=B.baseState;ae=0,zt=mt=Xe=null,xe=z;do{var rn=xe.lane,hr=xe.eventTime;if((b&rn)===rn){zt!==null&&(zt=zt.next={eventTime:hr,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var Jt=d,no=xe;switch(rn=h,hr=M,no.tag){case 1:if(Jt=no.payload,typeof Jt=="function"){wn=Jt.call(hr,wn,rn);break e}wn=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=no.payload,rn=typeof Jt=="function"?Jt.call(hr,wn,rn):Jt,rn==null)break e;wn=o({},wn,rn);break e;case 2:vi=!0}}xe.callback!==null&&xe.lane!==0&&(d.flags|=64,rn=B.effects,rn===null?B.effects=[xe]:rn.push(xe))}else hr={eventTime:hr,lane:rn,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},zt===null?(mt=zt=hr,Xe=wn):zt=zt.next=hr,ae|=rn;if(xe=xe.next,xe===null){if(xe=B.shared.pending,xe===null)break;rn=xe,xe=rn.next,rn.next=null,B.lastBaseUpdate=rn,B.shared.pending=null}}while(!0);if(zt===null&&(Xe=wn),B.baseState=Xe,B.firstBaseUpdate=mt,B.lastBaseUpdate=zt,h=B.shared.interleaved,h!==null){B=h;do ae|=B.lane,B=B.next;while(B!==h)}else z===null&&(B.shared.lanes=0);_u|=ae,d.lanes=ae,d.memoizedState=wn}}function gh(d,h,M){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var b=d[h],B=b.callback;if(B!==null){if(b.callback=null,b=M,typeof B!="function")throw Error(s(191,B));B.call(b)}}}var O0=new r.Component().refs;function yf(d,h,M,b){h=d.memoizedState,M=M(b,h),M=M==null?h:o({},h,M),d.memoizedState=M,d.lanes===0&&(d.updateQueue.baseState=M)}var vh={isMounted:function(d){return(d=d._reactInternals)?F(d)===d:!1},enqueueSetState:function(d,h,M){d=d._reactInternals;var b=Qi(),B=Sa(d),z=Ki(b,B);z.payload=h,M!=null&&(z.callback=M),Is(d,z),h=ms(d,B,b),h!==null&&Zc(h,d,B)},enqueueReplaceState:function(d,h,M){d=d._reactInternals;var b=Qi(),B=Sa(d),z=Ki(b,B);z.tag=1,z.payload=h,M!=null&&(z.callback=M),Is(d,z),h=ms(d,B,b),h!==null&&Zc(h,d,B)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var M=Qi(),b=Sa(d),B=Ki(M,b);B.tag=2,h!=null&&(B.callback=h),Is(d,B),h=ms(d,b,M),h!==null&&Zc(h,d,b)}};function D0(d,h,M,b,B,z,ae){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,z,ae):h.prototype&&h.prototype.isPureReactComponent?!yt(M,b)||!yt(B,z):!0}function F0(d,h,M){var b=!1,B=xn,z=h.contextType;return typeof z=="object"&&z!==null?z=Lr(z):(B=vn(h)?gr:In.current,b=h.contextTypes,z=(b=b!=null)?Cr(d,B):xn),h=new h(M,z),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=vh,d.stateNode=h,h._reactInternals=d,b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=B,d.__reactInternalMemoizedMaskedChildContext=z),h}function Gm(d,h,M,b){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(M,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(M,b),h.state!==d&&vh.enqueueReplaceState(h,h.state,null)}function eu(d,h,M,b){var B=d.stateNode;B.props=M,B.state=d.memoizedState,B.refs=O0,zm(d);var z=h.contextType;typeof z=="object"&&z!==null?B.context=Lr(z):(z=vn(h)?gr:In.current,B.context=Cr(d,z)),B.state=d.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(yf(d,h,z,M),B.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(h=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),h!==B.state&&vh.enqueueReplaceState(B,B.state,null),Bs(d,M,B,b),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308)}var Ls=[],tu=0,xf=null,_f=0,Ao=[],Mo=0,Ml=null,ja=1,Os="";function Xa(d,h){Ls[tu++]=_f,Ls[tu++]=xf,xf=d,_f=h}function N0(d,h,M){Ao[Mo++]=ja,Ao[Mo++]=Os,Ao[Mo++]=Ml,Ml=d;var b=ja;d=Os;var B=32-zr(b)-1;b&=~(1<<B),M+=1;var z=32-zr(h)+B;if(30<z){var ae=B-B%5;z=(b&(1<<ae)-1).toString(32),b>>=ae,B-=ae,ja=1<<32-zr(h)+B|M<<B|b,Os=z+d}else ja=1<<z|M<<B|b,Os=d}function yh(d){d.return!==null&&(Xa(d,1),N0(d,1,0))}function fo(d){for(;d===xf;)xf=Ls[--tu],Ls[tu]=null,_f=Ls[--tu],Ls[tu]=null;for(;d===Ml;)Ml=Ao[--Mo],Ao[Mo]=null,Os=Ao[--Mo],Ao[Mo]=null,ja=Ao[--Mo],Ao[Mo]=null}var ho=null,ki=null,Tr=!1,nu=!1,Ds=null;function U0(d,h){var M=gs(5,null,null,0);M.elementType="DELETED",M.stateNode=h,M.return=d,h=d.deletions,h===null?(d.deletions=[M],d.flags|=16):h.push(M)}function k0(d,h){switch(d.tag){case 5:return h=nr(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,ho=d,ki=mi(h),!0):!1;case 6:return h=lr(h,d.pendingProps),h!==null?(d.stateNode=h,ho=d,ki=null,!0):!1;case 13:if(h=Br(h),h!==null){var M=Ml!==null?{id:ja,overflow:Os}:null;return d.memoizedState={dehydrated:h,treeContext:M,retryLane:1073741824},M=gs(18,null,null,0),M.stateNode=h,M.return=d,d.child=M,ho=d,ki=null,!0}return!1;default:return!1}}function Vm(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Wm(d){if(Tr){var h=ki;if(h){var M=h;if(!k0(d,h)){if(Vm(d))throw Error(s(418));h=mr(M);var b=ho;h&&k0(d,h)?U0(b,M):(d.flags=d.flags&-4097|2,Tr=!1,ho=d)}}else{if(Vm(d))throw Error(s(418));d.flags=d.flags&-4097|2,Tr=!1,ho=d}}}function nc(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ho=d}function Sf(d){if(!Be||d!==ho)return!1;if(!Tr)return nc(d),Tr=!0,!1;if(d.tag!==3&&(d.tag!==5||ot(d.type)&&!Ce(d.type,d.memoizedProps))){var h=ki;if(h){if(Vm(d)){for(d=ki;d;)d=mr(d);throw Error(s(418))}for(;h;)U0(d,h),h=mr(h)}}if(nc(d),d.tag===13){if(!Be)throw Error(s(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));ki=ce(d)}else ki=ho?mr(d.stateNode):null;return!0}function ru(){Be&&(ki=ho=null,nu=Tr=!1)}function Af(d){Ds===null?Ds=[d]:Ds.push(d)}function iu(d,h,M){if(d=M.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(s(309));var b=M.stateNode}if(!b)throw Error(s(147,d));var B=b,z=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===z?h.ref:(h=function(ae){var xe=B.refs;xe===O0&&(xe=B.refs={}),ae===null?delete xe[z]:xe[z]=ae},h._stringRef=z,h)}if(typeof d!="string")throw Error(s(284));if(!M._owner)throw Error(s(290,d))}return d}function Fs(d,h){throw d=Object.prototype.toString.call(h),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function Mf(d){var h=d._init;return h(d._payload)}function z0(d){function h(Ie,we){if(d){var We=Ie.deletions;We===null?(Ie.deletions=[we],Ie.flags|=16):We.push(we)}}function M(Ie,we){if(!d)return null;for(;we!==null;)h(Ie,we),we=we.sibling;return null}function b(Ie,we){for(Ie=new Map;we!==null;)we.key!==null?Ie.set(we.key,we):Ie.set(we.index,we),we=we.sibling;return Ie}function B(Ie,we){return Ie=Qa(Ie,we),Ie.index=0,Ie.sibling=null,Ie}function z(Ie,we,We){return Ie.index=We,d?(We=Ie.alternate,We!==null?(We=We.index,We<we?(Ie.flags|=2,we):We):(Ie.flags|=2,we)):(Ie.flags|=1048576,we)}function ae(Ie){return d&&Ie.alternate===null&&(Ie.flags|=2),Ie}function xe(Ie,we,We,Ft){return we===null||we.tag!==6?(we=to(We,Ie.mode,Ft),we.return=Ie,we):(we=B(we,We),we.return=Ie,we)}function Xe(Ie,we,We,Ft){var Yt=We.type;return Yt===f?zt(Ie,we,We.props.children,Ft,We.key):we!==null&&(we.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===w&&Mf(Yt)===we.type)?(Ft=B(we,We.props),Ft.ref=iu(Ie,we,We),Ft.return=Ie,Ft):(Ft=Uh(We.type,We.key,We.props,null,Ie.mode,Ft),Ft.ref=iu(Ie,we,We),Ft.return=Ie,Ft)}function mt(Ie,we,We,Ft){return we===null||we.tag!==4||we.stateNode.containerInfo!==We.containerInfo||we.stateNode.implementation!==We.implementation?(we=vs(We,Ie.mode,Ft),we.return=Ie,we):(we=B(we,We.children||[]),we.return=Ie,we)}function zt(Ie,we,We,Ft,Yt){return we===null||we.tag!==7?(we=Nl(We,Ie.mode,Ft,Yt),we.return=Ie,we):(we=B(we,We),we.return=Ie,we)}function wn(Ie,we,We){if(typeof we=="string"&&we!==""||typeof we=="number")return we=to(""+we,Ie.mode,We),we.return=Ie,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return We=Uh(we.type,we.key,we.props,null,Ie.mode,We),We.ref=iu(Ie,null,we),We.return=Ie,We;case c:return we=vs(we,Ie.mode,We),we.return=Ie,we;case w:var Ft=we._init;return wn(Ie,Ft(we._payload),We)}if(se(we)||P(we))return we=Nl(we,Ie.mode,We,null),we.return=Ie,we;Fs(Ie,we)}return null}function rn(Ie,we,We,Ft){var Yt=we!==null?we.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Yt!==null?null:xe(Ie,we,""+We,Ft);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return We.key===Yt?Xe(Ie,we,We,Ft):null;case c:return We.key===Yt?mt(Ie,we,We,Ft):null;case w:return Yt=We._init,rn(Ie,we,Yt(We._payload),Ft)}if(se(We)||P(We))return Yt!==null?null:zt(Ie,we,We,Ft,null);Fs(Ie,We)}return null}function hr(Ie,we,We,Ft,Yt){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return Ie=Ie.get(We)||null,xe(we,Ie,""+Ft,Yt);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case l:return Ie=Ie.get(Ft.key===null?We:Ft.key)||null,Xe(we,Ie,Ft,Yt);case c:return Ie=Ie.get(Ft.key===null?We:Ft.key)||null,mt(we,Ie,Ft,Yt);case w:var Nn=Ft._init;return hr(Ie,we,We,Nn(Ft._payload),Yt)}if(se(Ft)||P(Ft))return Ie=Ie.get(We)||null,zt(we,Ie,Ft,Yt,null);Fs(we,Ft)}return null}function Jt(Ie,we,We,Ft){for(var Yt=null,Nn=null,bn=we,Un=we=0,ci=null;bn!==null&&Un<We.length;Un++){bn.index>Un?(ci=bn,bn=null):ci=bn.sibling;var qn=rn(Ie,bn,We[Un],Ft);if(qn===null){bn===null&&(bn=ci);break}d&&bn&&qn.alternate===null&&h(Ie,bn),we=z(qn,we,Un),Nn===null?Yt=qn:Nn.sibling=qn,Nn=qn,bn=ci}if(Un===We.length)return M(Ie,bn),Tr&&Xa(Ie,Un),Yt;if(bn===null){for(;Un<We.length;Un++)bn=wn(Ie,We[Un],Ft),bn!==null&&(we=z(bn,we,Un),Nn===null?Yt=bn:Nn.sibling=bn,Nn=bn);return Tr&&Xa(Ie,Un),Yt}for(bn=b(Ie,bn);Un<We.length;Un++)ci=hr(bn,Ie,Un,We[Un],Ft),ci!==null&&(d&&ci.alternate!==null&&bn.delete(ci.key===null?Un:ci.key),we=z(ci,we,Un),Nn===null?Yt=ci:Nn.sibling=ci,Nn=ci);return d&&bn.forEach(function(Ma){return h(Ie,Ma)}),Tr&&Xa(Ie,Un),Yt}function no(Ie,we,We,Ft){var Yt=P(We);if(typeof Yt!="function")throw Error(s(150));if(We=Yt.call(We),We==null)throw Error(s(151));for(var Nn=Yt=null,bn=we,Un=we=0,ci=null,qn=We.next();bn!==null&&!qn.done;Un++,qn=We.next()){bn.index>Un?(ci=bn,bn=null):ci=bn.sibling;var Ma=rn(Ie,bn,qn.value,Ft);if(Ma===null){bn===null&&(bn=ci);break}d&&bn&&Ma.alternate===null&&h(Ie,bn),we=z(Ma,we,Un),Nn===null?Yt=Ma:Nn.sibling=Ma,Nn=Ma,bn=ci}if(qn.done)return M(Ie,bn),Tr&&Xa(Ie,Un),Yt;if(bn===null){for(;!qn.done;Un++,qn=We.next())qn=wn(Ie,qn.value,Ft),qn!==null&&(we=z(qn,we,Un),Nn===null?Yt=qn:Nn.sibling=qn,Nn=qn);return Tr&&Xa(Ie,Un),Yt}for(bn=b(Ie,bn);!qn.done;Un++,qn=We.next())qn=hr(bn,Ie,Un,qn.value,Ft),qn!==null&&(d&&qn.alternate!==null&&bn.delete(qn.key===null?Un:qn.key),we=z(qn,we,Un),Nn===null?Yt=qn:Nn.sibling=qn,Nn=qn);return d&&bn.forEach(function(zh){return h(Ie,zh)}),Tr&&Xa(Ie,Un),Yt}function $o(Ie,we,We,Ft){if(typeof We=="object"&&We!==null&&We.type===f&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case l:e:{for(var Yt=We.key,Nn=we;Nn!==null;){if(Nn.key===Yt){if(Yt=We.type,Yt===f){if(Nn.tag===7){M(Ie,Nn.sibling),we=B(Nn,We.props.children),we.return=Ie,Ie=we;break e}}else if(Nn.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===w&&Mf(Yt)===Nn.type){M(Ie,Nn.sibling),we=B(Nn,We.props),we.ref=iu(Ie,Nn,We),we.return=Ie,Ie=we;break e}M(Ie,Nn);break}else h(Ie,Nn);Nn=Nn.sibling}We.type===f?(we=Nl(We.props.children,Ie.mode,Ft,We.key),we.return=Ie,Ie=we):(Ft=Uh(We.type,We.key,We.props,null,Ie.mode,Ft),Ft.ref=iu(Ie,we,We),Ft.return=Ie,Ie=Ft)}return ae(Ie);case c:e:{for(Nn=We.key;we!==null;){if(we.key===Nn)if(we.tag===4&&we.stateNode.containerInfo===We.containerInfo&&we.stateNode.implementation===We.implementation){M(Ie,we.sibling),we=B(we,We.children||[]),we.return=Ie,Ie=we;break e}else{M(Ie,we);break}else h(Ie,we);we=we.sibling}we=vs(We,Ie.mode,Ft),we.return=Ie,Ie=we}return ae(Ie);case w:return Nn=We._init,$o(Ie,we,Nn(We._payload),Ft)}if(se(We))return Jt(Ie,we,We,Ft);if(P(We))return no(Ie,we,We,Ft);Fs(Ie,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,we!==null&&we.tag===6?(M(Ie,we.sibling),we=B(we,We),we.return=Ie,Ie=we):(M(Ie,we),we=to(We,Ie.mode,Ft),we.return=Ie,Ie=we),ae(Ie)):M(Ie,we)}return $o}var ou=z0(!0),H0=z0(!1),ma={},jr=tn(ma),su=tn(ma),au=tn(ma);function ga(d){if(d===ma)throw Error(s(174));return d}function $m(d,h){ln(au,h),ln(su,d),ln(jr,ma),d=X(h),Te(jr),ln(jr,d)}function lu(){Te(jr),Te(su),Te(au)}function G0(d){var h=ga(au.current),M=ga(jr.current);h=N(M,d.type,h),M!==h&&(ln(su,d),ln(jr,h))}function wl(d){su.current===d&&(Te(jr),Te(su))}var ye=tn(0);function Je(d){for(var h=d;h!==null;){if(h.tag===13){var M=h.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||fr(M)||_r(M)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ke=[];function Ut(){for(var d=0;d<ke.length;d++){var h=ke[d];ht?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}ke.length=0}var yn=a.ReactCurrentDispatcher,Rn=a.ReactCurrentBatchConfig,Or=0,hn=null,Pi=null,Ii=null,po=!1,Cl=!1,wf=0,cu=0;function yi(){throw Error(s(321))}function uu(d,h){if(h===null)return!1;for(var M=0;M<h.length&&M<d.length;M++)if(!ne(d[M],h[M]))return!1;return!0}function sr(d,h,M,b,B,z){if(Or=z,hn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,yn.current=d===null||d.memoizedState===null?Bf:Qm,d=M(b,B),Cl){z=0;do{if(Cl=!1,wf=0,25<=z)throw Error(s(301));z+=1,Ii=Pi=null,h.updateQueue=null,yn.current=hu,d=M(b,B)}while(Cl)}if(yn.current=du,h=Pi!==null&&Pi.next!==null,Or=0,Ii=Pi=hn=null,po=!1,h)throw Error(s(300));return d}function jm(){var d=wf!==0;return wf=0,d}function va(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?hn.memoizedState=Ii=d:Ii=Ii.next=d,Ii}function ko(){if(Pi===null){var d=hn.alternate;d=d!==null?d.memoizedState:null}else d=Pi.next;var h=Ii===null?hn.memoizedState:Ii.next;if(h!==null)Ii=h,Pi=d;else{if(d===null)throw Error(s(310));Pi=d,d={memoizedState:Pi.memoizedState,baseState:Pi.baseState,baseQueue:Pi.baseQueue,queue:Pi.queue,next:null},Ii===null?hn.memoizedState=Ii=d:Ii=Ii.next=d}return Ii}function rc(d,h){return typeof h=="function"?h(d):h}function xh(d){var h=ko(),M=h.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=d;var b=Pi,B=b.baseQueue,z=M.pending;if(z!==null){if(B!==null){var ae=B.next;B.next=z.next,z.next=ae}b.baseQueue=B=z,M.pending=null}if(B!==null){z=B.next,b=b.baseState;var xe=ae=null,Xe=null,mt=z;do{var zt=mt.lane;if((Or&zt)===zt)Xe!==null&&(Xe=Xe.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),b=mt.hasEagerState?mt.eagerState:d(b,mt.action);else{var wn={lane:zt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};Xe===null?(xe=Xe=wn,ae=b):Xe=Xe.next=wn,hn.lanes|=zt,_u|=zt}mt=mt.next}while(mt!==null&&mt!==z);Xe===null?ae=b:Xe.next=xe,ne(b,h.memoizedState)||(zo=!0),h.memoizedState=b,h.baseState=ae,h.baseQueue=Xe,M.lastRenderedState=b}if(d=M.interleaved,d!==null){B=d;do z=B.lane,hn.lanes|=z,_u|=z,B=B.next;while(B!==d)}else B===null&&(M.lanes=0);return[h.memoizedState,M.dispatch]}function _h(d){var h=ko(),M=h.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=d;var b=M.dispatch,B=M.pending,z=h.memoizedState;if(B!==null){M.pending=null;var ae=B=B.next;do z=d(z,ae.action),ae=ae.next;while(ae!==B);ne(z,h.memoizedState)||(zo=!0),h.memoizedState=z,h.baseQueue===null&&(h.baseState=z),M.lastRenderedState=z}return[z,b]}function Cf(){}function Ka(d,h){var M=hn,b=ko(),B=h(),z=!ne(b.memoizedState,B);if(z&&(b.memoizedState=B,zo=!0),b=b.queue,Tf(bf.bind(null,M,b,d),[d]),b.getSnapshot!==h||z||Ii!==null&&Ii.memoizedState.tag&1){if(M.flags|=2048,El(9,Xm.bind(null,M,b,B,h),void 0,null),ai===null)throw Error(s(349));Or&30||Ef(M,h,B)}return B}function Ef(d,h,M){d.flags|=16384,d={getSnapshot:h,value:M},h=hn.updateQueue,h===null?(h={lastEffect:null,stores:null},hn.updateQueue=h,h.stores=[d]):(M=h.stores,M===null?h.stores=[d]:M.push(d))}function Xm(d,h,M,b){h.value=M,h.getSnapshot=b,Km(h)&&ms(d,1,-1)}function bf(d,h,M){return M(function(){Km(h)&&ms(d,1,-1)})}function Km(d){var h=d.getSnapshot;d=d.value;try{var M=h();return!ne(d,M)}catch{return!0}}function Sh(d){var h=va();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:d},h.queue=d,d=d.dispatch=Ji.bind(null,hn,d),[h.memoizedState,d]}function El(d,h,M,b){return d={tag:d,create:h,destroy:M,deps:b,next:null},h=hn.updateQueue,h===null?(h={lastEffect:null,stores:null},hn.updateQueue=h,h.lastEffect=d.next=d):(M=h.lastEffect,M===null?h.lastEffect=d.next=d:(b=M.next,M.next=d,d.next=b,h.lastEffect=d)),d}function Jm(){return ko().memoizedState}function bl(d,h,M,b){var B=va();hn.flags|=d,B.memoizedState=El(1|h,M,void 0,b===void 0?null:b)}function ya(d,h,M,b){var B=ko();b=b===void 0?null:b;var z=void 0;if(Pi!==null){var ae=Pi.memoizedState;if(z=ae.destroy,b!==null&&uu(b,ae.deps)){B.memoizedState=El(h,M,z,b);return}}hn.flags|=d,B.memoizedState=El(1|h,M,z,b)}function fu(d,h){return bl(8390656,8,d,h)}function Tf(d,h){return ya(2048,8,d,h)}function V0(d,h){return ya(4,2,d,h)}function W0(d,h){return ya(4,4,d,h)}function Rf(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function Pf(d,h,M){return M=M!=null?M.concat([d]):null,ya(4,4,Rf.bind(null,h,d),M)}function If(){}function $0(d,h){var M=ko();h=h===void 0?null:h;var b=M.memoizedState;return b!==null&&h!==null&&uu(h,b[1])?b[0]:(M.memoizedState=[d,h],d)}function Ym(d,h){var M=ko();h=h===void 0?null:h;var b=M.memoizedState;return b!==null&&h!==null&&uu(h,b[1])?b[0]:(d=d(),M.memoizedState=[d,h],d)}function K1(d,h){var M=_n;_n=M!==0&&4>M?M:4,d(!0);var b=Rn.transition;Rn.transition={};try{d(!1),h()}finally{_n=M,Rn.transition=b}}function j0(){return ko().memoizedState}function xi(d,h,M){var b=Sa(d);M={lane:b,action:M,hasEagerState:!1,eagerState:null,next:null},X0(d)?K0(h,M):(qm(d,h,M),M=Qi(),d=ms(d,b,M),d!==null&&J0(d,h,b))}function Ji(d,h,M){var b=Sa(d),B={lane:b,action:M,hasEagerState:!1,eagerState:null,next:null};if(X0(d))K0(h,B);else{qm(d,h,B);var z=d.alternate;if(d.lanes===0&&(z===null||z.lanes===0)&&(z=h.lastRenderedReducer,z!==null))try{var ae=h.lastRenderedState,xe=z(ae,M);if(B.hasEagerState=!0,B.eagerState=xe,ne(xe,ae))return}catch{}finally{}M=Qi(),d=ms(d,b,M),d!==null&&J0(d,h,b)}}function X0(d){var h=d.alternate;return d===hn||h!==null&&h===hn}function K0(d,h){Cl=po=!0;var M=d.pending;M===null?h.next=h:(h.next=M.next,M.next=h),d.pending=h}function qm(d,h,M){ai!==null&&d.mode&1&&!(Fn&2)?(d=h.interleaved,d===null?(M.next=M,pa===null?pa=[h]:pa.push(h)):(M.next=d.next,d.next=M),h.interleaved=M):(d=h.pending,d===null?M.next=M:(M.next=d.next,d.next=M),h.pending=M)}function J0(d,h,M){if(M&4194240){var b=h.lanes;b&=d.pendingLanes,M|=b,h.lanes=M,Jr(d,M)}}var du={readContext:Lr,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},Bf={readContext:Lr,useCallback:function(d,h){return va().memoizedState=[d,h===void 0?null:h],d},useContext:Lr,useEffect:fu,useImperativeHandle:function(d,h,M){return M=M!=null?M.concat([d]):null,bl(4194308,4,Rf.bind(null,h,d),M)},useLayoutEffect:function(d,h){return bl(4194308,4,d,h)},useInsertionEffect:function(d,h){return bl(4,2,d,h)},useMemo:function(d,h){var M=va();return h=h===void 0?null:h,d=d(),M.memoizedState=[d,h],d},useReducer:function(d,h,M){var b=va();return h=M!==void 0?M(h):h,b.memoizedState=b.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},b.queue=d,d=d.dispatch=xi.bind(null,hn,d),[b.memoizedState,d]},useRef:function(d){var h=va();return d={current:d},h.memoizedState=d},useState:Sh,useDebugValue:If,useDeferredValue:function(d){var h=Sh(d),M=h[0],b=h[1];return fu(function(){var B=Rn.transition;Rn.transition={};try{b(d)}finally{Rn.transition=B}},[d]),M},useTransition:function(){var d=Sh(!1),h=d[0];return d=K1.bind(null,d[1]),va().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,M){var b=hn,B=va();if(Tr){if(M===void 0)throw Error(s(407));M=M()}else{if(M=h(),ai===null)throw Error(s(349));Or&30||Ef(b,h,M)}B.memoizedState=M;var z={value:M,getSnapshot:h};return B.queue=z,fu(bf.bind(null,b,z,d),[d]),b.flags|=2048,El(9,Xm.bind(null,b,z,M,h),void 0,null),M},useId:function(){var d=va(),h=ai.identifierPrefix;if(Tr){var M=Os,b=ja;M=(b&~(1<<32-zr(b)-1)).toString(32)+M,h=":"+h+"R"+M,M=wf++,0<M&&(h+="H"+M.toString(32)),h+=":"}else M=cu++,h=":"+h+"r"+M.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},Qm={readContext:Lr,useCallback:$0,useContext:Lr,useEffect:Tf,useImperativeHandle:Pf,useInsertionEffect:V0,useLayoutEffect:W0,useMemo:Ym,useReducer:xh,useRef:Jm,useState:function(){return xh(rc)},useDebugValue:If,useDeferredValue:function(d){var h=xh(rc),M=h[0],b=h[1];return Tf(function(){var B=Rn.transition;Rn.transition={};try{b(d)}finally{Rn.transition=B}},[d]),M},useTransition:function(){var d=xh(rc)[0],h=ko().memoizedState;return[d,h]},useMutableSource:Cf,useSyncExternalStore:Ka,useId:j0,unstable_isNewReconciler:!1},hu={readContext:Lr,useCallback:$0,useContext:Lr,useEffect:Tf,useImperativeHandle:Pf,useInsertionEffect:V0,useLayoutEffect:W0,useMemo:Ym,useReducer:_h,useRef:Jm,useState:function(){return _h(rc)},useDebugValue:If,useDeferredValue:function(d){var h=_h(rc),M=h[0],b=h[1];return Tf(function(){var B=Rn.transition;Rn.transition={};try{b(d)}finally{Rn.transition=B}},[d]),M},useTransition:function(){var d=_h(rc)[0],h=ko().memoizedState;return[d,h]},useMutableSource:Cf,useSyncExternalStore:Ka,useId:j0,unstable_isNewReconciler:!1};function ic(d,h){try{var M="",b=h;do M+=cn(b),b=b.return;while(b);var B=M}catch(z){B=`
Error generating stack: `+z.message+`
`+z.stack}return{value:d,source:h,stack:B}}function oc(d,h){try{console.error(h.value)}catch(M){setTimeout(function(){throw M})}}var Ah=typeof WeakMap=="function"?WeakMap:Map;function sc(d,h,M){M=Ki(-1,M),M.tag=3,M.payload={element:null};var b=h.value;return M.callback=function(){zf||(zf=!0,Ph=b),oc(d,h)},M}function Y0(d,h,M){M=Ki(-1,M),M.tag=3;var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var B=h.value;M.payload=function(){return b(B)},M.callback=function(){oc(d,h)}}var z=d.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(M.callback=function(){oc(d,h),typeof b!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var ae=h.stack;this.componentDidCatch(h.value,{componentStack:ae!==null?ae:""})}),M}function q0(d,h,M){var b=d.pingCache;if(b===null){b=d.pingCache=new Ah;var B=new Set;b.set(h,B)}else B=b.get(h),B===void 0&&(B=new Set,b.set(h,B));B.has(M)||(B.add(M),d=Dl.bind(null,d,h,M),h.then(d,d))}function Q0(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function Z0(d,h,M,b,B){return d.mode&1?(d.flags|=65536,d.lanes=B,d):(d===h?d.flags|=65536:(d.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(h=Ki(-1,1),h.tag=2,Is(M,h))),M.lanes|=1),d)}function xa(d){d.flags|=4}function Lf(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Ja,pu,$,Ya;if(oe)Ja=function(d,h){for(var M=h.child;M!==null;){if(M.tag===5||M.tag===6)pe(d,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},pu=function(){},$=function(d,h,M,b,B){if(d=d.memoizedProps,d!==b){var z=h.stateNode,ae=ga(jr.current);M=de(z,M,d,b,B,ae),(h.updateQueue=M)&&xa(h)}},Ya=function(d,h,M,b){M!==b&&xa(h)};else if(Ne){Ja=function(d,h,M,b){for(var B=h.child;B!==null;){if(B.tag===5){var z=B.stateNode;M&&b&&(z=nn(z,B.type,B.memoizedProps,B)),pe(d,z)}else if(B.tag===6)z=B.stateNode,M&&b&&(z=Kt(z,B.memoizedProps,B)),pe(d,z);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)z=B.child,z!==null&&(z.return=B),Ja(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===h)break;for(;B.sibling===null;){if(B.return===null||B.return===h)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var Of=function(d,h,M,b){for(var B=h.child;B!==null;){if(B.tag===5){var z=B.stateNode;M&&b&&(z=nn(z,B.type,B.memoizedProps,B)),St(d,z)}else if(B.tag===6)z=B.stateNode,M&&b&&(z=Kt(z,B.memoizedProps,B)),St(d,z);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)z=B.child,z!==null&&(z.return=B),Of(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===h)break;for(;B.sibling===null;){if(B.return===null||B.return===h)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};pu=function(d,h){var M=h.stateNode;if(!Lf(d,h)){d=M.containerInfo;var b=wt(d);Of(b,h,!1,!1),M.pendingChildren=b,xa(h),en(d,b)}},$=function(d,h,M,b,B){var z=d.stateNode,ae=d.memoizedProps;if((d=Lf(d,h))&&ae===b)h.stateNode=z;else{var xe=h.stateNode,Xe=ga(jr.current),mt=null;ae!==b&&(mt=de(xe,M,ae,b,B,Xe)),d&&mt===null?h.stateNode=z:(z=xt(z,mt,M,ae,b,h,d,xe),Me(z,M,b,B,Xe)&&xa(h),h.stateNode=z,d?xa(h):Ja(z,h,!1,!1))}},Ya=function(d,h,M,b){M!==b?(d=ga(au.current),M=ga(jr.current),h.stateNode=De(b,d,M,h),xa(h)):h.stateNode=d.stateNode}}else pu=function(){},$=function(){},Ya=function(){};function Yi(d,h){if(!Tr)switch(d.tailMode){case"hidden":h=d.tail;for(var M=null;h!==null;)h.alternate!==null&&(M=h),h=h.sibling;M===null?d.tail=null:M.sibling=null;break;case"collapsed":M=d.tail;for(var b=null;M!==null;)M.alternate!==null&&(b=M),M=M.sibling;b===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function fn(d){var h=d.alternate!==null&&d.alternate.child===d.child,M=0,b=0;if(h)for(var B=d.child;B!==null;)M|=B.lanes|B.childLanes,b|=B.subtreeFlags&14680064,b|=B.flags&14680064,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)M|=B.lanes|B.childLanes,b|=B.subtreeFlags,b|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=b,d.childLanes=M,h}function J1(d,h,M){var b=h.pendingProps;switch(fo(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(h),null;case 1:return vn(h.type)&&$r(),fn(h),null;case 3:return b=h.stateNode,lu(),Te(Yn),Te(In),Ut(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(Sf(h)?xa(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ds!==null&&(fc(Ds),Ds=null))),pu(d,h),fn(h),null;case 5:wl(h),M=ga(au.current);var B=h.type;if(d!==null&&h.stateNode!=null)$(d,h,B,b,M),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(s(166));return fn(h),null}if(d=ga(jr.current),Sf(h)){if(!Be)throw Error(s(175));d=sn(h.stateNode,h.type,h.memoizedProps,M,d,h,!nu),h.updateQueue=d,d!==null&&xa(h)}else{var z=re(B,b,M,d,h);Ja(z,h,!1,!1),h.stateNode=z,Me(z,B,b,M,d)&&xa(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return fn(h),null;case 6:if(d&&h.stateNode!=null)Ya(d,h,d.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(s(166));if(d=ga(au.current),M=ga(jr.current),Sf(h)){if(!Be)throw Error(s(176));if(d=h.stateNode,b=h.memoizedProps,(M=Wt(d,b,h,!nu))&&(B=ho,B!==null))switch(z=(B.mode&1)!==0,B.tag){case 3:At(B.stateNode.containerInfo,d,b,z);break;case 5:Mt(B.type,B.memoizedProps,B.stateNode,d,b,z)}M&&xa(h)}else h.stateNode=De(b,d,M,h)}return fn(h),null;case 13:if(Te(ye),b=h.memoizedState,Tr&&ki!==null&&h.mode&1&&!(h.flags&128)){for(d=ki;d;)d=mr(d);return ru(),h.flags|=98560,h}if(b!==null&&b.dehydrated!==null){if(b=Sf(h),d===null){if(!b)throw Error(s(318));if(!Be)throw Error(s(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));T(d,h)}else ru(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return fn(h),null}return Ds!==null&&(fc(Ds),Ds=null),h.flags&128?(h.lanes=M,h):(b=b!==null,M=!1,d===null?Sf(h):M=d.memoizedState!==null,b&&!M&&(h.child.flags|=8192,h.mode&1&&(d===null||ye.current&1?Qr===0&&(Qr=3):Dh())),h.updateQueue!==null&&(h.flags|=4),fn(h),null);case 4:return lu(),pu(d,h),d===null&&Fe(h.stateNode.containerInfo),fn(h),null;case 10:return ph(h.type._context),fn(h),null;case 17:return vn(h.type)&&$r(),fn(h),null;case 19:if(Te(ye),B=h.memoizedState,B===null)return fn(h),null;if(b=(h.flags&128)!==0,z=B.rendering,z===null)if(b)Yi(B,!1);else{if(Qr!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(z=Je(d),z!==null){for(h.flags|=128,Yi(B,!1),d=z.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=M,b=h.child;b!==null;)M=b,B=d,M.flags&=14680066,z=M.alternate,z===null?(M.childLanes=0,M.lanes=B,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=z.childLanes,M.lanes=z.lanes,M.child=z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=z.memoizedProps,M.memoizedState=z.memoizedState,M.updateQueue=z.updateQueue,M.type=z.type,B=z.dependencies,M.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),b=b.sibling;return ln(ye,ye.current&1|2),h.child}d=d.sibling}B.tail!==null&&Et()>kf&&(h.flags|=128,b=!0,Yi(B,!1),h.lanes=4194304)}else{if(!b)if(d=Je(z),d!==null){if(h.flags|=128,b=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Yi(B,!0),B.tail===null&&B.tailMode==="hidden"&&!z.alternate&&!Tr)return fn(h),null}else 2*Et()-B.renderingStartTime>kf&&M!==1073741824&&(h.flags|=128,b=!0,Yi(B,!1),h.lanes=4194304);B.isBackwards?(z.sibling=h.child,h.child=z):(d=B.last,d!==null?d.sibling=z:h.child=z,B.last=z)}return B.tail!==null?(h=B.tail,B.rendering=h,B.tail=h.sibling,B.renderingStartTime=Et(),h.sibling=null,d=ye.current,ln(ye,b?d&1|2:d&1),h):(fn(h),null);case 22:case 23:return pg(),b=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==b&&(h.flags|=8192),b&&h.mode&1?Vo&1073741824&&(fn(h),oe&&h.subtreeFlags&6&&(h.flags|=8192)):fn(h),null;case 24:return null;case 25:return null}throw Error(s(156,h.tag))}var Y1=a.ReactCurrentOwner,zo=!1;function Yr(d,h,M,b){h.child=d===null?H0(h,null,M,b):ou(h,d.child,M,b)}function ey(d,h,M,b,B){M=M.render;var z=h.ref;return tc(h,B),b=sr(d,h,M,b,z,B),M=jm(),d!==null&&!zo?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~B,_i(d,h,B)):(Tr&&M&&yh(h),h.flags|=1,Yr(d,h,b,B),h.child)}function ty(d,h,M,b,B){if(d===null){var z=M.type;return typeof z=="function"&&!_g(z)&&z.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(h.tag=15,h.type=z,ny(d,h,z,b,B)):(d=Uh(M.type,null,b,h,h.mode,B),d.ref=h.ref,d.return=h,h.child=d)}if(z=d.child,!(d.lanes&B)){var ae=z.memoizedProps;if(M=M.compare,M=M!==null?M:yt,M(ae,b)&&d.ref===h.ref)return _i(d,h,B)}return h.flags|=1,d=Qa(z,b),d.ref=h.ref,d.return=h,h.child=d}function ny(d,h,M,b,B){if(d!==null&&yt(d.memoizedProps,b)&&d.ref===h.ref)if(zo=!1,(d.lanes&B)!==0)d.flags&131072&&(zo=!0);else return h.lanes=d.lanes,_i(d,h,B);return Ns(d,h,M,b,B)}function ry(d,h,M){var b=h.pendingProps,B=b.children,z=d!==null?d.memoizedState:null;if(b.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},ln(yu,Vo),Vo|=M;else if(M&1073741824)h.memoizedState={baseLanes:0,cachePool:null},b=z!==null?z.baseLanes:M,ln(yu,Vo),Vo|=b;else return d=z!==null?z.baseLanes|M:M,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,ln(yu,Vo),Vo|=d,null;else z!==null?(b=z.baseLanes|M,h.memoizedState=null):b=M,ln(yu,Vo),Vo|=b;return Yr(d,h,B,M),h.child}function iy(d,h){var M=h.ref;(d===null&&M!==null||d!==null&&d.ref!==M)&&(h.flags|=512,h.flags|=2097152)}function Ns(d,h,M,b,B){var z=vn(M)?gr:In.current;return z=Cr(h,z),tc(h,B),M=sr(d,h,M,b,z,B),b=jm(),d!==null&&!zo?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~B,_i(d,h,B)):(Tr&&b&&yh(h),h.flags|=1,Yr(d,h,M,B),h.child)}function oy(d,h,M,b,B){if(vn(M)){var z=!0;si(h)}else z=!1;if(tc(h,B),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),F0(h,M,b),eu(h,M,b,B),b=!0;else if(d===null){var ae=h.stateNode,xe=h.memoizedProps;ae.props=xe;var Xe=ae.context,mt=M.contextType;typeof mt=="object"&&mt!==null?mt=Lr(mt):(mt=vn(M)?gr:In.current,mt=Cr(h,mt));var zt=M.getDerivedStateFromProps,wn=typeof zt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";wn||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(xe!==b||Xe!==mt)&&Gm(h,ae,b,mt),vi=!1;var rn=h.memoizedState;ae.state=rn,Bs(h,b,ae,B),Xe=h.memoizedState,xe!==b||rn!==Xe||Yn.current||vi?(typeof zt=="function"&&(yf(h,M,zt,b),Xe=h.memoizedState),(xe=vi||D0(h,M,xe,b,rn,Xe,mt))?(wn||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Xe),ae.props=b,ae.state=Xe,ae.context=mt,b=xe):(typeof ae.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{ae=h.stateNode,Hm(d,h),xe=h.memoizedProps,mt=h.type===h.elementType?xe:jt(h.type,xe),ae.props=mt,wn=h.pendingProps,rn=ae.context,Xe=M.contextType,typeof Xe=="object"&&Xe!==null?Xe=Lr(Xe):(Xe=vn(M)?gr:In.current,Xe=Cr(h,Xe));var hr=M.getDerivedStateFromProps;(zt=typeof hr=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(xe!==wn||rn!==Xe)&&Gm(h,ae,b,Xe),vi=!1,rn=h.memoizedState,ae.state=rn,Bs(h,b,ae,B);var Jt=h.memoizedState;xe!==wn||rn!==Jt||Yn.current||vi?(typeof hr=="function"&&(yf(h,M,hr,b),Jt=h.memoizedState),(mt=vi||D0(h,M,mt,b,rn,Jt,Xe)||!1)?(zt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(b,Jt,Xe),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(b,Jt,Xe)),typeof ae.componentDidUpdate=="function"&&(h.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ae.componentDidUpdate!="function"||xe===d.memoizedProps&&rn===d.memoizedState||(h.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||xe===d.memoizedProps&&rn===d.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=Jt),ae.props=b,ae.state=Jt,ae.context=Xe,b=mt):(typeof ae.componentDidUpdate!="function"||xe===d.memoizedProps&&rn===d.memoizedState||(h.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||xe===d.memoizedProps&&rn===d.memoizedState||(h.flags|=1024),b=!1)}return Zm(d,h,M,b,z,B)}function Zm(d,h,M,b,B,z){iy(d,h);var ae=(h.flags&128)!==0;if(!b&&!ae)return B&&_o(h,M,!1),_i(d,h,z);b=h.stateNode,Y1.current=h;var xe=ae&&typeof M.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,d!==null&&ae?(h.child=ou(h,d.child,null,z),h.child=ou(h,null,xe,z)):Yr(d,h,xe,z),h.memoizedState=b.state,B&&_o(h,M,!0),h.child}function sy(d){var h=d.stateNode;h.pendingContext?Ni(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Ni(d,h.context,!1),$m(d,h.containerInfo)}function ay(d,h,M,b,B){return ru(),Af(B),h.flags|=256,Yr(d,h,M,b),h.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function ps(d){return{baseLanes:d,cachePool:null}}function ly(d,h,M){var b=h.pendingProps,B=ye.current,z=!1,ae=(h.flags&128)!==0,xe;if((xe=ae)||(xe=d!==null&&d.memoizedState===null?!1:(B&2)!==0),xe?(z=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(B|=1),ln(ye,B&1),d===null)return Wm(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?_r(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(B=b.children,d=b.fallback,z?(b=h.mode,z=h.child,B={mode:"hidden",children:B},!(b&1)&&z!==null?(z.childLanes=0,z.pendingProps=B):z=Wf(B,b,0,null),d=Nl(d,b,M,null),z.return=h,d.return=h,z.sibling=d,h.child=z,h.child.memoizedState=ps(M),h.memoizedState=Mh,d):eg(h,B));if(B=d.memoizedState,B!==null){if(xe=B.dehydrated,xe!==null){if(ae)return h.flags&256?(h.flags&=-257,wh(d,h,M,Error(s(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(z=b.fallback,B=h.mode,b=Wf({mode:"visible",children:b.children},B,0,null),z=Nl(z,B,M,null),z.flags|=2,b.return=h,z.return=h,b.sibling=z,h.child=b,h.mode&1&&ou(h,d.child,null,M),h.child.memoizedState=ps(M),h.memoizedState=Mh,z);if(!(h.mode&1))h=wh(d,h,M,null);else if(_r(xe))h=wh(d,h,M,Error(s(419)));else if(b=(M&d.childLanes)!==0,zo||b){if(b=ai,b!==null){switch(M&-M){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}b=z&(b.suspendedLanes|M)?0:z,b!==0&&b!==B.retryLane&&(B.retryLane=b,ms(d,b,-1))}Dh(),h=wh(d,h,M,Error(s(421)))}else fr(xe)?(h.flags|=128,h.child=d.child,h=Fl.bind(null,d),wr(xe,h),h=null):(M=B.treeContext,Be&&(ki=oi(xe),ho=h,Tr=!0,Ds=null,nu=!1,M!==null&&(Ao[Mo++]=ja,Ao[Mo++]=Os,Ao[Mo++]=Ml,ja=M.id,Os=M.overflow,Ml=h)),h=eg(h,h.pendingProps.children),h.flags|=4096);return h}return z?(b=uy(d,h,b.children,b.fallback,M),z=h.child,B=d.child.memoizedState,z.memoizedState=B===null?ps(M):{baseLanes:B.baseLanes|M,cachePool:null},z.childLanes=d.childLanes&~M,h.memoizedState=Mh,b):(M=cy(d,h,b.children,M),h.memoizedState=null,M)}return z?(b=uy(d,h,b.children,b.fallback,M),z=h.child,B=d.child.memoizedState,z.memoizedState=B===null?ps(M):{baseLanes:B.baseLanes|M,cachePool:null},z.childLanes=d.childLanes&~M,h.memoizedState=Mh,b):(M=cy(d,h,b.children,M),h.memoizedState=null,M)}function eg(d,h){return h=Wf({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function cy(d,h,M,b){var B=d.child;return d=B.sibling,M=Qa(B,{mode:"visible",children:M}),!(h.mode&1)&&(M.lanes=b),M.return=h,M.sibling=null,d!==null&&(b=h.deletions,b===null?(h.deletions=[d],h.flags|=16):b.push(d)),h.child=M}function uy(d,h,M,b,B){var z=h.mode;d=d.child;var ae=d.sibling,xe={mode:"hidden",children:M};return!(z&1)&&h.child!==d?(M=h.child,M.childLanes=0,M.pendingProps=xe,h.deletions=null):(M=Qa(d,xe),M.subtreeFlags=d.subtreeFlags&14680064),ae!==null?b=Qa(ae,b):(b=Nl(b,z,B,null),b.flags|=2),b.return=h,M.return=h,M.sibling=b,h.child=M,b}function wh(d,h,M,b){return b!==null&&Af(b),ou(h,d.child,null,M),d=eg(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Tl(d,h,M){d.lanes|=h;var b=d.alternate;b!==null&&(b.lanes|=h),mh(d.return,h,M)}function tg(d,h,M,b,B){var z=d.memoizedState;z===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:M,tailMode:B}:(z.isBackwards=h,z.rendering=null,z.renderingStartTime=0,z.last=b,z.tail=M,z.tailMode=B)}function fy(d,h,M){var b=h.pendingProps,B=b.revealOrder,z=b.tail;if(Yr(d,h,b.children,M),b=ye.current,b&2)b=b&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Tl(d,M,h);else if(d.tag===19)Tl(d,M,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}b&=1}if(ln(ye,b),!(h.mode&1))h.memoizedState=null;else switch(B){case"forwards":for(M=h.child,B=null;M!==null;)d=M.alternate,d!==null&&Je(d)===null&&(B=M),M=M.sibling;M=B,M===null?(B=h.child,h.child=null):(B=M.sibling,M.sibling=null),tg(h,!1,B,M,z);break;case"backwards":for(M=null,B=h.child,h.child=null;B!==null;){if(d=B.alternate,d!==null&&Je(d)===null){h.child=B;break}d=B.sibling,B.sibling=M,M=B,B=d}tg(h,!0,M,null,z);break;case"together":tg(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function _i(d,h,M){if(d!==null&&(h.dependencies=d.dependencies),_u|=h.lanes,!(M&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(s(153));if(h.child!==null){for(d=h.child,M=Qa(d,d.pendingProps),h.child=M,M.return=h;d.sibling!==null;)d=d.sibling,M=M.sibling=Qa(d,d.pendingProps),M.return=h;M.sibling=null}return h.child}function q1(d,h,M){switch(h.tag){case 3:sy(h),ru();break;case 5:G0(h);break;case 1:vn(h.type)&&si(h);break;case 4:$m(h,h.stateNode.containerInfo);break;case 10:km(h,h.type._context,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(ln(ye,ye.current&1),h.flags|=128,null):M&h.child.childLanes?ly(d,h,M):(ln(ye,ye.current&1),d=_i(d,h,M),d!==null?d.sibling:null);ln(ye,ye.current&1);break;case 19:if(b=(M&h.childLanes)!==0,d.flags&128){if(b)return fy(d,h,M);h.flags|=128}var B=h.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),ln(ye,ye.current),b)break;return null;case 22:case 23:return h.lanes=0,ry(d,h,M)}return _i(d,h,M)}function Q1(d,h){switch(fo(h),h.tag){case 1:return vn(h.type)&&$r(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return lu(),Te(Yn),Te(In),Ut(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return wl(h),null;case 13:if(Te(ye),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(s(340));ru()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Te(ye),null;case 4:return lu(),null;case 10:return ph(h.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var Ch=!1,ac=!1,Z1=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Df(d,h){var M=d.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(b){eo(d,h,b)}else M.current=null}function ng(d,h,M){try{M()}catch(b){eo(d,h,b)}}var dy=!1;function rg(d,h){for(j(d.containerInfo),Tt=h;Tt!==null;)if(d=Tt,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Tt=h;else for(;Tt!==null;){d=Tt;try{var M=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var b=M.memoizedProps,B=M.memoizedState,z=d.stateNode,ae=z.getSnapshotBeforeUpdate(d.elementType===d.type?b:jt(d.type,b),B);z.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:oe&&it(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(xe){eo(d,d.return,xe)}if(h=d.sibling,h!==null){h.return=d.return,Tt=h;break}Tt=d.return}return M=dy,dy=!1,M}function Us(d,h,M){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var B=b=b.next;do{if((B.tag&d)===d){var z=B.destroy;B.destroy=void 0,z!==void 0&&ng(h,M,z)}B=B.next}while(B!==b)}}function Rl(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var M=h=h.next;do{if((M.tag&d)===d){var b=M.create;M.destroy=b()}M=M.next}while(M!==h)}}function ig(d){var h=d.ref;if(h!==null){var M=d.stateNode;switch(d.tag){case 5:d=K(M);break;default:d=M}typeof h=="function"?h(d):h.current=d}}function og(d,h,M){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Uo,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var b=d=d.next;do{var B=b,z=B.destroy;B=B.tag,z!==void 0&&(B&2||B&4)&&ng(h,M,z),b=b.next}while(b!==d)}break;case 1:if(Df(h,M),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(ae){eo(h,M,ae)}break;case 5:Df(h,M);break;case 4:oe?ag(d,h,M):Ne&&Ne&&(h=h.stateNode.containerInfo,M=wt(h),on(h,M))}}function hy(d,h,M){for(var b=h;;)if(og(d,b,M),b.child===null||oe&&b.tag===4){if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function _a(d){var h=d.alternate;h!==null&&(d.alternate=null,_a(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ke(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Eh(d){return d.tag===5||d.tag===3||d.tag===4}function Pl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Eh(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ho(d){if(oe){e:{for(var h=d.return;h!==null;){if(Eh(h))break e;h=h.return}throw Error(s(160))}var M=h;switch(M.tag){case 5:h=M.stateNode,M.flags&32&&(ut(h),M.flags&=-33),M=Pl(d),bh(d,M,h);break;case 3:case 4:h=M.stateNode.containerInfo,M=Pl(d),sg(d,M,h);break;default:throw Error(s(161))}}}function sg(d,h,M){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?ft(M,d,h):kt(M,d);else if(b!==4&&(d=d.child,d!==null))for(sg(d,h,M),d=d.sibling;d!==null;)sg(d,h,M),d=d.sibling}function bh(d,h,M){var b=d.tag;if(b===5||b===6)d=d.stateNode,h?It(M,d,h):st(M,d);else if(b!==4&&(d=d.child,d!==null))for(bh(d,h,M),d=d.sibling;d!==null;)bh(d,h,M),d=d.sibling}function ag(d,h,M){for(var b=h,B=!1,z,ae;;){if(!B){B=b.return;e:for(;;){if(B===null)throw Error(s(160));switch(z=B.stateNode,B.tag){case 5:ae=!1;break e;case 3:z=z.containerInfo,ae=!0;break e;case 4:z=z.containerInfo,ae=!0;break e}B=B.return}B=!0}if(b.tag===5||b.tag===6)hy(d,b,M),ae?Ge(z,b.stateNode):he(z,b.stateNode);else if(b.tag===18)ae?me(z,b.stateNode):_e(z,b.stateNode);else if(b.tag===4){if(b.child!==null){z=b.stateNode.containerInfo,ae=!0,b.child.return=b,b=b.child;continue}}else if(og(d,b,M),b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return,b.tag===4&&(B=!1)}b.sibling.return=b.return,b=b.sibling}}function lc(d,h){if(oe){switch(h.tag){case 0:case 11:case 14:case 15:Us(3,h,h.return),Rl(3,h),Us(5,h,h.return);return;case 1:return;case 5:var M=h.stateNode;if(M!=null){var b=h.memoizedProps;d=d!==null?d.memoizedProps:b;var B=h.type,z=h.updateQueue;h.updateQueue=null,z!==null&&Vt(M,z,B,d,b,h)}return;case 6:if(h.stateNode===null)throw Error(s(162));M=h.memoizedProps,Qe(h.stateNode,d!==null?d.memoizedProps:M,M);return;case 3:Be&&d!==null&&d.memoizedState.isDehydrated&&Se(h.stateNode.containerInfo);return;case 12:return;case 13:ks(h);return;case 19:ks(h);return;case 17:return}throw Error(s(163))}switch(h.tag){case 0:case 11:case 14:case 15:Us(3,h,h.return),Rl(3,h),Us(5,h,h.return);return;case 12:return;case 13:ks(h);return;case 19:ks(h);return;case 3:Be&&d!==null&&d.memoizedState.isDehydrated&&Se(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ne){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,on(h.containerInfo,h.pendingChildren);break e}throw Error(s(163))}}function ks(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var M=d.stateNode;M===null&&(M=d.stateNode=new Z1),h.forEach(function(b){var B=Sy.bind(null,d,b);M.has(b)||(M.add(b),b.then(B,B))})}}function py(d,h){for(Tt=h;Tt!==null;){h=Tt;var M=h.deletions;if(M!==null)for(var b=0;b<M.length;b++){var B=M[b];try{var z=d;oe?ag(z,B,h):hy(z,B,h);var ae=B.alternate;ae!==null&&(ae.return=null),B.return=null}catch(Yt){eo(B,h,Yt)}}if(M=h.child,h.subtreeFlags&12854&&M!==null)M.return=h,Tt=M;else for(;Tt!==null;){h=Tt;try{var xe=h.flags;if(xe&32&&oe&&ut(h.stateNode),xe&512){var Xe=h.alternate;if(Xe!==null){var mt=Xe.ref;mt!==null&&(typeof mt=="function"?mt(null):mt.current=null)}}if(xe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var zt=h.alternate;(zt===null||zt.memoizedState===null)&&(dg=Et())}break;case 22:var wn=h.memoizedState!==null,rn=h.alternate,hr=rn!==null&&rn.memoizedState!==null;if(M=h,oe){e:if(b=M,B=wn,z=null,oe)for(var Jt=b;;){if(Jt.tag===5){if(z===null){z=Jt;var no=Jt.stateNode;B?le(no):Oe(Jt.stateNode,Jt.memoizedProps)}}else if(Jt.tag===6){if(z===null){var $o=Jt.stateNode;B?Ze($o):je($o,Jt.memoizedProps)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===b)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===b)break;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===b)break e;z===Jt&&(z=null),Jt=Jt.return}z===Jt&&(z=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}if(wn&&!hr&&M.mode&1){Tt=M;for(var Ie=M.child;Ie!==null;){for(M=Tt=Ie;Tt!==null;){b=Tt;var we=b.child;switch(b.tag){case 0:case 11:case 14:case 15:Us(4,b,b.return);break;case 1:Df(b,b.return);var We=b.stateNode;if(typeof We.componentWillUnmount=="function"){var Ft=b.return;try{We.props=b.memoizedProps,We.state=b.memoizedState,We.componentWillUnmount()}catch(Yt){eo(b,Ft,Yt)}}break;case 5:Df(b,b.return);break;case 22:if(b.memoizedState!==null){lg(M);continue}}we!==null?(we.return=b,Tt=we):lg(M)}Ie=Ie.sibling}}}switch(xe&4102){case 2:Ho(h),h.flags&=-3;break;case 6:Ho(h),h.flags&=-3,lc(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,lc(h.alternate,h);break;case 4:lc(h.alternate,h)}}catch(Yt){eo(h,h.return,Yt)}if(M=h.sibling,M!==null){M.return=h.return,Tt=M;break}Tt=h.return}}}function eA(d,h,M){Tt=d,Ff(d)}function Ff(d,h,M){for(var b=(d.mode&1)!==0;Tt!==null;){var B=Tt,z=B.child;if(B.tag===22&&b){var ae=B.memoizedState!==null||Ch;if(!ae){var xe=B.alternate,Xe=xe!==null&&xe.memoizedState!==null||ac;xe=Ch;var mt=ac;if(Ch=ae,(ac=Xe)&&!mt)for(Tt=B;Tt!==null;)ae=Tt,Xe=ae.child,ae.tag===22&&ae.memoizedState!==null?Bi(B):Xe!==null?(Xe.return=ae,Tt=Xe):Bi(B);for(;z!==null;)Tt=z,Ff(z),z=z.sibling;Tt=B,Ch=xe,ac=mt}my(d)}else B.subtreeFlags&8772&&z!==null?(z.return=B,Tt=z):my(d)}}function my(d){for(;Tt!==null;){var h=Tt;if(h.flags&8772){var M=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:ac||Rl(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!ac)if(M===null)b.componentDidMount();else{var B=h.elementType===h.type?M.memoizedProps:jt(h.type,M.memoizedProps);b.componentDidUpdate(B,M.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var z=h.updateQueue;z!==null&&gh(h,z,b);break;case 3:var ae=h.updateQueue;if(ae!==null){if(M=null,h.child!==null)switch(h.child.tag){case 5:M=K(h.child.stateNode);break;case 1:M=h.child.stateNode}gh(h,ae,M)}break;case 5:var xe=h.stateNode;M===null&&h.flags&4&&vt(xe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Be&&h.memoizedState===null){var Xe=h.alternate;if(Xe!==null){var mt=Xe.memoizedState;if(mt!==null){var zt=mt.dehydrated;zt!==null&&be(zt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}ac||h.flags&512&&ig(h)}catch(wn){eo(h,h.return,wn)}}if(h===d){Tt=null;break}if(M=h.sibling,M!==null){M.return=h.return,Tt=M;break}Tt=h.return}}function lg(d){for(;Tt!==null;){var h=Tt;if(h===d){Tt=null;break}var M=h.sibling;if(M!==null){M.return=h.return,Tt=M;break}Tt=h.return}}function Bi(d){for(;Tt!==null;){var h=Tt;try{switch(h.tag){case 0:case 11:case 15:var M=h.return;try{Rl(4,h)}catch(Xe){eo(h,M,Xe)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var B=h.return;try{b.componentDidMount()}catch(Xe){eo(h,B,Xe)}}var z=h.return;try{ig(h)}catch(Xe){eo(h,z,Xe)}break;case 5:var ae=h.return;try{ig(h)}catch(Xe){eo(h,ae,Xe)}}}catch(Xe){eo(h,h.return,Xe)}if(h===d){Tt=null;break}var xe=h.sibling;if(xe!==null){xe.return=h.return,Tt=xe;break}Tt=h.return}}var mu=0,Nf=1,Go=2,gu=3,cc=4;if(typeof Symbol=="function"&&Symbol.for){var zs=Symbol.for;mu=zs("selector.component"),Nf=zs("selector.has_pseudo_class"),Go=zs("selector.role"),gu=zs("selector.test_id"),cc=zs("selector.text")}function Th(d){var h=He(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if(d=V(d),d===null)throw Error(s(362));return d.stateNode.current}function zi(d,h){switch(h.$$typeof){case mu:if(d.type===h.value)return!0;break;case Nf:e:{h=h.value,d=[d,0];for(var M=0;M<d.length;){var b=d[M++],B=d[M++],z=h[B];if(b.tag!==5||!Re(b)){for(;z!=null&&zi(b,z);)B++,z=h[B];if(B===h.length){h=!0;break e}else for(b=b.child;b!==null;)d.push(b,B),b=b.sibling}}h=!1}return h;case Go:if(d.tag===5&&ze(d.stateNode,h.value))return!0;break;case cc:if((d.tag===5||d.tag===6)&&(d=Ae(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case gu:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Uf(d){switch(d.$$typeof){case mu:return"<"+(L(d.value)||"Unknown")+">";case Nf:return":has("+(Uf(d)||"")+")";case Go:return'[role="'+d.value+'"]';case cc:return'"'+d.value+'"';case gu:return'[data-testname="'+d.value+'"]';default:throw Error(s(365))}}function gy(d,h){var M=[];d=[d,0];for(var b=0;b<d.length;){var B=d[b++],z=d[b++],ae=h[z];if(B.tag!==5||!Re(B)){for(;ae!=null&&zi(B,ae);)z++,ae=h[z];if(z===h.length)M.push(B);else for(B=B.child;B!==null;)d.push(B,z),B=B.sibling}}return M}function cg(d,h){if(!Q)throw Error(s(363));d=Th(d),d=gy(d,h),h=[],d=Array.from(d);for(var M=0;M<d.length;){var b=d[M++];if(b.tag===5)Re(b)||h.push(b.stateNode);else for(b=b.child;b!==null;)d.push(b),b=b.sibling}return h}var tA=Math.ceil,vu=a.ReactCurrentDispatcher,ug=a.ReactCurrentOwner,Rr=a.ReactCurrentBatchConfig,Fn=0,ai=null,li=null,qr=0,Vo=0,yu=tn(0),Qr=0,xu=null,_u=0,Rh=0,fg=0,Su=null,qi=null,dg=0,kf=1/0;function uc(){kf=Et()+500}var zf=!1,Ph=null,Hs=null,Ih=!1,qa=null,Hf=0,Gf=0,Bh=null,Lh=-1,Au=0;function Qi(){return Fn&6?Et():Lh!==-1?Lh:Lh=Et()}function Sa(d){return d.mode&1?Fn&2&&qr!==0?qr&-qr:Dn.transition!==null?(Au===0&&(d=Ui,Ui<<=1,!(Ui&4194240)&&(Ui=64),Au=d),Au):(d=_n,d!==0?d:Ve()):1}function ms(d,h,M){if(50<Gf)throw Gf=0,Bh=null,Error(s(185));var b=Mu(d,h);return b===null?null:(Kr(b,h,M),(!(Fn&2)||b!==ai)&&(b===ai&&(!(Fn&2)&&(Rh|=h),Qr===4&&Il(b,qr)),un(b,M),h===1&&Fn===0&&!(d.mode&1)&&(uc(),Y&&Rt())),b)}function Mu(d,h){d.lanes|=h;var M=d.alternate;for(M!==null&&(M.lanes|=h),M=d,d=d.return;d!==null;)d.childLanes|=h,M=d.alternate,M!==null&&(M.childLanes|=h),M=d,d=d.return;return M.tag===3?M.stateNode:null}function un(d,h){var M=d.callbackNode;Sr(d,h);var b=fs(d,d===ai?qr:0);if(b===0)M!==null&&Xi(M),d.callbackNode=null,d.callbackPriority=0;else if(h=b&-b,d.callbackPriority!==h){if(M!=null&&Xi(M),h===1)d.tag===0?$t(xy.bind(null,d)):et(xy.bind(null,d)),qe?rt(function(){Fn===0&&Rt()}):No(On,Rt),M=null;else{switch(An(b)){case 1:M=On;break;case 4:M=Ar;break;case 16:M=Zn;break;case 536870912:M=gi;break;default:M=Zn}M=Nh(M,vy.bind(null,d))}d.callbackPriority=h,d.callbackNode=M}}function vy(d,h){if(Lh=-1,Au=0,Fn&6)throw Error(s(327));var M=d.callbackNode;if(Ol()&&d.callbackNode!==M)return null;var b=fs(d,d===ai?qr:0);if(b===0)return null;if(b&30||b&d.expiredLanes||h)h=Zi(d,b);else{h=b;var B=Fn;Fn|=2;var z=mg();(ai!==d||qr!==h)&&(uc(),Aa(d,h));do try{gg();break}catch(xe){Oh(d,xe)}while(!0);ec(),vu.current=z,Fn=B,li!==null?h=0:(ai=null,qr=0,h=Qr)}if(h!==0){if(h===2&&(B=So(d),B!==0&&(b=B,h=hg(d,B))),h===1)throw M=xu,Aa(d,0),Il(d,b),un(d,Et()),M;if(h===6)Il(d,b);else{if(B=d.current.alternate,!(b&30)&&!yy(B)&&(h=Zi(d,b),h===2&&(z=So(d),z!==0&&(b=z,h=hg(d,z))),h===1))throw M=xu,Aa(d,0),Il(d,b),un(d,Et()),M;switch(d.finishedWork=B,d.finishedLanes=b,h){case 0:case 1:throw Error(s(345));case 2:Ll(d,qi);break;case 3:if(Il(d,b),(b&130023424)===b&&(h=dg+500-Et(),10<h)){if(fs(d,0)!==0)break;if(B=d.suspendedLanes,(B&b)!==b){Qi(),d.pingedLanes|=d.suspendedLanes&B;break}d.timeoutHandle=Pe(Ll.bind(null,d,qi),h);break}Ll(d,qi);break;case 4:if(Il(d,b),(b&4194240)===b)break;for(h=d.eventTimes,B=-1;0<b;){var ae=31-zr(b);z=1<<ae,ae=h[ae],ae>B&&(B=ae),b&=~z}if(b=B,b=Et()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*tA(b/1960))-b,10<b){d.timeoutHandle=Pe(Ll.bind(null,d,qi),b);break}Ll(d,qi);break;case 5:Ll(d,qi);break;default:throw Error(s(329))}}}return un(d,Et()),d.callbackNode===M?vy.bind(null,d):null}function hg(d,h){var M=Su;return d.current.memoizedState.isDehydrated&&(Aa(d,h).flags|=256),d=Zi(d,h),d!==2&&(h=qi,qi=M,h!==null&&fc(h)),d}function fc(d){qi===null?qi=d:qi.push.apply(qi,d)}function yy(d){for(var h=d;;){if(h.flags&16384){var M=h.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var b=0;b<M.length;b++){var B=M[b],z=B.getSnapshot;B=B.value;try{if(!ne(z(),B))return!1}catch{return!1}}}if(M=h.child,h.subtreeFlags&16384&&M!==null)M.return=h,h=M;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Il(d,h){for(h&=~fg,h&=~Rh,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var M=31-zr(h),b=1<<M;d[M]=-1,h&=~b}}function xy(d){if(Fn&6)throw Error(s(327));Ol();var h=fs(d,0);if(!(h&1))return un(d,Et()),null;var M=Zi(d,h);if(d.tag!==0&&M===2){var b=So(d);b!==0&&(h=b,M=hg(d,b))}if(M===1)throw M=xu,Aa(d,0),Il(d,h),un(d,Et()),M;if(M===6)throw Error(s(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Ll(d,qi),un(d,Et()),null}function Wo(d){qa!==null&&qa.tag===0&&!(Fn&6)&&Ol();var h=Fn;Fn|=1;var M=Rr.transition,b=_n;try{if(Rr.transition=null,_n=1,d)return d()}finally{_n=b,Rr.transition=M,Fn=h,!(Fn&6)&&Rt()}}function pg(){Vo=yu.current,Te(yu)}function Aa(d,h){d.finishedWork=null,d.finishedLanes=0;var M=d.timeoutHandle;if(M!==dt&&(d.timeoutHandle=dt,lt(M)),li!==null)for(M=li.return;M!==null;){var b=M;switch(fo(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&$r();break;case 3:lu(),Te(Yn),Te(In),Ut();break;case 5:wl(b);break;case 4:lu();break;case 13:Te(ye);break;case 19:Te(ye);break;case 10:ph(b.type._context);break;case 22:case 23:pg()}M=M.return}if(ai=d,li=d=Qa(d.current,null),qr=Vo=h,Qr=0,xu=null,fg=Rh=_u=0,qi=Su=null,pa!==null){for(h=0;h<pa.length;h++)if(M=pa[h],b=M.interleaved,b!==null){M.interleaved=null;var B=b.next,z=M.pending;if(z!==null){var ae=z.next;z.next=B,b.next=ae}M.pending=b}pa=null}return d}function Oh(d,h){do{var M=li;try{if(ec(),yn.current=du,po){for(var b=hn.memoizedState;b!==null;){var B=b.queue;B!==null&&(B.pending=null),b=b.next}po=!1}if(Or=0,Ii=Pi=hn=null,Cl=!1,wf=0,ug.current=null,M===null||M.return===null){Qr=1,xu=h,li=null;break}e:{var z=d,ae=M.return,xe=M,Xe=h;if(h=qr,xe.flags|=32768,Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var mt=Xe,zt=xe,wn=zt.tag;if(!(zt.mode&1)&&(wn===0||wn===11||wn===15)){var rn=zt.alternate;rn?(zt.updateQueue=rn.updateQueue,zt.memoizedState=rn.memoizedState,zt.lanes=rn.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var hr=Q0(ae);if(hr!==null){hr.flags&=-257,Z0(hr,ae,xe,z,h),hr.mode&1&&q0(z,mt,h),h=hr,Xe=mt;var Jt=h.updateQueue;if(Jt===null){var no=new Set;no.add(Xe),h.updateQueue=no}else Jt.add(Xe);break e}else{if(!(h&1)){q0(z,mt,h),Dh();break e}Xe=Error(s(426))}}else if(Tr&&xe.mode&1){var $o=Q0(ae);if($o!==null){!($o.flags&65536)&&($o.flags|=256),Z0($o,ae,xe,z,h),Af(Xe);break e}}z=Xe,Qr!==4&&(Qr=2),Su===null?Su=[z]:Su.push(z),Xe=ic(Xe,xe),xe=ae;do{switch(xe.tag){case 3:xe.flags|=65536,h&=-h,xe.lanes|=h;var Ie=sc(xe,Xe,h);br(xe,Ie);break e;case 1:z=Xe;var we=xe.type,We=xe.stateNode;if(!(xe.flags&128)&&(typeof we.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(Hs===null||!Hs.has(We)))){xe.flags|=65536,h&=-h,xe.lanes|=h;var Ft=Y0(xe,z,h);br(xe,Ft);break e}}xe=xe.return}while(xe!==null)}Vf(M)}catch(Yt){h=Yt,li===M&&M!==null&&(li=M=M.return);continue}break}while(!0)}function mg(){var d=vu.current;return vu.current=du,d===null?du:d}function Dh(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),ai===null||!(_u&268435455)&&!(Rh&268435455)||Il(ai,qr)}function Zi(d,h){var M=Fn;Fn|=2;var b=mg();ai===d&&qr===h||Aa(d,h);do try{Bl();break}catch(B){Oh(d,B)}while(!0);if(ec(),Fn=M,vu.current=b,li!==null)throw Error(s(261));return ai=null,qr=0,Qr}function Bl(){for(;li!==null;)vg(li)}function gg(){for(;li!==null&&!ds();)vg(li)}function vg(d){var h=xg(d.alternate,d,Vo);d.memoizedProps=d.pendingProps,h===null?Vf(d):li=h,ug.current=null}function Vf(d){var h=d;do{var M=h.alternate;if(d=h.return,h.flags&32768){if(M=Q1(M,h),M!==null){M.flags&=32767,li=M;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Qr=6,li=null;return}}else if(M=J1(M,h,Vo),M!==null){li=M;return}if(h=h.sibling,h!==null){li=h;return}li=h=d}while(h!==null);Qr===0&&(Qr=5)}function Ll(d,h){var M=_n,b=Rr.transition;try{Rr.transition=null,_n=1,yg(d,h,M)}finally{Rr.transition=b,_n=M}return null}function yg(d,h,M){do Ol();while(qa!==null);if(Fn&6)throw Error(s(327));var b=d.finishedWork,B=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(s(177));d.callbackNode=null,d.callbackPriority=0;var z=b.lanes|b.childLanes;if(Ti(d,z),d===ai&&(li=ai=null,qr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Ih||(Ih=!0,Nh(Zn,function(){return Ol(),null})),z=(b.flags&15990)!==0,b.subtreeFlags&15990||z){z=Rr.transition,Rr.transition=null;var ae=_n;_n=1;var xe=Fn;Fn|=4,ug.current=null,rg(d,b),py(d,b),J(d.containerInfo),d.current=b,eA(b),Dt(),Fn=xe,_n=ae,Rr.transition=z}else d.current=b;if(Ih&&(Ih=!1,qa=d,Hf=B),z=d.pendingLanes,z===0&&(Hs=null),En(b.stateNode),un(d,Et()),h!==null)for(M=d.onRecoverableError,b=0;b<h.length;b++)M(h[b]);if(zf)throw zf=!1,d=Ph,Ph=null,d;return Hf&1&&d.tag!==0&&Ol(),z=d.pendingLanes,z&1?d===Bh?Gf++:(Gf=0,Bh=d):Gf=0,Rt(),null}function Ol(){if(qa!==null){var d=An(Hf),h=Rr.transition,M=_n;try{if(Rr.transition=null,_n=16>d?16:d,qa===null)var b=!1;else{if(d=qa,qa=null,Hf=0,Fn&6)throw Error(s(331));var B=Fn;for(Fn|=4,Tt=d.current;Tt!==null;){var z=Tt,ae=z.child;if(Tt.flags&16){var xe=z.deletions;if(xe!==null){for(var Xe=0;Xe<xe.length;Xe++){var mt=xe[Xe];for(Tt=mt;Tt!==null;){var zt=Tt;switch(zt.tag){case 0:case 11:case 15:Us(8,zt,z)}var wn=zt.child;if(wn!==null)wn.return=zt,Tt=wn;else for(;Tt!==null;){zt=Tt;var rn=zt.sibling,hr=zt.return;if(_a(zt),zt===mt){Tt=null;break}if(rn!==null){rn.return=hr,Tt=rn;break}Tt=hr}}}var Jt=z.alternate;if(Jt!==null){var no=Jt.child;if(no!==null){Jt.child=null;do{var $o=no.sibling;no.sibling=null,no=$o}while(no!==null)}}Tt=z}}if(z.subtreeFlags&2064&&ae!==null)ae.return=z,Tt=ae;else e:for(;Tt!==null;){if(z=Tt,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Us(9,z,z.return)}var Ie=z.sibling;if(Ie!==null){Ie.return=z.return,Tt=Ie;break e}Tt=z.return}}var we=d.current;for(Tt=we;Tt!==null;){ae=Tt;var We=ae.child;if(ae.subtreeFlags&2064&&We!==null)We.return=ae,Tt=We;else e:for(ae=we;Tt!==null;){if(xe=Tt,xe.flags&2048)try{switch(xe.tag){case 0:case 11:case 15:Rl(9,xe)}}catch(Yt){eo(xe,xe.return,Yt)}if(xe===ae){Tt=null;break e}var Ft=xe.sibling;if(Ft!==null){Ft.return=xe.return,Tt=Ft;break e}Tt=xe.return}}if(Fn=B,Rt(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Uo,d)}catch{}b=!0}return b}finally{_n=M,Rr.transition=h}}return!1}function Fh(d,h,M){h=ic(M,h),h=sc(d,h,1),Is(d,h),h=Qi(),d=Mu(d,1),d!==null&&(Kr(d,1,h),un(d,h))}function eo(d,h,M){if(d.tag===3)Fh(d,d,M);else for(;h!==null;){if(h.tag===3){Fh(h,d,M);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Hs===null||!Hs.has(b))){d=ic(M,d),d=Y0(h,d,1),Is(h,d),d=Qi(),h=Mu(h,1),h!==null&&(Kr(h,1,d),un(h,d));break}}h=h.return}}function Dl(d,h,M){var b=d.pingCache;b!==null&&b.delete(h),h=Qi(),d.pingedLanes|=d.suspendedLanes&M,ai===d&&(qr&M)===M&&(Qr===4||Qr===3&&(qr&130023424)===qr&&500>Et()-dg?Aa(d,0):fg|=M),un(d,h)}function _y(d,h){h===0&&(d.mode&1?(h=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):h=1);var M=Qi();d=Mu(d,h),d!==null&&(Kr(d,h,M),un(d,M))}function Fl(d){var h=d.memoizedState,M=0;h!==null&&(M=h.retryLane),_y(d,M)}function Sy(d,h){var M=0;switch(d.tag){case 13:var b=d.stateNode,B=d.memoizedState;B!==null&&(M=B.retryLane);break;case 19:b=d.stateNode;break;default:throw Error(s(314))}b!==null&&b.delete(h),_y(d,M)}var xg;xg=function(d,h,M){if(d!==null)if(d.memoizedProps!==h.pendingProps||Yn.current)zo=!0;else{if(!(d.lanes&M)&&!(h.flags&128))return zo=!1,q1(d,h,M);zo=!!(d.flags&131072)}else zo=!1,Tr&&h.flags&1048576&&N0(h,_f,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var B=Cr(h,In.current);tc(h,M),B=sr(null,h,b,d,B,M);var z=jm();return h.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,vn(b)?(z=!0,si(h)):z=!1,h.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,zm(h),B.updater=vh,h.stateNode=B,B._reactInternals=h,eu(h,b,d,M),h=Zm(null,h,b,!0,z,M)):(h.tag=0,Tr&&z&&yh(h),Yr(null,h,B,M),h=h.child),h;case 16:b=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,B=b._init,b=B(b._payload),h.type=b,B=h.tag=Ay(b),d=jt(b,d),B){case 0:h=Ns(null,h,b,d,M);break e;case 1:h=oy(null,h,b,d,M);break e;case 11:h=ey(null,h,b,d,M);break e;case 14:h=ty(null,h,b,jt(b.type,d),M);break e}throw Error(s(306,b,""))}return h;case 0:return b=h.type,B=h.pendingProps,B=h.elementType===b?B:jt(b,B),Ns(d,h,b,B,M);case 1:return b=h.type,B=h.pendingProps,B=h.elementType===b?B:jt(b,B),oy(d,h,b,B,M);case 3:e:{if(sy(h),d===null)throw Error(s(387));b=h.pendingProps,z=h.memoizedState,B=z.element,Hm(d,h),Bs(h,b,null,M);var ae=h.memoizedState;if(b=ae.element,Be&&z.isDehydrated)if(z={element:b,isDehydrated:!1,cache:ae.cache,transitions:ae.transitions},h.updateQueue.baseState=z,h.memoizedState=z,h.flags&256){B=Error(s(423)),h=ay(d,h,b,M,B);break e}else if(b!==B){B=Error(s(424)),h=ay(d,h,b,M,B);break e}else for(Be&&(ki=Wr(h.stateNode.containerInfo),ho=h,Tr=!0,Ds=null,nu=!1),M=H0(h,null,b,M),h.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(ru(),b===B){h=_i(d,h,M);break e}Yr(d,h,b,M)}h=h.child}return h;case 5:return G0(h),d===null&&Wm(h),b=h.type,B=h.pendingProps,z=d!==null?d.memoizedProps:null,ae=B.children,Ce(b,B)?ae=null:z!==null&&Ce(b,z)&&(h.flags|=32),iy(d,h),Yr(d,h,ae,M),h.child;case 6:return d===null&&Wm(h),null;case 13:return ly(d,h,M);case 4:return $m(h,h.stateNode.containerInfo),b=h.pendingProps,d===null?h.child=ou(h,null,b,M):Yr(d,h,b,M),h.child;case 11:return b=h.type,B=h.pendingProps,B=h.elementType===b?B:jt(b,B),ey(d,h,b,B,M);case 7:return Yr(d,h,h.pendingProps,M),h.child;case 8:return Yr(d,h,h.pendingProps.children,M),h.child;case 12:return Yr(d,h,h.pendingProps.children,M),h.child;case 10:e:{if(b=h.type._context,B=h.pendingProps,z=h.memoizedProps,ae=B.value,km(h,b,ae),z!==null)if(ne(z.value,ae)){if(z.children===B.children&&!Yn.current){h=_i(d,h,M);break e}}else for(z=h.child,z!==null&&(z.return=h);z!==null;){var xe=z.dependencies;if(xe!==null){ae=z.child;for(var Xe=xe.firstContext;Xe!==null;){if(Xe.context===b){if(z.tag===1){Xe=Ki(-1,M&-M),Xe.tag=2;var mt=z.updateQueue;if(mt!==null){mt=mt.shared;var zt=mt.pending;zt===null?Xe.next=Xe:(Xe.next=zt.next,zt.next=Xe),mt.pending=Xe}}z.lanes|=M,Xe=z.alternate,Xe!==null&&(Xe.lanes|=M),mh(z.return,M,h),xe.lanes|=M;break}Xe=Xe.next}}else if(z.tag===10)ae=z.type===h.type?null:z.child;else if(z.tag===18){if(ae=z.return,ae===null)throw Error(s(341));ae.lanes|=M,xe=ae.alternate,xe!==null&&(xe.lanes|=M),mh(ae,M,h),ae=z.sibling}else ae=z.child;if(ae!==null)ae.return=z;else for(ae=z;ae!==null;){if(ae===h){ae=null;break}if(z=ae.sibling,z!==null){z.return=ae.return,ae=z;break}ae=ae.return}z=ae}Yr(d,h,B.children,M),h=h.child}return h;case 9:return B=h.type,b=h.pendingProps.children,tc(h,M),B=Lr(B),b=b(B),h.flags|=1,Yr(d,h,b,M),h.child;case 14:return b=h.type,B=jt(b,h.pendingProps),B=jt(b.type,B),ty(d,h,b,B,M);case 15:return ny(d,h,h.type,h.pendingProps,M);case 17:return b=h.type,B=h.pendingProps,B=h.elementType===b?B:jt(b,B),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,vn(b)?(d=!0,si(h)):d=!1,tc(h,M),F0(h,b,B),eu(h,b,B,M),Zm(null,h,b,!0,d,M);case 19:return fy(d,h,M);case 22:return ry(d,h,M)}throw Error(s(156,h.tag))};function Nh(d,h){return No(d,h)}function nA(d,h,M,b){this.tag=d,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(d,h,M,b){return new nA(d,h,M,b)}function _g(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ay(d){if(typeof d=="function")return _g(d)?1:0;if(d!=null){if(d=d.$$typeof,d===S)return 11;if(d===A)return 14}return 2}function Qa(d,h){var M=d.alternate;return M===null?(M=gs(d.tag,h,d.key,d.mode),M.elementType=d.elementType,M.type=d.type,M.stateNode=d.stateNode,M.alternate=d,d.alternate=M):(M.pendingProps=h,M.type=d.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=d.flags&14680064,M.childLanes=d.childLanes,M.lanes=d.lanes,M.child=d.child,M.memoizedProps=d.memoizedProps,M.memoizedState=d.memoizedState,M.updateQueue=d.updateQueue,h=d.dependencies,M.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},M.sibling=d.sibling,M.index=d.index,M.ref=d.ref,M}function Uh(d,h,M,b,B,z){var ae=2;if(b=d,typeof d=="function")_g(d)&&(ae=1);else if(typeof d=="string")ae=5;else e:switch(d){case f:return Nl(M.children,B,z,h);case p:ae=8,B|=8;break;case m:return d=gs(12,M,h,B|2),d.elementType=m,d.lanes=z,d;case _:return d=gs(13,M,h,B),d.elementType=_,d.lanes=z,d;case y:return d=gs(19,M,h,B),d.elementType=y,d.lanes=z,d;case E:return Wf(M,B,z,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case v:ae=10;break e;case x:ae=9;break e;case S:ae=11;break e;case A:ae=14;break e;case w:ae=16,b=null;break e}throw Error(s(130,d==null?d:typeof d,""))}return h=gs(ae,M,h,B),h.elementType=d,h.type=b,h.lanes=z,h}function Nl(d,h,M,b){return d=gs(7,d,b,h),d.lanes=M,d}function Wf(d,h,M,b){return d=gs(22,d,b,h),d.elementType=E,d.lanes=M,d.stateNode={},d}function to(d,h,M){return d=gs(6,d,null,h),d.lanes=M,d}function vs(d,h,M){return h=gs(4,d.children!==null?d.children:[],d.key,h),h.lanes=M,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function rA(d,h,M,b,B){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=dt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=b,this.onRecoverableError=B,Be&&(this.mutableSourceEagerHydrationData=null)}function My(d,h,M,b,B,z,ae,xe,Xe){return d=new rA(d,h,M,xe,Xe),h===1?(h=1,z===!0&&(h|=8)):h=0,z=gs(3,null,null,h),d.current=z,z.stateNode=d,z.memoizedState={element:b,isDehydrated:M,cache:null,transitions:null},zm(z),d}function $f(d){if(!d)return xn;d=d._reactInternals;e:{if(F(d)!==d||d.tag!==1)throw Error(s(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(vn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(s(171))}if(d.tag===1){var M=d.type;if(vn(M))return dr(d,M,h)}return h}function dc(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=te(h),d===null?null:d.stateNode}function Sg(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var M=d.retryLane;d.retryLane=M!==0&&M<h?M:h}}function kh(d,h){Sg(d,h),(d=d.alternate)&&Sg(d,h)}function iA(d){return d=te(d),d===null?null:d.stateNode}function wy(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=Qi();ms(d,134217728,h),kh(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Qi(),M=Sa(d);ms(d,M,h),kh(d,M)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var M=bi(h.pendingLanes);M!==0&&(Jr(h,M|1),un(h,Et()),!(Fn&6)&&(uc(),Rt()))}break;case 13:var b=Qi();Wo(function(){return ms(d,1,b)}),kh(d,1)}},t.batchedUpdates=function(d,h){var M=Fn;Fn|=1;try{return d(h)}finally{Fn=M,Fn===0&&(uc(),Y&&Rt())}},t.createComponentSelector=function(d){return{$$typeof:mu,value:d}},t.createContainer=function(d,h,M,b,B,z,ae){return My(d,h,!1,null,M,b,B,z,ae)},t.createHasPseudoClassSelector=function(d){return{$$typeof:Nf,value:d}},t.createHydrationContainer=function(d,h,M,b,B,z,ae,xe,Xe){return d=My(M,b,!0,d,B,z,ae,xe,Xe),d.context=$f(null),M=d.current,b=Qi(),B=Sa(M),z=Ki(b,B),z.callback=h??null,Is(M,z),d.current.lanes=B,Kr(d,B,b),un(d,b),d},t.createPortal=function(d,h,M){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:d,containerInfo:h,implementation:M}},t.createRoleSelector=function(d){return{$$typeof:Go,value:d}},t.createTestNameSelector=function(d){return{$$typeof:gu,value:d}},t.createTextSelector=function(d){return{$$typeof:cc,value:d}},t.deferredUpdates=function(d){var h=_n,M=Rr.transition;try{return Rr.transition=null,_n=16,d()}finally{_n=h,Rr.transition=M}},t.discreteUpdates=function(d,h,M,b,B){var z=_n,ae=Rr.transition;try{return Rr.transition=null,_n=1,d(h,M,b,B)}finally{_n=z,Rr.transition=ae,Fn===0&&uc()}},t.findAllNodes=cg,t.findBoundingRects=function(d,h){if(!Q)throw Error(s(363));h=cg(d,h),d=[];for(var M=0;M<h.length;M++)d.push(ge(h[M]));for(h=d.length-1;0<h;h--){M=d[h];for(var b=M.x,B=b+M.width,z=M.y,ae=z+M.height,xe=h-1;0<=xe;xe--)if(h!==xe){var Xe=d[xe],mt=Xe.x,zt=mt+Xe.width,wn=Xe.y,rn=wn+Xe.height;if(b>=mt&&z>=wn&&B<=zt&&ae<=rn){d.splice(h,1);break}else if(b!==mt||M.width!==Xe.width||rn<z||wn>ae){if(!(z!==wn||M.height!==Xe.height||zt<b||mt>B)){mt>b&&(Xe.width+=mt-b,Xe.x=b),zt<B&&(Xe.width=B-mt),d.splice(h,1);break}}else{wn>z&&(Xe.height+=wn-z,Xe.y=z),rn<ae&&(Xe.height=ae-wn),d.splice(h,1);break}}}return d},t.findHostInstance=dc,t.findHostInstanceWithNoPortals=function(d){return d=G(d),d=d!==null?ie(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return dc(d)},t.flushControlled=function(d){var h=Fn;Fn|=1;var M=Rr.transition,b=_n;try{Rr.transition=null,_n=1,d()}finally{_n=b,Rr.transition=M,Fn=h,Fn===0&&(uc(),Rt())}},t.flushPassiveEffects=Ol,t.flushSync=Wo,t.focusWithin=function(d,h){if(!Q)throw Error(s(363));for(d=Th(d),h=gy(d,h),h=Array.from(h),d=0;d<h.length;){var M=h[d++];if(!Re(M)){if(M.tag===5&&pt(M.stateNode))return!0;for(M=M.child;M!==null;)h.push(M),M=M.sibling}}return!1},t.getCurrentUpdatePriority=function(){return _n},t.getFindAllNodesFailureDescription=function(d,h){if(!Q)throw Error(s(363));var M=0,b=[];d=[Th(d),0];for(var B=0;B<d.length;){var z=d[B++],ae=d[B++],xe=h[ae];if((z.tag!==5||!Re(z))&&(zi(z,xe)&&(b.push(Uf(xe)),ae++,ae>M&&(M=ae)),ae<h.length))for(z=z.child;z!==null;)d.push(z,ae),z=z.sibling}if(M<h.length){for(d=[];M<h.length;M++)d.push(Uf(h[M]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return K(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:iA,findFiberByHostInstance:d.findFiberByHostInstance||wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Uo=h.inject(d),Ri=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,M,b){if(!Q)throw Error(s(363));d=cg(d,h);var B=ct(d,M,b).disconnect;return{disconnect:function(){B()}}},t.registerMutableSourceForHydration=function(d,h){var M=h._getVersion;M=M(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,M]:d.mutableSourceEagerHydrationData.push(h,M)},t.runWithPriority=function(d,h){var M=_n;try{return _n=d,h()}finally{_n=M}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,M,b){var B=h.current,z=Qi(),ae=Sa(B);return M=$f(M),h.context===null?h.context=M:h.pendingContext=M,h=Ki(z,ae),h.payload={element:d},b=b===void 0?null:b,b!==null&&(h.callback=b),Is(B,h),d=ms(B,ae,z),d!==null&&Zc(d,B,ae),ae},t};B3.exports=PJ;var IJ=B3.exports;const BJ=uf(IJ);var L3={exports:{}},O3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,j){var J=N.length;N.push(j);e:for(;0<J;){var re=J-1>>>1,pe=N[re];if(0<i(pe,j))N[re]=j,N[J]=pe,J=re;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],J=N.pop();if(J!==j){N[0]=J;e:for(var re=0,pe=N.length,Me=pe>>>1;re<Me;){var de=2*(re+1)-1,Ce=N[de],De=de+1,Pe=N[De];if(0>i(Ce,J))De<pe&&0>i(Pe,Ce)?(N[re]=Pe,N[De]=J,re=De):(N[re]=Ce,N[de]=J,re=de);else if(De<pe&&0>i(Pe,J))N[re]=Pe,N[De]=J,re=De;else break e}}return j}function i(N,j){var J=N.sortIndex-j.sortIndex;return J!==0?J:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,p=null,m=3,v=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(N){if(S=!1,w(N),!x)if(t(l)!==null)x=!0,K(I);else{var j=t(c);j!==null&&X(E,j.startTime-N)}}function I(N,j){x=!1,S&&(S=!1,y(U),U=-1),v=!0;var J=m;try{for(w(j),p=t(l);p!==null&&(!(p.expirationTime>j)||N&&!G());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var pe=re(p.expirationTime<=j);j=n.unstable_now(),typeof pe=="function"?p.callback=pe:p===t(l)&&r(l),w(j)}else r(l);p=t(l)}if(p!==null)var Me=!0;else{var de=t(c);de!==null&&X(E,de.startTime-j),Me=!1}return Me}finally{p=null,m=J,v=!1}}var P=!1,L=null,U=-1,F=5,O=-1;function G(){return!(n.unstable_now()-O<F)}function te(){if(L!==null){var N=n.unstable_now();O=N;var j=!0;try{j=L(!0,N)}finally{j?Z():(P=!1,L=null)}}else P=!1}var Z;if(typeof A=="function")Z=function(){A(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=te,Z=function(){se.postMessage(null)}}else Z=function(){_(te,0)};function K(N){L=N,P||(P=!0,Z())}function X(N,j){U=_(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,K(I))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var J=m;m=j;try{return N()}finally{m=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=m;m=N;try{return j()}finally{m=J}},n.unstable_scheduleCallback=function(N,j,J){var re=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,N){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=J+pe,N={id:f++,callback:j,priorityLevel:N,startTime:J,expirationTime:pe,sortIndex:-1},J>re?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(S?(y(U),U=-1):S=!0,X(E,J-re))):(N.sortIndex=pe,e(l,N),x||v||(x=!0,K(I))),N},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(N){var j=m;return function(){var J=m;m=j;try{return N.apply(this,arguments)}finally{m=J}}}})(O3);L3.exports=O3;var ZI=L3.exports;const LJ=n=>typeof n=="object"&&typeof n.then=="function",Cd=[];function D3(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function F3(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const o of Cd)if(D3(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!t)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Cd.indexOf(i);o!==-1&&Cd.splice(o,1)},promise:(LJ(n)?n:n(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Cd.push(i),!t)throw i.promise}const OJ=(n,e,t)=>F3(n,e,!1,t),DJ=(n,e,t)=>void F3(n,e,!0,t),FJ=n=>{if(n===void 0||n.length===0)Cd.splice(0,Cd.length);else{const e=Cd.find(t=>D3(n,t.keys,t.equal));e&&e.remove()}},GT={},NJ=n=>void Object.assign(GT,n);function UJ(n,e){function t(f,{args:p=[],attach:m,...v},x){let S=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=v.object;_=Sp(y,{type:f,root:x,attach:m,primitive:!0})}else{const y=GT[S];if(!y)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");_=Sp(new y(...p),{type:f,root:x,attach:m,memoizedProps:{args:p}})}return _.__r3f.attach===void 0&&(_ instanceof Pn?_.__r3f.attach="geometry":_ instanceof Fi&&(_.__r3f.attach="material")),S!=="inject"&&GM(_,v),_}function r(f,p){let m=!1;if(p){var v,x;(v=p.__r3f)!=null&&v.attach?HM(f,p,p.__r3f.attach):p.isObject3D&&f.isObject3D&&(f.add(p),m=!0),m||(x=f.__r3f)==null||x.objects.push(p),p.__r3f||Sp(p,{}),p.__r3f.parent=f,fE(p),Ap(p)}}function i(f,p,m){let v=!1;if(p){var x,S;if((x=p.__r3f)!=null&&x.attach)HM(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){p.parent=f,p.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:p});const _=f.children.filter(A=>A!==p),y=_.indexOf(m);f.children=[..._.slice(0,y),p,..._.slice(y)],v=!0}v||(S=f.__r3f)==null||S.objects.push(p),p.__r3f||Sp(p,{}),p.__r3f.parent=f,fE(p),Ap(p)}}function o(f,p,m=!1){f&&[...f].forEach(v=>s(p,v,m))}function s(f,p,m){if(p){var v,x,S;if(p.__r3f&&(p.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==p)),(x=p.__r3f)!=null&&x.attach)iB(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){var _;f.remove(p),(_=p.__r3f)!=null&&_.root&&XJ(T_(p),p)}const A=(S=p.__r3f)==null?void 0:S.primitive,w=!A&&(m===void 0?p.dispose!==null:m);if(!A){var y;o((y=p.__r3f)==null?void 0:y.objects,p,w),o(p.children,p,w)}if(delete p.__r3f,w&&p.dispose&&p.type!=="Scene"){const E=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?ZI.unstable_scheduleCallback(ZI.unstable_IdlePriority,E):E()}Ap(f)}}function a(f,p,m,v){var x;const S=(x=f.__r3f)==null?void 0:x.parent;if(!S)return;const _=t(p,m,f.__r3f.root);if(f.children){for(const y of f.children)y.__r3f&&r(_,y);f.children=f.children.filter(y=>!y.__r3f)}f.__r3f.objects.forEach(y=>r(_,y)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||s(S,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(S,_),_.raycast&&_.__r3f.eventCount&&T_(_).getState().internal.interaction.push(_),[v,v.alternate].forEach(y=>{y!==null&&(y.stateNode=_,y.ref&&(typeof y.ref=="function"?y.ref(_):y.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:BJ({createInstance:t,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,p)=>{if(!p)return;const m=f.getState().scene;m.__r3f&&(m.__r3f.root=f,r(m,p))},removeChildFromContainer:(f,p)=>{p&&s(f.getState().scene,p)},insertInContainerBefore:(f,p,m)=>{if(!p||!m)return;const v=f.getState().scene;v.__r3f&&i(v,p,m)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var p;return!!((p=f==null?void 0:f.__r3f)!=null?p:{}).handlers},prepareUpdate(f,p,m,v){var x;if(((x=f==null?void 0:f.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:_=[],children:y,...A}=v,{args:w=[],children:E,...I}=m;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((L,U)=>L!==w[U]))return[!0];const P=V3(f,A,I,!0);return P.changes.length?[!1,P]:null}},commitUpdate(f,[p,m],v,x,S,_){p?a(f,v,S,_):GM(f,m)},commitMount(f,p,m,v){var x;const S=(x=f.__r3f)!=null?x:{};f.raycast&&S.handlers&&S.eventCount&&T_(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Sp(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&iB(v,f,m),f.isObject3D&&(f.visible=!1),Ap(f)},unhideInstance(f,p){var m;const{attach:v,parent:x}=(m=f.__r3f)!=null?m:{};v&&x&&HM(x,f,v),(f.isObject3D&&p.visible==null||p.visible)&&(f.visible=!0),Ap(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():zp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Fr.fun(performance.now)?performance.now:Fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:GM}}var eB,tB;const zM=n=>"colorSpace"in n||"outputColorSpace"in n,N3=()=>{var n;return(n=GT.ColorManagement)!=null?n:null},U3=n=>n&&n.isOrthographicCamera,kJ=n=>n&&n.hasOwnProperty("current"),C0=typeof window<"u"&&((eB=window.document)!=null&&eB.createElement||((tB=window.navigator)==null?void 0:tB.product)==="ReactNative")?R.useLayoutEffect:R.useEffect;function k3(n){const e=R.useRef(n);return C0(()=>void(e.current=n),[n]),e}function zJ({set:n}){return C0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class z3 extends R.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}z3.getDerivedStateFromError=()=>({error:!0});const H3="__default",nB=new Map,HJ=n=>n&&!!n.memoized&&!!n.changes;function G3(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const $g=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function T_(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Fr={obj:n=>n===Object(n)&&!Fr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Fr.str(n)||Fr.num(n)||Fr.boo(n))return n===e;const o=Fr.obj(n);if(o&&r==="reference")return n===e;const s=Fr.arr(n);if(s&&t==="reference")return n===e;if((s||o)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Fr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Fr.und(a)){if(s&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function GJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function VJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Sp(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function uE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((o,s)=>o[s],n),{target:t,key:i}}else return{target:t,key:e}}const rB=/-\d+$/;function HM(n,e,t){if(Fr.str(t)){if(rB.test(t)){const o=t.replace(rB,""),{target:s,key:a}=uE(n,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=uE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function iB(n,e,t){var r,i;if(Fr.str(t)){const{target:o,key:s}=uE(n,t),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function V3(n,{children:e,key:t,ref:r,...i},{children:o,key:s,ref:a,...l}={},c=!1){const f=n.__r3f,p=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||p.unshift([x[S],H3+"remove"])}p.forEach(([x,S])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&x==="object"||Fr.equ(S,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,S,!0,[]]);let y=[];x.includes("-")&&(y=x.split("-")),m.push([x,S,!1,y]);for(const A in i){const w=i[A];A.startsWith(`${x}-`)&&m.push([A,w,!1,A.split("-")])}});const v={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}const WJ=typeof process<"u"&&!1;function GM(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:a}=HJ(e)?e:V3(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=s);for(let f=0;f<a.length;f++){let[p,m,v,x]=a[f];if(zM(n)){const A="srgb",w="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?A:w):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?A:w)}let S=n,_=S[p];if(x.length&&(_=x.reduce((y,A)=>y[A],n),!(_&&_.set))){const[y,...A]=x.reverse();S=A.reverse().reduce((w,E)=>w[E],n),p=y}if(m===H3+"remove")if(S.constructor){let y=nB.get(S.constructor);y||(y=new S.constructor,nB.set(S.constructor,y)),m=y[p]}else m=0;if(v&&r)m?r.handlers[p]=m:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Fd)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&(WJ?_.constructor.name===m.constructor.name:_.constructor===m.constructor))_.copy(m);else if(m!==void 0){const y=_ instanceof bt;!y&&_.setScalar?_.setScalar(m):_ instanceof Fd&&m instanceof Fd?_.mask=m.mask:_.set(m),!N3()&&o&&!o.linear&&y&&_.convertSRGBToLinear()}}else if(S[p]=m,S[p]instanceof Ir&&S[p].format===Qo&&S[p].type===ql&&o){const y=S[p];zM(y)&&zM(o.gl)?y.colorSpace=o.gl.outputColorSpace:y.encoding=o.gl.outputEncoding}Ap(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const f=T_(n).getState().internal,p=f.interaction.indexOf(n);p>-1&&f.interaction.splice(p,1),r.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&fE(n),n}function Ap(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function fE(n){n.onUpdate==null||n.onUpdate(n)}function $J(n,e){n.manual||(U3(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Wx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function jJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return zp.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zp.ContinuousEventPriority;default:return zp.DefaultEventPriority}}function W3(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function XJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{W3(t.capturedMap,e,r,i)})}function KJ(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+p*p))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+f]}))}function r(l,c){const f=n.getState(),p=new Set,m=[],v=c?c(f.internal.interaction):f.internal.interaction;for(let y=0;y<v.length;y++){const A=$g(v[y]);A&&(A.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function x(y){const A=$g(y);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var w;A.events.compute==null||A.events.compute(l,A,(w=A.previousRoot)==null?void 0:w.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(y,!0):[]}let S=v.flatMap(x).sort((y,A)=>{const w=$g(y.object),E=$g(A.object);return!w||!E?y.distance-A.distance:E.events.priority-w.events.priority||y.distance-A.distance}).filter(y=>{const A=Wx(y);return p.has(A)?!1:(p.add(A),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const y of S){let A=y.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&m.push({...y,eventObject:A}),A=A.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let y of f.internal.capturedMap.get(l.pointerId).values())p.has(Wx(y.intersection))||m.push(y.intersection);return m}function i(l,c,f,p){const m=n.getState();if(l.length){const v={stopped:!1};for(const x of l){const S=$g(x.object)||m,{raycaster:_,pointer:y,camera:A,internal:w}=S,E=new ee(y.x,y.y,0).unproject(A),I=O=>{var G,te;return(G=(te=w.capturedMap.get(O))==null?void 0:te.has(x.eventObject))!=null?G:!1},P=O=>{const G={intersection:x,target:c.target};w.capturedMap.has(O)?w.capturedMap.get(O).set(x.eventObject,G):w.capturedMap.set(O,new Map([[x.eventObject,G]])),c.target.setPointerCapture(O)},L=O=>{const G=w.capturedMap.get(O);G&&W3(w.capturedMap,x.eventObject,G,O)};let U={};for(let O in c){let G=c[O];typeof G!="function"&&(U[O]=G)}let F={...x,...U,pointer:y,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:E,ray:_.ray,camera:A,stopPropagation(){const O="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!O||O.has(x.eventObject))&&(F.stopped=v.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(G=>G.eventObject===x.eventObject))){const G=l.slice(0,l.indexOf(x));o([...G,x])}},target:{hasPointerCapture:I,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:I,setPointerCapture:P,releasePointerCapture:L},nativeEvent:c};if(p(F),v.stopped===!0)break}}return l}function o(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(p=>p.object===f.object&&p.index===f.index&&p.instanceId===f.instanceId)){const m=f.eventObject.__r3f,v=m==null?void 0:m.handlers;if(c.hovered.delete(Wx(f)),m!=null&&m.eventCount){const x={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function s(l,c){for(let f=0;f<c.length;f++){const p=c[f].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),o([]))})}}return function(f){const{onPointerMissed:p,internal:m}=n.getState();m.lastEvent.current=f;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(f,v?t:void 0),y=x?e(f):0;l==="onPointerDown"&&(m.initialClick=[f.offsetX,f.offsetY],m.initialHits=_.map(w=>w.eventObject)),x&&!_.length&&y<=2&&(s(f,m.interaction),p&&p(f)),v&&o(_);function A(w){const E=w.eventObject,I=E.__r3f,P=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(v){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=Wx(w),U=m.hovered.get(L);U?U.stopped&&w.stopPropagation():(m.hovered.set(L,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const L=P[l];L?(!x||m.initialHits.includes(E))&&(s(f,m.interaction.filter(U=>!m.initialHits.includes(U))),L(w)):x&&m.initialHits.includes(E)&&s(f,m.interaction.filter(U=>!m.initialHits.includes(U)))}}i(_,f,y,A)}}return{handlePointer:a}}const $3=n=>!!(n!=null&&n.render),j3=R.createContext(null),JJ=(n,e)=>{const t=I3((a,l)=>{const c=new ee,f=new ee,p=new ee;function m(y=l().camera,A=f,w=l().size){const{width:E,height:I,top:P,left:L}=w,U=E/I;A instanceof ee?p.copy(A):p.set(...A);const F=y.getWorldPosition(c).distanceTo(p);if(U3(y))return{width:E/y.zoom,height:I/y.zoom,top:P,left:L,factor:1,distance:F,aspect:U};{const O=y.fov*Math.PI/180,G=2*Math.tan(O/2)*F,te=G*(E/I);return{width:te,height:G,top:P,left:L,factor:E/te,distance:F,aspect:U}}}let v;const x=y=>a(A=>({performance:{...A.performance,current:y}})),S=new Ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>n(l(),y),advance:(y,A)=>e(y,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UT,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();v&&clearTimeout(v),y.performance.current!==y.performance.min&&x(y.performance.min),v=setTimeout(()=>x(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:y=>a(A=>({...A,events:{...A.events,...y}})),setSize:(y,A,w,E,I)=>{const P=l().camera,L={width:y,height:A,top:E||0,left:I||0,updateStyle:w};a(U=>({size:L,viewport:{...U.viewport,...m(P,f,L)}}))},setDpr:y=>a(A=>{const w=G3(y);return{viewport:{...A.viewport,dpr:w,initialDpr:A.viewport.initialDpr||w}}}),setFrameloop:(y="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,y!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:R.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,A,w)=>{const E=l().internal;return E.priority=E.priority+(A>0?1:0),E.subscribers.push({ref:y,priority:A,store:w}),E.subscribers=E.subscribers.sort((I,P)=>I.priority-P.priority),()=>{const I=l().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(A>0?1:0),I.subscribers=I.subscribers.filter(P=>P.ref!==y))}}}}}),r=t.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:p}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var m;i=l,o=c.dpr,$J(a,l),f.setPixelRatio(c.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}a!==s&&(s=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let $x,YJ=new Set,qJ=new Set,QJ=new Set;function VM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function jg(n,e){switch(n){case"before":return VM(YJ,e);case"after":return VM(qJ,e);case"tail":return VM(QJ,e)}}let WM,$M;function jM(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),WM=e.internal.subscribers,$x=0;$x<WM.length;$x++)$M=WM[$x],$M.ref.current($M.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ZJ(n){let e=!1,t=!1,r,i,o;function s(c){i=requestAnimationFrame(s),e=!0,r=0,jg("before",c),t=!0;for(const p of n.values()){var f;o=p.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((f=o.gl.xr)!=null&&f.isPresenting)&&(r+=jM(c,o))}if(t=!1,jg("after",c),r===0)return jg("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,f=1){var p;if(!c)return n.forEach(m=>a(m.store.getState(),f));(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function l(c,f=!0,p,m){if(f&&jg("before",c),p)jM(c,p,m);else for(const v of n.values())jM(c,v.store.getState());f&&jg("after",c)}return{loop:s,invalidate:a,advance:l}}function X3(){const n=R.useContext(j3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ll(n=t=>t,e){return X3()(n,e)}function os(n,e=0){const t=X3(),r=t.getState().internal.subscribe,i=k3(n);return C0(()=>r(i,e,t),[e,r,t]),null}const oB=new WeakMap;function K3(n,e){return function(t,...r){let i=oB.get(t);return i||(i=new t,oB.set(t,i)),n&&n(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,l=>{l.scene&&Object.assign(l,GJ(l.scene)),s(l)},e,l=>a(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`))))))}}function vf(n,e,t,r){const i=Array.isArray(e)?e:[e],o=OJ(K3(t,r),[n,...i],{equal:Fr.equ});return Array.isArray(e)?o:o[0]}vf.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return DJ(K3(t),[n,...r])};vf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return FJ([n,...t])};const gm=new Map,{invalidate:sB,advance:aB}=ZJ(gm),{reconciler:vS,applyProps:hp}=UJ(gm,jJ),pp={objects:"shallow",strict:!1},eY=(n,e)=>{const t=typeof n=="function"?n(e):n;return $3(t)?t:new GN({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function tY(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=t}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:o,left:s}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function nY(n){const e=gm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||JJ(sB,aB),s=t||vS.createContainer(o,zp.ConcurrentRoot,null,!1,null,"",i,null);e||gm.set(n,{fiber:s,store:o});let a,l=!1,c;return{configure(f={}){let{gl:p,size:m,scene:v,events:x,onCreated:S,shadows:_=!1,linear:y=!1,flat:A=!1,legacy:w=!1,orthographic:E=!1,frameloop:I="always",dpr:P=[1,2],performance:L,raycaster:U,camera:F,onPointerMissed:O}=f,G=o.getState(),te=G.gl;G.gl||G.set({gl:te=eY(p,n)});let Z=G.raycaster;Z||G.set({raycaster:Z=new T3});const{params:ie,...se}=U||{};if(Fr.equ(se,Z,pp)||hp(Z,{...se}),Fr.equ(ie,Z.params,pp)||hp(Z,{params:{...Z.params,...ie}}),!G.camera||G.camera===c&&!Fr.equ(c,F,pp)){c=F;const J=F instanceof v0,re=J?F:E?new Wl(0,0,0,0,.1,1e3):new ti(75,0,.1,1e3);J||(re.position.z=5,F&&(hp(re,F),("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(re.manual=!0,re.updateProjectionMatrix())),!G.camera&&!(F!=null&&F.rotation)&&re.lookAt(0,0,0)),G.set({camera:re}),Z.camera=re}if(!G.scene){let J;v instanceof dS?J=v:(J=new dS,v&&hp(J,v)),G.set({scene:Sp(J)})}if(!G.xr){var K;const J=(Me,de)=>{const Ce=o.getState();Ce.frameloop!=="never"&&aB(Me,!0,Ce,de)},re=()=>{const Me=o.getState();Me.gl.xr.enabled=Me.gl.xr.isPresenting,Me.gl.xr.setAnimationLoop(Me.gl.xr.isPresenting?J:null),Me.gl.xr.isPresenting||sB(Me)},pe={connect(){const Me=o.getState().gl;Me.xr.addEventListener("sessionstart",re),Me.xr.addEventListener("sessionend",re)},disconnect(){const Me=o.getState().gl;Me.xr.removeEventListener("sessionstart",re),Me.xr.removeEventListener("sessionend",re)}};typeof((K=te.xr)==null?void 0:K.addEventListener)=="function"&&pe.connect(),G.set({xr:pe})}if(te.shadowMap){const J=te.shadowMap.enabled,re=te.shadowMap.type;if(te.shadowMap.enabled=!!_,Fr.boo(_))te.shadowMap.type=pv;else if(Fr.str(_)){var X;const pe={basic:_F,percentage:QS,soft:pv,variance:al};te.shadowMap.type=(X=pe[_])!=null?X:pv}else Fr.obj(_)&&Object.assign(te.shadowMap,_);(J!==te.shadowMap.enabled||re!==te.shadowMap.type)&&(te.shadowMap.needsUpdate=!0)}const N=N3();N&&("enabled"in N?N.enabled=!w:"legacyMode"in N&&(N.legacyMode=w)),l||hp(te,{outputEncoding:y?3e3:3001,toneMapping:A?Kl:qb}),G.legacy!==w&&G.set(()=>({legacy:w})),G.linear!==y&&G.set(()=>({linear:y})),G.flat!==A&&G.set(()=>({flat:A})),p&&!Fr.fun(p)&&!$3(p)&&!Fr.equ(p,te,pp)&&hp(te,p),x&&!G.events.handlers&&G.set({events:x(o)});const j=tY(n,m);return Fr.equ(j,G.size,pp)||G.setSize(j.width,j.height,j.updateStyle,j.top,j.left),P&&G.viewport.dpr!==G3(P)&&G.setDpr(P),G.frameloop!==I&&G.setFrameloop(I),G.onPointerMissed||G.set({onPointerMissed:O}),L&&!Fr.equ(L,G.performance,pp)&&G.set(J=>({performance:{...J.performance,...L}})),a=S,l=!0,this},render(f){return l||this.configure(),vS.updateContainer(Le.jsx(rY,{store:o,children:f,onCreated:a,rootElement:n}),s,null,()=>{}),o},unmount(){J3(n)}}}function rY({store:n,children:e,onCreated:t,rootElement:r}){return C0(()=>{const i=n.getState();i.set(o=>({internal:{...o.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Le.jsx(j3.Provider,{value:n,children:e})}function J3(n,e){const t=gm.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),vS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),VJ(i),gm.delete(n)}catch{}},500)})}}vS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version});function dE(n,e,t){var r,i,o,s,a;e==null&&(e=100);function l(){var f=Date.now()-s;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,t||(a=n.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var f=t&&!r;return r||(r=setTimeout(l,e)),f&&(a=n.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}dE.debounce=dE;var iY=dE;const lB=uf(iY);function oY(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,p=R.useRef(!1);R.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[m,v,x]=R.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:w,top:E,width:I,height:P,bottom:L,right:U,x:F,y:O}=l.current.element.getBoundingClientRect(),G={left:w,top:E,width:I,height:P,bottom:L,right:U,x:F,y:O};l.current.element instanceof HTMLElement&&i&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),p.current&&!cY(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[A,f?lB(A,f):A,c?lB(A,c):A]},[a,i,c,f]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new o(x),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",x,{capture:!0,passive:!0})))}const y=A=>{!A||A===l.current.element||(S(),l.current.element=A,l.current.scrollContainers=Y3(A),_())};return aY(x,!!t),sY(v),R.useEffect(()=>{S(),_()},[t,x,v]),R.useEffect(()=>S,[]),[y,s,m]}function sY(n){R.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function aY(n,e){R.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Y3(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...Y3(n.parentElement)]}const lY=["x","y","top","bottom","left","right","width","height"],cY=(n,e)=>lY.every(t=>n[t]===e[t]);var uY=Object.defineProperty,fY=Object.defineProperties,dY=Object.getOwnPropertyDescriptors,cB=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,pY=Object.prototype.propertyIsEnumerable,uB=(n,e,t)=>e in n?uY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fB=(n,e)=>{for(var t in e||(e={}))hY.call(e,t)&&uB(n,t,e[t]);if(cB)for(var t of cB(e))pY.call(e,t)&&uB(n,t,e[t]);return n},mY=(n,e)=>fY(n,dY(e));function q3(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=q3(r,e,t);if(i)return i;r=r.sibling}}function Q3(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const VT=Q3(R.createContext(null));class Z3 extends R.Component{render(){return R.createElement(VT.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:dB,ReactCurrentDispatcher:hB}=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function gY(){const n=R.useContext(VT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{var r;return(r=dB==null?void 0:dB.current)!=null?r:q3(n,!1,i=>{let o=i.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}})},[n,e])}function vY(){var n,e;const t=gY(),[r]=R.useState(()=>new Map);r.clear();let i=t;for(;i;){const o=(n=i.type)==null?void 0:n._context;o&&o!==VT&&!r.has(o)&&r.set(o,(e=hB==null?void 0:hB.current)==null?void 0:e.readContext(Q3(o))),i=i.return}return r}function yY(){const n=vY();return R.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>R.createElement(e,null,R.createElement(t.Provider,mY(fB({},r),{value:n.get(t)}))),e=>R.createElement(Z3,fB({},e))),[n])}const XM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xY(n){const{handlePointer:e}=KJ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(XM).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:o}=n.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:t}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[l,c]=XM[s];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=XM[o];r.connected.removeEventListener(a,s)}}),t(o=>({events:{...o.events,connected:void 0}}))}}}}const _Y=R.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:o,events:s=xY,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:p,legacy:m,orthographic:v,frameloop:x,dpr:S,performance:_,raycaster:y,camera:A,scene:w,onPointerMissed:E,onCreated:I,...P},L){R.useMemo(()=>NJ(CJ),[]);const U=yY(),[F,O]=oY({scroll:!0,debounce:{scroll:50,resize:0},...r}),G=R.useRef(null),te=R.useRef(null);R.useImperativeHandle(L,()=>G.current);const Z=k3(E),[ie,se]=R.useState(!1),[K,X]=R.useState(!1);if(ie)throw ie;if(K)throw K;const N=R.useRef(null);C0(()=>{const J=G.current;O.width>0&&O.height>0&&J&&(N.current||(N.current=nY(J)),N.current.configure({gl:o,events:s,shadows:c,linear:f,flat:p,legacy:m,orthographic:v,frameloop:x,dpr:S,performance:_,raycaster:y,camera:A,scene:w,size:O,onPointerMissed:(...re)=>Z.current==null?void 0:Z.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(a?kJ(a)?a.current:a:te.current),l&&re.setEvents({compute:(pe,Me)=>{const de=pe[l+"X"],Ce=pe[l+"Y"];Me.pointer.set(de/Me.size.width*2-1,-(Ce/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),I==null||I(re)}}),N.current.render(Le.jsx(U,{children:Le.jsx(z3,{set:X,children:Le.jsx(R.Suspense,{fallback:Le.jsx(zJ,{set:se}),children:e})})})))}),R.useEffect(()=>{const J=G.current;if(J)return()=>J3(J)},[]);const j=a?"none":"auto";return Le.jsx("div",{ref:te,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...P,children:Le.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:Le.jsx("canvas",{ref:G,style:{display:"block"},children:t})})})}),SY=R.forwardRef(function(e,t){return Le.jsx(Z3,{children:Le.jsx(_Y,{...e,ref:t})})});function Pr(){return Pr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pr.apply(null,arguments)}let Xg=0;const eU=I3(n=>(kp.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Xg)/(r-Xg)*100})},kp.onLoad=()=>{n({active:!1})},kp.onError=e=>n(t=>({errors:[...t.errors,e]})),kp.onProgress=(e,t,r)=>{t===r&&(Xg=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Xg)/(r-Xg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function pB(n,e){if(e===hN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===fS||e===sT){let t=n.getIndex();if(t===null){const s=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===fS)for(let s=1;s<=r;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const AY=parseInt(Tm.replace(/\D+/g,""));var MY=Object.defineProperty,wY=(n,e,t)=>e in n?MY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Sn=(n,e,t)=>(wY(n,typeof e!="symbol"?e+"":e,t),t);const jx=new sh,mB=new Tc,CY=Math.cos(70*(Math.PI/180)),gB=(n,e)=>(n%e+e)%e;let EY=class extends Zl{constructor(e,t){super(),Sn(this,"object"),Sn(this,"domElement"),Sn(this,"enabled",!0),Sn(this,"target",new ee),Sn(this,"minDistance",0),Sn(this,"maxDistance",1/0),Sn(this,"minZoom",0),Sn(this,"maxZoom",1/0),Sn(this,"minPolarAngle",0),Sn(this,"maxPolarAngle",Math.PI),Sn(this,"minAzimuthAngle",-1/0),Sn(this,"maxAzimuthAngle",1/0),Sn(this,"enableDamping",!1),Sn(this,"dampingFactor",.05),Sn(this,"enableZoom",!0),Sn(this,"zoomSpeed",1),Sn(this,"enableRotate",!0),Sn(this,"rotateSpeed",1),Sn(this,"enablePan",!0),Sn(this,"panSpeed",1),Sn(this,"screenSpacePanning",!0),Sn(this,"keyPanSpeed",7),Sn(this,"zoomToCursor",!1),Sn(this,"autoRotate",!1),Sn(this,"autoRotateSpeed",2),Sn(this,"reverseOrbit",!1),Sn(this,"reverseHorizontalOrbit",!1),Sn(this,"reverseVerticalOrbit",!1),Sn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Sn(this,"mouseButtons",{LEFT:ud.ROTATE,MIDDLE:ud.DOLLY,RIGHT:ud.PAN}),Sn(this,"touches",{ONE:fd.ROTATE,TWO:fd.DOLLY_PAN}),Sn(this,"target0"),Sn(this,"position0"),Sn(this,"zoom0"),Sn(this,"_domElementKeyEvents",null),Sn(this,"getPolarAngle"),Sn(this,"getAzimuthalAngle"),Sn(this,"setPolarAngle"),Sn(this,"setAzimuthalAngle"),Sn(this,"getDistance"),Sn(this,"listenToKeyEvents"),Sn(this,"stopListenToKeyEvents"),Sn(this,"saveState"),Sn(this,"reset"),Sn(this,"update"),Sn(this,"connect"),Sn(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=he=>{let Ge=gB(he,2*Math.PI),ut=f.phi;ut<0&&(ut+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let le=Math.abs(Ge-ut);2*Math.PI-le<le&&(Ge<ut?Ge+=2*Math.PI:ut+=2*Math.PI),p.phi=Ge-ut,r.update()},this.setAzimuthalAngle=he=>{let Ge=gB(he,2*Math.PI),ut=f.theta;ut<0&&(ut+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let le=Math.abs(Ge-ut);2*Math.PI-le<le&&(Ge<ut?Ge+=2*Math.PI:ut+=2*Math.PI),p.theta=Ge-ut,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",ct),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ct),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new ee,Ge=new ee(0,1,0),ut=new uo().setFromUnitVectors(e.up,Ge),le=ut.clone().invert(),Ze=new ee,Oe=new uo,je=2*Math.PI;return function(){const xt=r.object.position;ut.setFromUnitVectors(e.up,Ge),le.copy(ut).invert(),he.copy(xt).sub(r.target),he.applyQuaternion(ut),f.setFromVector3(he),r.autoRotate&&l===a.NONE&&ie(te()),r.enableDamping?(f.theta+=p.theta*r.dampingFactor,f.phi+=p.phi*r.dampingFactor):(f.theta+=p.theta,f.phi+=p.phi);let wt=r.minAzimuthAngle,St=r.maxAzimuthAngle;isFinite(wt)&&isFinite(St)&&(wt<-Math.PI?wt+=je:wt>Math.PI&&(wt-=je),St<-Math.PI?St+=je:St>Math.PI&&(St-=je),wt<=St?f.theta=Math.max(wt,Math.min(St,f.theta)):f.theta=f.theta>(wt+St)/2?Math.max(wt,f.theta):Math.min(St,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&F||r.object.isOrthographicCamera?f.radius=pe(f.radius):f.radius=pe(f.radius*m),he.setFromSpherical(f),he.applyQuaternion(le),xt.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let en=!1;if(r.zoomToCursor&&F){let on=null;if(r.object instanceof ti&&r.object.isPerspectiveCamera){const nn=he.length();on=pe(nn*m);const Kt=nn-on;r.object.position.addScaledVector(L,Kt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const nn=new ee(U.x,U.y,0);nn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),en=!0;const Kt=new ee(U.x,U.y,0);Kt.unproject(r.object),r.object.position.sub(Kt).add(nn),r.object.updateMatrixWorld(),on=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;on!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(on).add(r.object.position):(jx.origin.copy(r.object.position),jx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(jx.direction))<CY?e.lookAt(r.target):(mB.setFromNormalAndCoplanarPoint(r.object.up,r.target),jx.intersectPlane(mB,r.target))))}else r.object instanceof Wl&&r.object.isOrthographicCamera&&(en=m!==1,en&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,F=!1,en||Ze.distanceToSquared(r.object.position)>c||8*(1-Oe.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ze.copy(r.object.position),Oe.copy(r.object.quaternion),en=!1,!0):!1}})(),this.connect=he=>{he===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Qe),r.domElement.addEventListener("pointerdown",V),r.domElement.addEventListener("pointercancel",Ae),r.domElement.addEventListener("wheel",pt)},this.dispose=()=>{var he,Ge,ut,le,Ze,Oe;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",Qe),(Ge=r.domElement)==null||Ge.removeEventListener("pointerdown",V),(ut=r.domElement)==null||ut.removeEventListener("pointercancel",Ae),(le=r.domElement)==null||le.removeEventListener("wheel",pt),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",ge),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",Ae),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ct)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new gS,p=new gS;let m=1;const v=new ee,x=new Ye,S=new Ye,_=new Ye,y=new Ye,A=new Ye,w=new Ye,E=new Ye,I=new Ye,P=new Ye,L=new ee,U=new Ye;let F=!1;const O=[],G={};function te(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Z(){return Math.pow(.95,r.zoomSpeed)}function ie(he){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=he:p.theta-=he}function se(he){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=he:p.phi-=he}const K=(()=>{const he=new ee;return function(ut,le){he.setFromMatrixColumn(le,0),he.multiplyScalar(-ut),v.add(he)}})(),X=(()=>{const he=new ee;return function(ut,le){r.screenSpacePanning===!0?he.setFromMatrixColumn(le,1):(he.setFromMatrixColumn(le,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(ut),v.add(he)}})(),N=(()=>{const he=new ee;return function(ut,le){const Ze=r.domElement;if(Ze&&r.object instanceof ti&&r.object.isPerspectiveCamera){const Oe=r.object.position;he.copy(Oe).sub(r.target);let je=he.length();je*=Math.tan(r.object.fov/2*Math.PI/180),K(2*ut*je/Ze.clientHeight,r.object.matrix),X(2*le*je/Ze.clientHeight,r.object.matrix)}else Ze&&r.object instanceof Wl&&r.object.isOrthographicCamera?(K(ut*(r.object.right-r.object.left)/r.object.zoom/Ze.clientWidth,r.object.matrix),X(le*(r.object.top-r.object.bottom)/r.object.zoom/Ze.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(he){r.object instanceof ti&&r.object.isPerspectiveCamera||r.object instanceof Wl&&r.object.isOrthographicCamera?m/=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(he){r.object instanceof ti&&r.object.isPerspectiveCamera||r.object instanceof Wl&&r.object.isOrthographicCamera?m*=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function re(he){if(!r.zoomToCursor||!r.domElement)return;F=!0;const Ge=r.domElement.getBoundingClientRect(),ut=he.clientX-Ge.left,le=he.clientY-Ge.top,Ze=Ge.width,Oe=Ge.height;U.x=ut/Ze*2-1,U.y=-(le/Oe)*2+1,L.set(U.x,U.y,1).unproject(r.object).sub(r.object.position).normalize()}function pe(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function Me(he){x.set(he.clientX,he.clientY)}function de(he){re(he),E.set(he.clientX,he.clientY)}function Ce(he){y.set(he.clientX,he.clientY)}function De(he){S.set(he.clientX,he.clientY),_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(ie(2*Math.PI*_.x/Ge.clientHeight),se(2*Math.PI*_.y/Ge.clientHeight)),x.copy(S),r.update()}function Pe(he){I.set(he.clientX,he.clientY),P.subVectors(I,E),P.y>0?j(Z()):P.y<0&&J(Z()),E.copy(I),r.update()}function lt(he){A.set(he.clientX,he.clientY),w.subVectors(A,y).multiplyScalar(r.panSpeed),N(w.x,w.y),y.copy(A),r.update()}function dt(he){re(he),he.deltaY<0?J(Z()):he.deltaY>0&&j(Z()),r.update()}function ht(he){let Ge=!1;switch(he.code){case r.keys.UP:N(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(he.preventDefault(),r.update())}function oe(){if(O.length==1)x.set(O[0].pageX,O[0].pageY);else{const he=.5*(O[0].pageX+O[1].pageX),Ge=.5*(O[0].pageY+O[1].pageY);x.set(he,Ge)}}function Ne(){if(O.length==1)y.set(O[0].pageX,O[0].pageY);else{const he=.5*(O[0].pageX+O[1].pageX),Ge=.5*(O[0].pageY+O[1].pageY);y.set(he,Ge)}}function Be(){const he=O[0].pageX-O[1].pageX,Ge=O[0].pageY-O[1].pageY,ut=Math.sqrt(he*he+Ge*Ge);E.set(0,ut)}function He(){r.enableZoom&&Be(),r.enablePan&&Ne()}function Fe(){r.enableZoom&&Be(),r.enableRotate&&oe()}function Ve(he){if(O.length==1)S.set(he.pageX,he.pageY);else{const ut=ft(he),le=.5*(he.pageX+ut.x),Ze=.5*(he.pageY+ut.y);S.set(le,Ze)}_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(ie(2*Math.PI*_.x/Ge.clientHeight),se(2*Math.PI*_.y/Ge.clientHeight)),x.copy(S)}function Ke(he){if(O.length==1)A.set(he.pageX,he.pageY);else{const Ge=ft(he),ut=.5*(he.pageX+Ge.x),le=.5*(he.pageY+Ge.y);A.set(ut,le)}w.subVectors(A,y).multiplyScalar(r.panSpeed),N(w.x,w.y),y.copy(A)}function qe(he){const Ge=ft(he),ut=he.pageX-Ge.x,le=he.pageY-Ge.y,Ze=Math.sqrt(ut*ut+le*le);I.set(0,Ze),P.set(0,Math.pow(I.y/E.y,r.zoomSpeed)),j(P.y),E.copy(I)}function rt(he){r.enableZoom&&qe(he),r.enablePan&&Ke(he)}function Q(he){r.enableZoom&&qe(he),r.enableRotate&&Ve(he)}function V(he){var Ge,ut;r.enabled!==!1&&(O.length===0&&((Ge=r.domElement)==null||Ge.ownerDocument.addEventListener("pointermove",ge),(ut=r.domElement)==null||ut.ownerDocument.addEventListener("pointerup",Ae)),vt(he),he.pointerType==="touch"?st(he):Re(he))}function ge(he){r.enabled!==!1&&(he.pointerType==="touch"?kt(he):ze(he))}function Ae(he){var Ge,ut,le;Vt(he),O.length===0&&((Ge=r.domElement)==null||Ge.releasePointerCapture(he.pointerId),(ut=r.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",ge),(le=r.domElement)==null||le.ownerDocument.removeEventListener("pointerup",Ae)),r.dispatchEvent(s),l=a.NONE}function Re(he){let Ge;switch(he.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case ud.DOLLY:if(r.enableZoom===!1)return;de(he),l=a.DOLLY;break;case ud.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;Ce(he),l=a.PAN}else{if(r.enableRotate===!1)return;Me(he),l=a.ROTATE}break;case ud.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;Me(he),l=a.ROTATE}else{if(r.enablePan===!1)return;Ce(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function ze(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;De(he);break;case a.DOLLY:if(r.enableZoom===!1)return;Pe(he);break;case a.PAN:if(r.enablePan===!1)return;lt(he);break}}function pt(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(o),dt(he),r.dispatchEvent(s))}function ct(he){r.enabled===!1||r.enablePan===!1||ht(he)}function st(he){switch(It(he),O.length){case 1:switch(r.touches.ONE){case fd.ROTATE:if(r.enableRotate===!1)return;oe(),l=a.TOUCH_ROTATE;break;case fd.PAN:if(r.enablePan===!1)return;Ne(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case fd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;He(),l=a.TOUCH_DOLLY_PAN;break;case fd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function kt(he){switch(It(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ve(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ke(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;rt(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Q(he),r.update();break;default:l=a.NONE}}function Qe(he){r.enabled!==!1&&he.preventDefault()}function vt(he){O.push(he)}function Vt(he){delete G[he.pointerId];for(let Ge=0;Ge<O.length;Ge++)if(O[Ge].pointerId==he.pointerId){O.splice(Ge,1);return}}function It(he){let Ge=G[he.pointerId];Ge===void 0&&(Ge=new Ye,G[he.pointerId]=Ge),Ge.set(he.pageX,he.pageY)}function ft(he){const Ge=he.pointerId===O[0].pointerId?O[1]:O[0];return G[Ge.pointerId]}t!==void 0&&this.connect(t),this.update()}};function yS(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Ed="srgb",zc="srgb-linear",vB=3001,bY=3e3;class WT extends Oo{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new BY(t)}),this.register(function(t){return new LY(t)}),this.register(function(t){return new GY(t)}),this.register(function(t){return new VY(t)}),this.register(function(t){return new WY(t)}),this.register(function(t){return new DY(t)}),this.register(function(t){return new FY(t)}),this.register(function(t){return new NY(t)}),this.register(function(t){return new UY(t)}),this.register(function(t){return new IY(t)}),this.register(function(t){return new kY(t)}),this.register(function(t){return new OY(t)}),this.register(function(t){return new HY(t)}),this.register(function(t){return new zY(t)}),this.register(function(t){return new RY(t)}),this.register(function(t){return new $Y(t)}),this.register(function(t){return new jY(t)})}load(e,t,r,i){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=nf.extractUrlBase(e);s=nf.resolveURL(c,this.path)}else s=nf.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new ca(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,s,function(f){t(f),o.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let o;const s={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(yS(new Uint8Array(e.slice(0,4)))===tU){try{s[Kn.KHR_BINARY_GLTF]=new XY(e)}catch(f){i&&i(f);return}o=JSON.parse(s[Kn.KHR_BINARY_GLTF].content)}else o=JSON.parse(yS(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new sq(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,s[f.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const f=o.extensionsUsed[c],p=o.extensionsRequired||[];switch(f){case Kn.KHR_MATERIALS_UNLIT:s[f]=new PY;break;case Kn.KHR_DRACO_MESH_COMPRESSION:s[f]=new KY(o,this.dracoLoader);break;case Kn.KHR_TEXTURE_TRANSFORM:s[f]=new JY;break;case Kn.KHR_MESH_QUANTIZATION:s[f]=new YY;break;default:p.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,o){r.parse(e,t,i,o)})}}function TY(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Kn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class RY{constructor(e){this.parser=e,this.name=Kn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const o=t.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const f=new bt(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],zc);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new FT(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new DT(f),c.distance=p;break;case"spot":c=new OT(f),c.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ec(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class PY{constructor(){this.name=Kn.KHR_MATERIALS_UNLIT}getMaterialType(){return ra}extendParams(e,t,r){const i=[];e.color=new bt(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],zc),e.opacity=s[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,Ed))}return Promise.all(i)}}class IY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class BY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ye(a,a)}return Promise.all(o)}}class LY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class OY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class DY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new bt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const a=s.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],zc)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Ed)),s.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class FY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class NY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new bt().setRGB(a[0],a[1],a[2],zc),Promise.all(o)}}class UY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class kY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new bt().setRGB(a[0],a[1],a[2],zc),s.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,Ed)),Promise.all(o)}}class zY{constructor(e){this.parser=e,this.name=Kn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(o)}}class HY{constructor(e){this.parser=e,this.name=Kn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ga}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class GY{constructor(e){this.parser=e,this.name=Kn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class VY{constructor(e){this.parser=e,this.name=Kn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class WY{constructor(e){this.parser=e,this.name=Kn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $Y{constructor(e){this.name=Kn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,f=i.count,p=i.byteStride,m=new Uint8Array(a,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(f,p,m,i.mode,i.filter).then(function(v){return v.buffer}):s.ready.then(function(){const v=new ArrayBuffer(f*p);return s.decodeGltfBuffer(new Uint8Array(v),f,p,m,i.mode,i.filter),v})})}else return null}}class jY{constructor(e){this.name=Kn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Pa.TRIANGLES&&c.mode!==Pa.TRIANGLE_STRIP&&c.mode!==Pa.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=r.extensions[this.name].attributes,a=[],l={};for(const c in s)a.push(this.parser.getDependency("accessor",s[c]).then(f=>(l[c]=f,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const f=c.pop(),p=f.isGroup?f.children:[f],m=c[0].count,v=[];for(const x of p){const S=new an,_=new ee,y=new uo,A=new ee(1,1,1),w=new _T(x.geometry,x.material,m);for(let E=0;E<m;E++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,E),l.SCALE&&A.fromBufferAttribute(l.SCALE,E),w.setMatrixAt(E,S.compose(_,y,A));for(const E in l)if(E==="_COLOR_0"){const I=l[E];w.instanceColor=new Jd(I.array,I.itemSize,I.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&x.geometry.setAttribute(E,l[E]);or.prototype.copy.call(w,x),this.parser.assignFinalMaterial(w),v.push(w)}return f.isGroup?(f.clear(),f.add(...v),f):v[0]}))}}const tU="glTF",Kg=12,yB={JSON:1313821514,BIN:5130562};class XY{constructor(e){this.name=Kn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Kg);if(this.header={magic:yS(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==tU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Kg,i=new DataView(e,Kg);let o=0;for(;o<r;){const s=i.getUint32(o,!0);o+=4;const a=i.getUint32(o,!0);if(o+=4,a===yB.JSON){const l=new Uint8Array(e,Kg+o,s);this.content=yS(l)}else if(a===yB.BIN){const l=Kg+o;this.body=e.slice(l,l+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class KY{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Kn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const f in s){const p=hE[f]||f.toLowerCase();a[p]=s[f]}for(const f in e.attributes){const p=hE[f]||f.toLowerCase();if(s[f]!==void 0){const m=r.accessors[e.attributes[f]],v=Zp[m.componentType];c[p]=v.name,l[p]=m.normalized===!0}}return t.getDependency("bufferView",o).then(function(f){return new Promise(function(p,m){i.decodeDracoFile(f,function(v){for(const x in v.attributes){const S=v.attributes[x],_=l[x];_!==void 0&&(S.normalized=_)}p(v)},a,c,zc,m)})})}}class JY{constructor(){this.name=Kn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class YY{constructor(){this.name=Kn.KHR_MESH_QUANTIZATION}}class nU extends Bm{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let s=0;s!==i;s++)t[s]=r[o+s];return t}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,f=i-t,p=(r-t)/f,m=p*p,v=m*p,x=e*c,S=x-c,_=-2*v+3*m,y=v-m,A=1-_,w=y-m+p;for(let E=0;E!==a;E++){const I=s[S+E+a],P=s[S+E+l]*f,L=s[x+E+a],U=s[x+E]*f;o[E]=A*I+w*P+_*L+y*U}return o}}const qY=new uo;class QY extends nU{interpolate_(e,t,r,i){const o=super.interpolate_(e,t,r,i);return qY.fromArray(o).normalize().toArray(o),o}}const Pa={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Zp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},xB={9728:Vi,9729:pi,9984:e1,9985:qp,9986:_d,9987:Da},_B={33071:ta,33648:um,10497:af},KM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...AY>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ou={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ZY={CUBICSPLINE:void 0,LINEAR:dm,STEP:fm},JM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function eq(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new M0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Yl})),n.DefaultMaterial}function ad(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ec(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function tq(n,e,t){let r=!1,i=!1,o=!1;for(let c=0,f=e.length;c<f;c++){const p=e[c];if(p.POSITION!==void 0&&(r=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(n);const s=[],a=[],l=[];for(let c=0,f=e.length;c<f;c++){const p=e[c];if(r){const m=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):n.attributes.position;s.push(m)}if(i){const m=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):n.attributes.normal;a.push(m)}if(o){const m=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):n.attributes.color;l.push(m)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(c){const f=c[0],p=c[1],m=c[2];return r&&(n.morphAttributes.position=f),i&&(n.morphAttributes.normal=p),o&&(n.morphAttributes.color=m),n.morphTargetsRelative=!0,n})}function nq(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function rq(n){let e;const t=n.extensions&&n.extensions[Kn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+YM(t.attributes):e=n.indices+":"+YM(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+YM(n.targets[r]);return e}function YM(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function pE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function iq(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const oq=new an;class sq{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new TY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new w0(this.options.manager):this.textureLoader=new w3(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ca(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};return ad(o,a,i),Ec(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=t.length;i<o;i++){const s=t[i].joints;for(let a=0,l=s.length;a<l;a++)e[s[a]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),o=(s,a)=>{const l=this.associations.get(s);l!=null&&this.associations.set(a,l);for(const[c,f]of s.children.entries())o(f,a.children[c])};return o(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const o=e(t[i]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(o,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Kn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,s){r.load(nf.resolveURL(t.uri,i.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=KM[i.type],a=Zp[i.componentType],l=i.normalized===!0,c=new a(i.count*s);return Promise.resolve(new jn(c,s,l))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],l=KM[i.type],c=Zp[i.componentType],f=c.BYTES_PER_ELEMENT,p=f*l,m=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,x=i.normalized===!0;let S,_;if(v&&v!==p){const y=Math.floor(m/v),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let w=t.cache.get(A);w||(S=new c(a,y*v,i.count*v/f),w=new _0(S,v/f),t.cache.add(A,w)),_=new cf(w,l,m%v/f,x)}else a===null?S=new c(i.count*l):S=new c(a,m,i.count*l),_=new jn(S,l,x);if(i.sparse!==void 0){const y=KM.SCALAR,A=Zp[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,I=new A(s[1],w,i.sparse.count*y),P=new c(s[2],E,i.sparse.count*l);a!==null&&(_=new jn(_.array.slice(),_.itemSize,_.normalized));for(let L=0,U=I.length;L<U;L++){const F=I[L];if(_.setX(F,P[L*l]),l>=2&&_.setY(F,P[L*l+1]),l>=3&&_.setZ(F,P[L*l+2]),l>=4&&_.setW(F,P[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,s=t.images[o];let a=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,r){const i=this,o=this.json,s=o.textures[e],a=o.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(f){f.flipY=!1,f.name=s.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const m=(o.samplers||{})[s.sampler]||{};return f.magFilter=xB[m.magFilter]||pi,f.minFilter=xB[m.minFilter]||Da,f.wrapS=_B[m.wrapS]||af,f.wrapT=_B[m.wrapT]||af,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const s=i.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(p){c=!0;const m=new Blob([p],{type:s.mimeType});return l=a.createObjectURL(m),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(p){return new Promise(function(m,v){let x=m;t.isImageBitmapLoader===!0&&(x=function(S){const _=new Ir(S);_.needsUpdate=!0,m(_)}),t.load(nf.resolveURL(p,o.path),x,void 0,v)})}).then(function(p){return c===!0&&a.revokeObjectURL(l),Ec(p,s),p.userData.mimeType=s.mimeType||iq(s.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=f,f}assignTexture(e,t,r,i){const o=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),o.extensions[Kn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Kn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[Kn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===vB?Ed:zc),"colorSpace"in s?s.colorSpace=i:s.encoding=i===Ed?vB:bY),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new l1,Fi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Lo,Fi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||o||s){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),o&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return M0}loadMaterial(e){const t=this,r=this.json,i=this.extensions,o=r.materials[e];let s;const a={},l=o.extensions||{},c=[];if(l[Kn.KHR_MATERIALS_UNLIT]){const p=i[Kn.KHR_MATERIALS_UNLIT];s=p.getMaterialType(),c.push(p.extendParams(a,o,t))}else{const p=o.pbrMetallicRoughness||{};if(a.color=new bt(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const m=p.baseColorFactor;a.color.setRGB(m[0],m[1],m[2],zc),a.opacity=m[3]}p.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",p.baseColorTexture,Ed)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),s=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=Qs);const f=o.alphaMode||JM.OPAQUE;if(f===JM.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===JM.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==ra&&(c.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new Ye(1,1),o.normalTexture.scale!==void 0)){const p=o.normalTexture.scale;a.normalScale.set(p,p)}if(o.occlusionTexture!==void 0&&s!==ra&&(c.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==ra){const p=o.emissiveFactor;a.emissive=new bt().setRGB(p[0],p[1],p[2],zc)}return o.emissiveTexture!==void 0&&s!==ra&&c.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,Ed)),Promise.all(c).then(function(){const p=new s(a);return o.name&&(p.name=o.name),Ec(p,o),t.associations.set(p,{materials:e}),o.extensions&&ad(i,p,o),p})}createUniqueName(e){const t=ir.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function o(a){return r[Kn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return SB(l,a,t)})}const s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],f=rq(c),p=i[f];if(p)s.push(p.promise);else{let m;c.extensions&&c.extensions[Kn.KHR_DRACO_MESH_COMPRESSION]?m=o(c):m=SB(new Pn,c,t),i[f]={primitive:c,promise:m},s.push(m)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,o=r.meshes[e],s=o.primitives,a=[];for(let l=0,c=s.length;l<c;l++){const f=s[l].material===void 0?eq(this.cache):this.getDependency("material",s[l].material);a.push(f)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],p=[];for(let v=0,x=f.length;v<x;v++){const S=f[v],_=s[v];let y;const A=c[v];if(_.mode===Pa.TRIANGLES||_.mode===Pa.TRIANGLE_STRIP||_.mode===Pa.TRIANGLE_FAN||_.mode===void 0)y=o.isSkinnedMesh===!0?new yT(S,A):new Ur(S,A),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),_.mode===Pa.TRIANGLE_STRIP?y.geometry=pB(y.geometry,sT):_.mode===Pa.TRIANGLE_FAN&&(y.geometry=pB(y.geometry,fS));else if(_.mode===Pa.LINES)y=new _l(S,A);else if(_.mode===Pa.LINE_STRIP)y=new Xc(S,A);else if(_.mode===Pa.LINE_LOOP)y=new ST(S,A);else if(_.mode===Pa.POINTS)y=new AT(S,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(y.geometry.morphAttributes).length>0&&nq(y,o),y.name=t.createUniqueName(o.name||"mesh_"+e),Ec(y,o),_.extensions&&ad(i,y,_),t.assignFinalMaterial(y),p.push(y)}for(let v=0,x=p.length;v<x;v++)t.associations.set(p[v],{meshes:e,primitives:v});if(p.length===1)return o.extensions&&ad(i,p[0],o),p[0];const m=new Dc;o.extensions&&ad(i,m,o),t.associations.set(m,{meshes:e});for(let v=0,x=p.length;v<x;v++)m.add(p[v]);return m})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new ti(wN.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Wl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ec(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,o=t.joints.length;i<o;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),s=i,a=[],l=[];for(let c=0,f=s.length;c<f;c++){const p=s[c];if(p){a.push(p);const m=new an;o!==null&&m.fromArray(o.array,c*16),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new xT(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],o=i.name?i.name:"animation_"+e,s=[],a=[],l=[],c=[],f=[];for(let p=0,m=i.channels.length;p<m;p++){const v=i.channels[p],x=i.samplers[v.sampler],S=v.target,_=S.node,y=i.parameters!==void 0?i.parameters[x.input]:x.input,A=i.parameters!==void 0?i.parameters[x.output]:x.output;S.node!==void 0&&(s.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",A)),c.push(x),f.push(S))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(f)]).then(function(p){const m=p[0],v=p[1],x=p[2],S=p[3],_=p[4],y=[];for(let A=0,w=m.length;A<w;A++){const E=m[A],I=v[A],P=x[A],L=S[A],U=_[A];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const F=r._createAnimationTracks(E,I,P,L,U);if(F)for(let O=0;O<F.length;O++)y.push(F[O])}return new mm(o,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const s=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],o=r._loadNodeShallow(e),s=[],a=i.children||[];for(let c=0,f=a.length;c<f;c++)s.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(s),l]).then(function(c){const f=c[0],p=c[1],m=c[2];m!==null&&f.traverse(function(v){v.isSkinnedMesh&&v.bind(m,oq)});for(let v=0,x=p.length;v<x;v++)f.add(p[v]);return f})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?i.createUniqueName(o.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),o.camera!==void 0&&a.push(i.getDependency("camera",o.camera).then(function(c){return i._getNodeRef(i.cameraCache,o.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let f;if(o.isBone===!0?f=new a1:c.length>1?f=new Dc:c.length===1?f=c[0]:f=new or,f!==c[0])for(let p=0,m=c.length;p<m;p++)f.add(c[p]);if(o.name&&(f.userData.name=o.name,f.name=s),Ec(f,o),o.extensions&&ad(r,f,o),o.matrix!==void 0){const p=new an;p.fromArray(o.matrix),f.applyMatrix4(p)}else o.translation!==void 0&&f.position.fromArray(o.translation),o.rotation!==void 0&&f.quaternion.fromArray(o.rotation),o.scale!==void 0&&f.scale.fromArray(o.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,o=new Dc;r.name&&(o.name=i.createUniqueName(r.name)),Ec(o,r),r.extensions&&ad(t,o,r);const s=r.nodes||[],a=[];for(let l=0,c=s.length;l<c;l++)a.push(i.getDependency("node",s[l]));return Promise.all(a).then(function(l){for(let f=0,p=l.length;f<p;f++)o.add(l[f]);const c=f=>{const p=new Map;for(const[m,v]of i.associations)(m instanceof Fi||m instanceof Ir)&&p.set(m,v);return f.traverse(m=>{const v=i.associations.get(m);v!=null&&p.set(m,v)}),p};return i.associations=c(o),o})}_createAnimationTracks(e,t,r,i,o){const s=[],a=e.name?e.name:e.uuid,l=[];Ou[o.path]===Ou.weights?e.traverse(function(m){m.morphTargetInfluences&&l.push(m.name?m.name:m.uuid)}):l.push(a);let c;switch(Ou[o.path]){case Ou.weights:c=Qd;break;case Ou.rotation:c=Zd;break;case Ou.position:case Ou.scale:c=eh;break;default:switch(r.itemSize){case 1:c=Qd;break;case 2:case 3:default:c=eh;break}break}const f=i.interpolation!==void 0?ZY[i.interpolation]:dm,p=this._getArrayFromAccessor(r);for(let m=0,v=l.length;m<v;m++){const x=new c(l[m]+"."+Ou[o.path],t.array,p,f);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),s.push(x)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=pE(t.constructor),i=new Float32Array(t.length);for(let o=0,s=t.length;o<s;o++)i[o]=t[o]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Zd?QY:nU;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function aq(n,e,t){const r=e.attributes,i=new Io;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new ee(l[0],l[1],l[2]),new ee(c[0],c[1],c[2])),a.normalized){const f=pE(Zp[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new ee,l=new ee;for(let c=0,f=o.length;c<f;c++){const p=o[c];if(p.POSITION!==void 0){const m=t.json.accessors[p.POSITION],v=m.min,x=m.max;if(v!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(x[2]))),m.normalized){const S=pE(Zp[m.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const s=new vo;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=s}function SB(n,e,t){const r=e.attributes,i=[];function o(s,a){return t.getDependency("accessor",s).then(function(l){n.setAttribute(a,l)})}for(const s in r){const a=hE[s]||s.toLowerCase();a in n.attributes||i.push(o(r[s],a))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(s)}return Ec(n,e),aq(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?tq(n,e.targets,t):n})}const qM=new WeakMap;class lq extends Oo{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const o=new ca(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(qM.has(e)){const l=qM.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(l=>(i=l,new Promise((c,f)=>{i._callbacks[o]={resolve:c,reject:f},i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),qM.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Pn;e.index&&t.setIndex(new jn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,s=i.array,a=i.itemSize;t.setAttribute(o,new jn(s,a))}return t}_loadLibrary(e,t){const r=new ca(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=cq.toString(),s=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const s=o.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function cq(){let n,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(f){n.onModuleLoaded=function(p){f({draco:p})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(f=>{const p=f.draco,m=new p.Decoder,v=new p.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const x=t(p,m,v,c),S=x.attributes.map(_=>_.array.buffer);x.index&&S.push(x.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:x},S)}catch(x){console.error(x),self.postMessage({type:"error",id:a.id,error:x.message})}finally{p.destroy(v),p.destroy(m)}});break}};function t(s,a,l,c){const f=c.attributeIDs,p=c.attributeTypes;let m,v;const x=a.GetEncodedGeometryType(l);if(x===s.TRIANGULAR_MESH)m=new s.Mesh,v=a.DecodeBufferToMesh(l,m);else if(x===s.POINT_CLOUD)m=new s.PointCloud,v=a.DecodeBufferToPointCloud(l,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const S={index:null,attributes:[]};for(const _ in f){const y=self[p[_]];let A,w;if(c.useUniqueIDs)w=f[_],A=a.GetAttributeByUniqueId(m,w);else{if(w=a.GetAttributeId(m,s[f[_]]),w===-1)continue;A=a.GetAttribute(m,w)}S.attributes.push(i(s,a,m,_,y,A))}return x===s.TRIANGULAR_MESH&&(S.index=r(s,a,m)),s.destroy(m),S}function r(s,a,l){const f=l.num_faces()*3,p=f*4,m=s._malloc(p);a.GetTrianglesUInt32Array(l,p,m);const v=new Uint32Array(s.HEAPF32.buffer,m,f).slice();return s._free(m),{array:v,itemSize:1}}function i(s,a,l,c,f,p){const m=p.num_components(),x=l.num_points()*m,S=x*f.BYTES_PER_ELEMENT,_=o(s,f),y=s._malloc(S);a.GetAttributeDataArrayForAllPoints(l,p,_,S,y);const A=new f(s.HEAPF32.buffer,y,x).slice();return s._free(y),{name:c,array:A,itemSize:m}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let Xx;const QM=()=>{if(Xx)return Xx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let o;const s=WebAssembly.instantiate(a(i),{}).then(p=>{o=p.instance,o.exports.__wasm_call_ctors()});function a(p){const m=new Uint8Array(p.length);for(let x=0;x<p.length;++x){const S=p.charCodeAt(x);m[x]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let v=0;for(let x=0;x<p.length;++x)m[v++]=m[x]<60?r[m[x]]:(m[x]-60)*64+m[++x];return m.buffer.slice(0,v)}function l(p,m,v,x,S,_){const y=o.exports.sbrk,A=v+3&-4,w=y(A*x),E=y(S.length),I=new Uint8Array(o.exports.memory.buffer);I.set(S,E);const P=p(w,v,x,E,S.length);if(P===0&&_&&_(w,A,x),m.set(I.subarray(w,w+v*x)),y(w-y(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Xx={ready:s,supported:!0,decodeVertexBuffer(p,m,v,x,S){l(o.exports.meshopt_decodeVertexBuffer,p,m,v,x,o.exports[c[S]])},decodeIndexBuffer(p,m,v,x){l(o.exports.meshopt_decodeIndexBuffer,p,m,v,x)},decodeIndexSequence(p,m,v,x){l(o.exports.meshopt_decodeIndexSequence,p,m,v,x)},decodeGltfBuffer(p,m,v,x,S,_){l(o.exports[f[S]],p,m,v,x,o.exports[c[_]])}},Xx},ZM=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Va(n,e){const t=ll(o=>o.gl),r=vf(w0,ZM(n)?Object.values(n):n);return R.useLayoutEffect(()=>{e==null||e(r)},[e]),R.useEffect(()=>{if("initTexture"in t){let o=[];Array.isArray(r)?o=r:r instanceof Ir?o=[r]:ZM(r)&&(o=Object.values(r)),o.forEach(s=>{s instanceof Ir&&t.initTexture(s)})}},[t,r]),R.useMemo(()=>{if(ZM(n)){const o={};let s=0;for(const a in n)o[a]=r[s++];return o}else return r},[n,r])}Va.preload=n=>vf.preload(w0,n);Va.clear=n=>vf.clear(w0,n);const uq=()=>parseInt(Tm.replace(/\D+/g,"")),fq=uq();let Kx=null,rU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function iU(n,e,t){return r=>{t&&t(r),n&&(Kx||(Kx=new lq),Kx.setDecoderPath(typeof n=="string"?n:rU),r.setDRACOLoader(Kx)),e&&r.setMeshoptDecoder(typeof QM=="function"?QM():QM)}}function C1(n,e=!0,t=!0,r){return vf(WT,n,iU(e,t,r))}C1.preload=(n,e=!0,t=!0,r)=>vf.preload(WT,n,iU(e,t,r));C1.clear=n=>vf.clear(WT,n);C1.setDecoderPath=n=>{rU=n};const dq=R.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:l,...c},f)=>{const p=ll(P=>P.invalidate),m=ll(P=>P.camera),v=ll(P=>P.gl),x=ll(P=>P.events),S=ll(P=>P.setEvents),_=ll(P=>P.set),y=ll(P=>P.get),A=ll(P=>P.performance),w=e||m,E=r||x.connected||v.domElement,I=R.useMemo(()=>new EY(w),[w]);return os(()=>{I.enabled&&I.update()},-1),R.useEffect(()=>(o&&I.connect(o===!0?E:o),I.connect(E),()=>void I.dispose()),[o,E,t,I,p]),R.useEffect(()=>{const P=F=>{p(),t&&A.regress(),s&&s(F)},L=F=>{a&&a(F)},U=F=>{l&&l(F)};return I.addEventListener("change",P),I.addEventListener("start",L),I.addEventListener("end",U),()=>{I.removeEventListener("start",L),I.removeEventListener("end",U),I.removeEventListener("change",P)}},[s,a,l,I,p,S]),R.useEffect(()=>{if(n){const P=y().controls;return _({controls:I}),()=>_({controls:P})}},[n,I]),R.createElement("primitive",Pr({ref:f,object:I,enableDamping:i},c))}),hq="modulepreload",pq=function(n){return"/"+n},AB={},MB=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=pq(a),a in AB)return;AB[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":hq,l||(f.as="script",f.crossOrigin=""),f.href=a,s&&f.setAttribute("nonce",s),document.head.appendChild(f),l)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function wB(n,e,...t){const r=R.useRef(),i=ll(o=>o.scene);return R.useLayoutEffect(()=>{let o;if(n&&n!=null&&n.current&&e&&(r.current=o=new e(n.current,...t)),o)return o.traverse(s=>s.raycast=()=>null),i.add(o),()=>{r.current=void 0,i.remove(o),o.dispose==null||o.dispose()}},[i,e,n,...t]),os(()=>{var o;return void((o=r.current)==null||o.update==null?void 0:o.update())}),r}class mq extends ka{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${fq>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const gq=n=>new ee().setFromSpherical(new gS(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),vq=R.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:o=!1,speed:s=1},a)=>{const l=R.useRef(),[c,f,p]=R.useMemo(()=>{const v=[],x=[],S=Array.from({length:t},()=>(.5+.5*Math.random())*i),_=new bt;let y=n+e;const A=e/t;for(let w=0;w<t;w++)y-=A*Math.random(),v.push(...gq(y).toArray()),_.setHSL(w/t,r,.9),x.push(_.r,_.g,_.b);return[new Float32Array(v),new Float32Array(x),new Float32Array(S)]},[t,e,i,n,r]);os(v=>l.current&&(l.current.uniforms.time.value=v.clock.getElapsedTime()*s));const[m]=R.useState(()=>new mq);return R.createElement("points",{ref:a},R.createElement("bufferGeometry",null,R.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),R.createElement("bufferAttribute",{attach:"attributes-color",args:[f,3]}),R.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]})),R.createElement("primitive",{ref:l,object:m,attach:"material",blending:lS,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))});var oU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(oU);var yq=oU.exports;const Nt=uf(yq);var sU={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=Symbol.for("react.element"),jT=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),T1=Symbol.for("react.profiler"),R1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),xq=Symbol.for("react.server_context"),I1=Symbol.for("react.forward_ref"),B1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),D1=Symbol.for("react.lazy"),_q=Symbol.for("react.offscreen"),aU;aU=Symbol.for("react.module.reference");function Wa(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case $T:switch(n=n.type,n){case E1:case T1:case b1:case B1:case L1:return n;default:switch(n=n&&n.$$typeof,n){case xq:case P1:case I1:case D1:case O1:case R1:return n;default:return e}}case jT:return e}}}xr.ContextConsumer=P1;xr.ContextProvider=R1;xr.Element=$T;xr.ForwardRef=I1;xr.Fragment=E1;xr.Lazy=D1;xr.Memo=O1;xr.Portal=jT;xr.Profiler=T1;xr.StrictMode=b1;xr.Suspense=B1;xr.SuspenseList=L1;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(n){return Wa(n)===P1};xr.isContextProvider=function(n){return Wa(n)===R1};xr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===$T};xr.isForwardRef=function(n){return Wa(n)===I1};xr.isFragment=function(n){return Wa(n)===E1};xr.isLazy=function(n){return Wa(n)===D1};xr.isMemo=function(n){return Wa(n)===O1};xr.isPortal=function(n){return Wa(n)===jT};xr.isProfiler=function(n){return Wa(n)===T1};xr.isStrictMode=function(n){return Wa(n)===b1};xr.isSuspense=function(n){return Wa(n)===B1};xr.isSuspenseList=function(n){return Wa(n)===L1};xr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===E1||n===T1||n===b1||n===B1||n===L1||n===_q||typeof n=="object"&&n!==null&&(n.$$typeof===D1||n.$$typeof===O1||n.$$typeof===R1||n.$$typeof===P1||n.$$typeof===I1||n.$$typeof===aU||n.getModuleId!==void 0)};xr.typeOf=Wa;sU.exports=xr;var R_=sU.exports;function xS(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return Xt.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(xS(r)):R_.isFragment(r)&&r.props?t=t.concat(xS(r.props.children,e)):t.push(r))}),t}var mE={},Sq=function(e){};function Aq(n,e){}function Mq(n,e){}function wq(){mE={}}function lU(n,e,t){!e&&!mE[t]&&(n(!1,t),mE[t]=!0)}function ts(n,e){lU(Aq,n,e)}function Cq(n,e){lU(Mq,n,e)}ts.preMessage=Sq;ts.resetWarned=wq;ts.noteOnce=Cq;function Vn(n){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(n)}function Eq(n,e){if(Vn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Vn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cU(n){var e=Eq(n,"string");return Vn(e)=="symbol"?e:e+""}function Ue(n,e,t){return(e=cU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(t),!0).forEach(function(r){Ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e0(n){return n instanceof HTMLElement||n instanceof SVGElement}function bq(n){return n&&Vn(n)==="object"&&e0(n.nativeElement)?n.nativeElement:e0(n)?n:null}function P_(n){var e=bq(n);if(e)return e;if(n instanceof Xt.Component){var t;return(t=MC.findDOMNode)===null||t===void 0?void 0:t.call(MC,n)}return null}function XT(n,e,t){var r=R.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var KT=function(e,t){typeof e=="function"?e(t):Vn(e)==="object"&&e&&"current"in e&&(e.current=t)},Lm=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);return i.length<=1?i[0]:function(o){t.forEach(function(s){KT(s,o)})}},F1=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return XT(function(){return Lm.apply(void 0,t)},t,function(i,o){return i.length!==o.length||i.every(function(s,a){return s!==o[a]})})},E0=function(e){var t,r,i=R_.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((t=i.prototype)!==null&&t!==void 0&&t.render)&&i.$$typeof!==R_.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==R_.ForwardRef)},gE=R.createContext(null);function Tq(n){var e=n.children,t=n.onBatchResize,r=R.useRef(0),i=R.useRef([]),o=R.useContext(gE),s=R.useCallback(function(a,l,c){r.current+=1;var f=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){f===r.current&&(t==null||t(i.current),i.current=[])}),o==null||o(a,l,c)},[t,o]);return R.createElement(gE.Provider,{value:s},e)}var uU=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];t.call(r,s[1],s[0])}},e}()}(),vE=typeof window<"u"&&typeof document<"u"&&window.document===document,_S=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Rq=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(_S):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Pq=2;function Iq(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&a()}function s(){Rq(o)}function a(){var l=Date.now();if(t){if(l-i<Pq)return;r=!0}else t=!0,r=!1,setTimeout(s,e);i=l}return a}var Bq=20,Lq=["top","right","bottom","left","width","height","size","weight"],Oq=typeof MutationObserver<"u",Dq=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Iq(this.refresh.bind(this),Bq)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!vE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!vE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=Lq.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),fU=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},vm=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||_S},dU=N1(0,0,0,0);function SS(n){return parseFloat(n)||0}function EB(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+SS(o)},0)}function Fq(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var o=i[r],s=n["padding-"+o];t[o]=SS(s)}return t}function Nq(n){var e=n.getBBox();return N1(0,0,e.width,e.height)}function Uq(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return dU;var r=vm(n).getComputedStyle(n),i=Fq(r),o=i.left+i.right,s=i.top+i.bottom,a=SS(r.width),l=SS(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=EB(r,"left","right")+o),Math.round(l+s)!==t&&(l-=EB(r,"top","bottom")+s)),!zq(n)){var c=Math.round(a+o)-e,f=Math.round(l+s)-t;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(l-=f)}return N1(i.left,i.top,a,l)}var kq=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof vm(n).SVGGraphicsElement}:function(n){return n instanceof vm(n).SVGElement&&typeof n.getBBox=="function"}}();function zq(n){return n===vm(n).document.documentElement}function Hq(n){return vE?kq(n)?Nq(n):Uq(n):dU}function Gq(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return fU(s,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),s}function N1(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Vq=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=N1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Hq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Wq=function(){function n(e,t){var r=Gq(t);fU(this,{target:e,contentRect:r})}return n}(),$q=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new uU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Vq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Wq(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),hU=typeof WeakMap<"u"?new WeakMap:new uU,pU=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Dq.getInstance(),r=new $q(e,t,this);hU.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){pU.prototype[n]=function(){var e;return(e=hU.get(this))[n].apply(e,arguments)}});var jq=function(){return typeof _S.ResizeObserver<"u"?_S.ResizeObserver:pU}(),$u=new Map;function Xq(n){n.forEach(function(e){var t,r=e.target;(t=$u.get(r))===null||t===void 0||t.forEach(function(i){return i(r)})})}var mU=new jq(Xq);function Kq(n,e){$u.has(n)||($u.set(n,new Set),mU.observe(n)),$u.get(n).add(e)}function Jq(n,e){$u.has(n)&&($u.get(n).delete(e),$u.get(n).size||(mU.unobserve(n),$u.delete(n)))}function ss(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function bB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cU(r.key),r)}}function as(n,e,t){return e&&bB(n.prototype,e),t&&bB(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function t0(n,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},t0(n,e)}function fh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t0(n,e)}function th(n){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},th(n)}function U1(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U1=function(){return!!n})()}function tr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gU(n,e){if(e&&(Vn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(n)}function b0(n){var e=U1();return function(){var t,r=th(n);if(e){var i=th(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return gU(this,t)}}var Yq=function(n){fh(t,n);var e=b0(t);function t(){return ss(this,t),e.apply(this,arguments)}return as(t,[{key:"render",value:function(){return this.props.children}}]),t}(R.Component);function qq(n,e){var t=n.children,r=n.disabled,i=R.useRef(null),o=R.useRef(null),s=R.useContext(gE),a=typeof t=="function",l=a?t(i):t,c=R.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!a&&R.isValidElement(l)&&E0(l),p=f?l.ref:null,m=F1(p,i),v=function(){var y;return P_(i.current)||(i.current&&Vn(i.current)==="object"?P_((y=i.current)===null||y===void 0?void 0:y.nativeElement):null)||P_(o.current)};R.useImperativeHandle(e,function(){return v()});var x=R.useRef(n);x.current=n;var S=R.useCallback(function(_){var y=x.current,A=y.onResize,w=y.data,E=_.getBoundingClientRect(),I=E.width,P=E.height,L=_.offsetWidth,U=_.offsetHeight,F=Math.floor(I),O=Math.floor(P);if(c.current.width!==F||c.current.height!==O||c.current.offsetWidth!==L||c.current.offsetHeight!==U){var G={width:F,height:O,offsetWidth:L,offsetHeight:U};c.current=G;var te=L===Math.round(I)?I:L,Z=U===Math.round(P)?P:U,ie=$e($e({},G),{},{offsetWidth:te,offsetHeight:Z});s==null||s(ie,_,w),A&&Promise.resolve().then(function(){A(ie,_)})}},[]);return R.useEffect(function(){var _=v();return _&&!r&&Kq(_,S),function(){return Jq(_,S)}},[i.current,r]),R.createElement(Yq,{ref:o},f?R.cloneElement(l,{ref:m}):l)}var Qq=R.forwardRef(qq),Zq="rc-observer-key";function eQ(n,e){var t=n.children,r=typeof t=="function"?[t]:xS(t);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(Zq,"-").concat(o);return R.createElement(Qq,Pr({},n,{key:s,ref:o===0?e:void 0}),i)})}var JT=R.forwardRef(eQ);JT.Collection=Tq;function Om(n,e){var t=$e({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}function yE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function tQ(n){if(Array.isArray(n))return yE(n)}function vU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function YT(n,e){if(n){if(typeof n=="string")return yE(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yE(n,e):void 0}}function nQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(n){return tQ(n)||vU(n)||YT(n)||nQ()}var yU=function(e){return+setTimeout(e,16)},xU=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(yU=function(e){return window.requestAnimationFrame(e)},xU=function(e){return window.cancelAnimationFrame(e)});var TB=0,qT=new Map;function _U(n){qT.delete(n)}var za=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;TB+=1;var r=TB;function i(o){if(o===0)_U(r),e();else{var s=yU(function(){i(o-1)});qT.set(r,s)}}return i(t),r};za.cancel=function(n){var e=qT.get(n);return _U(n),xU(e)};function SU(n){if(Array.isArray(n))return n}function rQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function AU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ct(n,e){return SU(n)||rQ(n,e)||YT(n,e)||AU()}function AS(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function ua(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function iQ(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var RB="data-rc-order",PB="data-rc-priority",oQ="rc-util-key",xE=new Map;function MU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):oQ}function k1(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function sQ(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function QT(n){return Array.from((xE.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function wU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ua())return null;var t=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=sQ(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(RB,s),a&&o&&l.setAttribute(PB,"".concat(o)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=k1(e),f=c.firstChild;if(r){if(a){var p=(e.styles||QT(c)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(RB)))return!1;var v=Number(m.getAttribute(PB)||0);return o>=v});if(p.length)return c.insertBefore(l,p[p.length-1].nextSibling),l}c.insertBefore(l,f)}else c.appendChild(l);return l}function CU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=k1(e);return(e.styles||QT(t)).find(function(r){return r.getAttribute(MU(e))===n})}function n0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=CU(n,e);if(t){var r=k1(e);r.removeChild(t)}}function aQ(n,e){var t=xE.get(n);if(!t||!iQ(document,t)){var r=wU("",e),i=r.parentNode;xE.set(n,i),n.removeChild(r)}}function Hc(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=k1(t),i=QT(r),o=$e($e({},t),{},{styles:i});aQ(r,o);var s=CU(e,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==n&&(s.innerHTML=n),s}var f=wU(n,o);return f.setAttribute(MU(o),e),f}function lQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rs(n,e){if(n==null)return{};var t,r,i=lQ(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function MS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(ts(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(t&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var f=0;f<o.length;f++)if(!i(o[f],s[f],c))return!1;return!0}if(o&&s&&Vn(o)==="object"&&Vn(s)==="object"){var p=Object.keys(o);return p.length!==Object.keys(s).length?!1:p.every(function(m){return i(o[m],s[m],c)})}return!1}return i(n,e)}var cQ="%";function _E(n){return n.join(cQ)}var uQ=function(){function n(e){ss(this,n),Ue(this,"instanceId",void 0),Ue(this,"cache",new Map),this.instanceId=e}return as(n,[{key:"get",value:function(t){return this.opGet(_E(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(_E(t),r)}},{key:"opUpdate",value:function(t,r){var i=this.cache.get(t),o=r(i);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),ym="data-token-hash",gl="data-css-hash",ju="__cssinjs_instance__";function fQ(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(gl,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(i){i[ju]=i[ju]||n,i[ju]===n&&document.head.insertBefore(i,t)});var r={};Array.from(document.querySelectorAll("style[".concat(gl,"]"))).forEach(function(i){var o=i.getAttribute(gl);if(r[o]){if(i[ju]===n){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new uQ(n)}var z1=R.createContext({hashPriority:"low",cache:fQ(),defaultCache:!0});function dQ(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var ZT=function(){function n(){ss(this,n),Ue(this,"cache",void 0),Ue(this,"keys",void 0),Ue(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return as(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return t.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var i=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,f){var p=Ct(c,2),m=p[1];return i.internalGet(f)[1]<m?[f,i.internalGet(f)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=Ct(o,1),a=s[0];this.delete(a)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,f){if(f===t.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var p=l.get(c);p?p.map||(p.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,r){var i=t.get(r[0]);if(r.length===1){var o;return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),s}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!dQ(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();Ue(ZT,"MAX_CACHE_SIZE",20);Ue(ZT,"MAX_CACHE_OFFSET",5);var IB=0,EU=function(){function n(e){ss(this,n),Ue(this,"derivatives",void 0),Ue(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=IB,e.length===0&&(e.length>0,void 0),IB+=1}return as(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,i){return i(t,r)},void 0)}}]),n}(),ew=new ZT;function SE(n){var e=Array.isArray(n)?n:[n];return ew.has(e)||ew.set(e,new EU(e)),ew.get(e)}var hQ=new WeakMap,tw={};function pQ(n,e){for(var t=hQ,r=0;r<e.length;r+=1){var i=e[r];t.has(i)||t.set(i,new WeakMap),t=t.get(i)}return t.has(tw)||t.set(tw,n()),t.get(tw)}var BB=new WeakMap;function yv(n){var e=BB.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof EU?e+=r.id:r&&Vn(r)==="object"?e+=yv(r):e+=r}),BB.set(n,e)),e}function LB(n,e){return AS("".concat(e,"_").concat(yv(n)))}var AE=ua();function $n(n){return typeof n=="number"?"".concat(n,"px"):n}function wS(n,e,t){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var s=$e($e({},i),{},(r={},Ue(r,ym,e),Ue(r,gl,t),r)),a=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(n,"</style>")}var bU=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},mQ=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=Ct(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},TU=function(e,t,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,c=Ct(s,2),f=c[0],p=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[f])o[f]=p;else if((typeof p=="string"||typeof p=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[f])){var m,v=bU(f,r==null?void 0:r.prefix);i[v]=typeof p=="number"&&!(r!=null&&(m=r.unitless)!==null&&m!==void 0&&m[f])?"".concat(p,"px"):String(p),o[f]="var(".concat(v,")")}}),[o,mQ(i,t,{scope:r==null?void 0:r.scope})]},OB=ua()?R.useLayoutEffect:R.useEffect,lo=function(e,t){var r=R.useRef(!0);OB(function(){return e(r.current)},t),OB(function(){return r.current=!1,function(){r.current=!0}},[])},DB=function(e,t){lo(function(r){if(!r)return e()},t)},gQ=$e({},DS),FB=gQ.useInsertionEffect,vQ=function(e,t,r){R.useMemo(e,r),lo(function(){return t(!0)},r)},yQ=FB?function(n,e,t){return FB(function(){return n(),e()},t)}:vQ,xQ=$e({},DS),_Q=xQ.useInsertionEffect,SQ=function(e){var t=[],r=!1;function i(o){r||t.push(o)}return R.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(o){return o()})}},e),i},AQ=function(){return function(e){e()}},MQ=typeof _Q<"u"?SQ:AQ;function eR(n,e,t,r,i){var o=R.useContext(z1),s=o.cache,a=[n].concat(qt(e)),l=_E(a),c=MQ([l]),f=function(x){s.opUpdate(l,function(S){var _=S||[void 0,void 0],y=Ct(_,2),A=y[0],w=A===void 0?0:A,E=y[1],I=E,P=I||t(),L=[w,P];return x?x(L):L})};R.useMemo(function(){f()},[l]);var p=s.opGet(l),m=p[1];return yQ(function(){i==null||i(m)},function(v){return f(function(x){var S=Ct(x,2),_=S[0],y=S[1];return v&&_===0&&(i==null||i(m)),[_+1,y]}),function(){s.opUpdate(l,function(x){var S=x||[],_=Ct(S,2),y=_[0],A=y===void 0?0:y,w=_[1],E=A-1;return E===0?(c(function(){(v||!s.opGet(l))&&(r==null||r(w,!1))}),null):[A-1,w]})}},[l]),m}var wQ={},CQ="css",gd=new Map;function EQ(n){gd.set(n,(gd.get(n)||0)+1)}function bQ(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(ym,'="').concat(n,'"]'));t.forEach(function(r){if(r[ju]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var TQ=0;function RQ(n,e){gd.set(n,(gd.get(n)||0)-1);var t=Array.from(gd.keys()),r=t.filter(function(i){var o=gd.get(i)||0;return o<=0});t.length-r.length>TQ&&r.forEach(function(i){bQ(i,e),gd.delete(i)})}var PQ=function(e,t,r,i){var o=r.getDerivativeToken(e),s=$e($e({},o),t);return i&&(s=i(s)),s},RU="token";function IQ(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=R.useContext(z1),i=r.cache.instanceId,o=r.container,s=t.salt,a=s===void 0?"":s,l=t.override,c=l===void 0?wQ:l,f=t.formatToken,p=t.getComputedToken,m=t.cssVar,v=pQ(function(){return Object.assign.apply(Object,[{}].concat(qt(e)))},e),x=yv(v),S=yv(c),_=m?yv(m):"",y=eR(RU,[a,n.id,x,S,_],function(){var A,w=p?p(v,c,n):PQ(v,c,n,f),E=$e({},w),I="";if(m){var P=TU(w,m.key,{prefix:m.prefix,ignore:m.ignore,unitless:m.unitless,preserve:m.preserve}),L=Ct(P,2);w=L[0],I=L[1]}var U=LB(w,a);w._tokenKey=U,E._tokenKey=LB(E,a);var F=(A=m==null?void 0:m.key)!==null&&A!==void 0?A:U;w._themeKey=F,EQ(F);var O="".concat(CQ,"-").concat(AS(U));return w._hashId=O,[w,O,E,I,(m==null?void 0:m.key)||""]},function(A){RQ(A[0]._themeKey,i)},function(A){var w=Ct(A,4),E=w[0],I=w[3];if(m&&I){var P=Hc(I,AS("css-variables-".concat(E._themeKey)),{mark:gl,prepend:"queue",attachTo:o,priority:-999});P[ju]=i,P.setAttribute(ym,E._themeKey)}});return y}var BQ=function(e,t,r){var i=Ct(e,5),o=i[2],s=i[3],a=i[4],l=r||{},c=l.plain;if(!s)return null;var f=o._tokenKey,p=-999,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(p)},v=wS(s,a,f,m,c);return[p,f,v]},LQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PU="comm",IU="rule",BU="decl",OQ="@import",DQ="@keyframes",FQ="@layer",LU=Math.abs,tR=String.fromCharCode;function OU(n){return n.trim()}function I_(n,e,t){return n.replace(e,t)}function NQ(n,e,t){return n.indexOf(e,t)}function r0(n,e){return n.charCodeAt(e)|0}function i0(n,e,t){return n.slice(e,t)}function Rc(n){return n.length}function UQ(n){return n.length}function Jx(n,e){return e.push(n),n}var H1=1,xm=1,DU=0,Ha=0,Oi=0,Dm="";function nR(n,e,t,r,i,o,s,a){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:H1,column:xm,length:s,return:"",siblings:a}}function kQ(){return Oi}function zQ(){return Oi=Ha>0?r0(Dm,--Ha):0,xm--,Oi===10&&(xm=1,H1--),Oi}function vl(){return Oi=Ha<DU?r0(Dm,Ha++):0,xm++,Oi===10&&(xm=1,H1++),Oi}function Ud(){return r0(Dm,Ha)}function B_(){return Ha}function G1(n,e){return i0(Dm,n,e)}function ME(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HQ(n){return H1=xm=1,DU=Rc(Dm=n),Ha=0,[]}function GQ(n){return Dm="",n}function nw(n){return OU(G1(Ha-1,wE(n===91?n+2:n===40?n+1:n)))}function VQ(n){for(;(Oi=Ud())&&Oi<33;)vl();return ME(n)>2||ME(Oi)>3?"":" "}function WQ(n,e){for(;--e&&vl()&&!(Oi<48||Oi>102||Oi>57&&Oi<65||Oi>70&&Oi<97););return G1(n,B_()+(e<6&&Ud()==32&&vl()==32))}function wE(n){for(;vl();)switch(Oi){case n:return Ha;case 34:case 39:n!==34&&n!==39&&wE(Oi);break;case 40:n===41&&wE(n);break;case 92:vl();break}return Ha}function $Q(n,e){for(;vl()&&n+Oi!==57;)if(n+Oi===84&&Ud()===47)break;return"/*"+G1(e,Ha-1)+"*"+tR(n===47?n:vl())}function jQ(n){for(;!ME(Ud());)vl();return G1(n,Ha)}function XQ(n){return GQ(L_("",null,null,null,[""],n=HQ(n),0,[0],n))}function L_(n,e,t,r,i,o,s,a,l){for(var c=0,f=0,p=s,m=0,v=0,x=0,S=1,_=1,y=1,A=0,w="",E=i,I=o,P=r,L=w;_;)switch(x=A,A=vl()){case 40:if(x!=108&&r0(L,p-1)==58){NQ(L+=I_(nw(A),"&","&\f"),"&\f",LU(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:L+=nw(A);break;case 9:case 10:case 13:case 32:L+=VQ(x);break;case 92:L+=WQ(B_()-1,7);continue;case 47:switch(Ud()){case 42:case 47:Jx(KQ($Q(vl(),B_()),e,t,l),l);break;default:L+="/"}break;case 123*S:a[c++]=Rc(L)*y;case 125*S:case 59:case 0:switch(A){case 0:case 125:_=0;case 59+f:y==-1&&(L=I_(L,/\f/g,"")),v>0&&Rc(L)-p&&Jx(v>32?UB(L+";",r,t,p-1,l):UB(I_(L," ","")+";",r,t,p-2,l),l);break;case 59:L+=";";default:if(Jx(P=NB(L,e,t,c,f,i,a,w,E=[],I=[],p,o),o),A===123)if(f===0)L_(L,e,P,P,E,o,p,a,I);else switch(m===99&&r0(L,3)===110?100:m){case 100:case 108:case 109:case 115:L_(n,P,P,r&&Jx(NB(n,P,P,0,0,i,a,w,i,E=[],p,I),I),i,I,p,a,r?E:I);break;default:L_(L,P,P,P,[""],I,0,a,I)}}c=f=v=0,S=y=1,w=L="",p=s;break;case 58:p=1+Rc(L),v=x;default:if(S<1){if(A==123)--S;else if(A==125&&S++==0&&zQ()==125)continue}switch(L+=tR(A),A*S){case 38:y=f>0?1:(L+="\f",-1);break;case 44:a[c++]=(Rc(L)-1)*y,y=1;break;case 64:Ud()===45&&(L+=nw(vl())),m=Ud(),f=p=Rc(w=L+=jQ(B_())),A++;break;case 45:x===45&&Rc(L)==2&&(S=0)}}return o}function NB(n,e,t,r,i,o,s,a,l,c,f,p){for(var m=i-1,v=i===0?o:[""],x=UQ(v),S=0,_=0,y=0;S<r;++S)for(var A=0,w=i0(n,m+1,m=LU(_=s[S])),E=n;A<x;++A)(E=OU(_>0?v[A]+" "+w:I_(w,/&\f/g,v[A])))&&(l[y++]=E);return nR(n,e,t,i===0?IU:a,l,c,f,p)}function KQ(n,e,t,r){return nR(n,e,t,PU,tR(kQ()),i0(n,2,-2),0,r)}function UB(n,e,t,r,i){return nR(n,e,t,BU,i0(n,0,r),i0(n,r+1,-1),r,i)}function CE(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function JQ(n,e,t,r){switch(n.type){case FQ:if(n.children.length)break;case OQ:case BU:return n.return=n.return||n.value;case PU:return"";case DQ:return n.return=n.value+"{"+CE(n.children,r)+"}";case IU:if(!Rc(n.value=n.props.join(",")))return""}return Rc(t=CE(n.children,r))?n.return=n.value+"{"+t+"}":""}var kB="data-ant-cssinjs-cache-path",FU="_FILE_STYLE__",kd,NU=!0;function YQ(){if(!kd&&(kd={},ua())){var n=document.createElement("div");n.className=kB,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=Ct(o,2),a=s[0],l=s[1];kd[a]=l});var t=document.querySelector("style[".concat(kB,"]"));if(t){var r;NU=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function qQ(n){return YQ(),!!kd[n]}function QQ(n){var e=kd[n],t=null;if(e&&ua())if(NU)t=FU;else{var r=document.querySelector("style[".concat(gl,'="').concat(kd[n],'"]'));r?t=r.innerHTML:delete kd[n]}return[t,e]}var ZQ="_skip_check_",UU="_multi_value_";function O_(n){var e=CE(XQ(n),JQ);return e.replace(/\{%%%\:[^;];}/g,";")}function eZ(n){return Vn(n)==="object"&&n&&(ZQ in n||UU in n)}function tZ(n,e,t){if(!e)return n;var r=".".concat(e),i=t==="low"?":where(".concat(r,")"):r,o=n.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",f=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(f).concat(i).concat(c.slice(f.length)),[c].concat(qt(l.slice(1))).join(" ")});return o.join(",")}var nZ=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=t.hashId,l=t.layer;t.path;var c=t.hashPriority,f=t.transformers,p=f===void 0?[]:f;t.linters;var m="",v={};function x(y){var A=y.getName(a);if(!v[A]){var w=n(y.style,t,{root:!1,parentSelectors:s}),E=Ct(w,1),I=E[0];v[A]="@keyframes ".concat(y.getName(a)).concat(I)}}function S(y){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(w){Array.isArray(w)?S(w,A):w&&A.push(w)}),A}var _=S(Array.isArray(e)?e:[e]);return _.forEach(function(y){var A=typeof y=="string"&&!i?{}:y;if(typeof A=="string")m+="".concat(A,`
`);else if(A._keyframe)x(A);else{var w=p.reduce(function(E,I){var P;return(I==null||(P=I.visit)===null||P===void 0?void 0:P.call(I,E))||E},A);Object.keys(w).forEach(function(E){var I=w[E];if(Vn(I)==="object"&&I&&(E!=="animationName"||!I._keyframe)&&!eZ(I)){var P=!1,L=E.trim(),U=!1;(i||o)&&a?L.startsWith("@")?P=!0:L=tZ(E,a,c):i&&!a&&(L==="&"||L==="")&&(L="",U=!0);var F=n(I,t,{root:U,injectHash:P,parentSelectors:[].concat(qt(s),[L])}),O=Ct(F,2),G=O[0],te=O[1];v=$e($e({},v),te),m+="".concat(L).concat(G)}else{let se=function(K,X){var N=K.replace(/[A-Z]/g,function(J){return"-".concat(J.toLowerCase())}),j=X;!LQ[K]&&typeof j=="number"&&j!==0&&(j="".concat(j,"px")),K==="animationName"&&X!==null&&X!==void 0&&X._keyframe&&(x(X),j=X.getName(a)),m+="".concat(N,":").concat(j,";")};var Z,ie=(Z=I==null?void 0:I.value)!==null&&Z!==void 0?Z:I;Vn(I)==="object"&&I!==null&&I!==void 0&&I[UU]&&Array.isArray(ie)?ie.forEach(function(K){se(E,K)}):se(E,ie)}})}}),i?l&&(m="@layer ".concat(l.name," {").concat(m,"}"),l.dependencies&&(v["@layer ".concat(l.name)]=l.dependencies.map(function(y){return"@layer ".concat(y,", ").concat(l.name,";")}).join(`
`))):m="{".concat(m,"}"),[m,v]};function kU(n,e){return AS("".concat(n.join("%")).concat(e))}function rZ(){return null}var zU="style";function EE(n,e){var t=n.token,r=n.path,i=n.hashId,o=n.layer,s=n.nonce,a=n.clientOnly,l=n.order,c=l===void 0?0:l,f=R.useContext(z1),p=f.autoClear;f.mock;var m=f.defaultCache,v=f.hashPriority,x=f.container,S=f.ssrInline,_=f.transformers,y=f.linters,A=f.cache,w=f.layer,E=t._tokenKey,I=[E];w&&I.push("layer"),I.push.apply(I,qt(r));var P=AE,L=eR(zU,I,function(){var te=I.join("|");if(qQ(te)){var Z=QQ(te),ie=Ct(Z,2),se=ie[0],K=ie[1];if(se)return[se,E,K,{},a,c]}var X=e(),N=nZ(X,{hashId:i,hashPriority:v,layer:w?o:void 0,path:r.join("-"),transformers:_,linters:y}),j=Ct(N,2),J=j[0],re=j[1],pe=O_(J),Me=kU(I,pe);return[pe,E,Me,re,a,c]},function(te,Z){var ie=Ct(te,3),se=ie[2];(Z||p)&&AE&&n0(se,{mark:gl})},function(te){var Z=Ct(te,4),ie=Z[0];Z[1];var se=Z[2],K=Z[3];if(P&&ie!==FU){var X={mark:gl,prepend:w?!1:"queue",attachTo:x,priority:c},N=typeof s=="function"?s():s;N&&(X.csp={nonce:N});var j=[],J=[];Object.keys(K).forEach(function(pe){pe.startsWith("@layer")?j.push(pe):J.push(pe)}),j.forEach(function(pe){Hc(O_(K[pe]),"_layer-".concat(pe),$e($e({},X),{},{prepend:!0}))});var re=Hc(ie,se,X);re[ju]=A.instanceId,re.setAttribute(ym,E),J.forEach(function(pe){Hc(O_(K[pe]),"_effect-".concat(pe),X)})}}),U=Ct(L,3),F=U[0],O=U[1],G=U[2];return function(te){var Z;if(!S||P||!m)Z=R.createElement(rZ,null);else{var ie;Z=R.createElement("style",Pr({},(ie={},Ue(ie,ym,O),Ue(ie,gl,G),ie),{dangerouslySetInnerHTML:{__html:F}}))}return R.createElement(R.Fragment,null,Z,te)}}var iZ=function(e,t,r){var i=Ct(e,6),o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],f=i[5],p=r||{},m=p.plain;if(c)return null;var v=o,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)};return v=wS(o,s,a,x,m),l&&Object.keys(l).forEach(function(S){if(!t[S]){t[S]=!0;var _=O_(l[S]),y=wS(_,s,"_effect-".concat(S),x,m);S.startsWith("@layer")?v=y+v:v+=y}}),[f,a,v]},HU="cssVar",oZ=function(e,t){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,f=R.useContext(z1),p=f.cache.instanceId,m=f.container,v=a._tokenKey,x=[].concat(qt(e.path),[r,c,v]),S=eR(HU,x,function(){var _=t(),y=TU(_,r,{prefix:i,unitless:o,ignore:s,scope:c}),A=Ct(y,2),w=A[0],E=A[1],I=kU(x,E);return[w,E,I,r]},function(_){var y=Ct(_,3),A=y[2];AE&&n0(A,{mark:gl})},function(_){var y=Ct(_,3),A=y[1],w=y[2];if(A){var E=Hc(A,w,{mark:gl,prepend:"queue",attachTo:m,priority:-999});E[ju]=p,E.setAttribute(ym,r)}});return S},sZ=function(e,t,r){var i=Ct(e,4),o=i[1],s=i[2],a=i[3],l=r||{},c=l.plain;if(!o)return null;var f=-999,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},m=wS(o,a,s,p,c);return[f,s,m]},Jg;Jg={},Ue(Jg,zU,iZ),Ue(Jg,RU,BQ),Ue(Jg,HU,sZ);var ls=function(){function n(e,t){ss(this,n),Ue(this,"name",void 0),Ue(this,"style",void 0),Ue(this,"_keyframe",!0),this.name=e,this.style=t}return as(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function mp(n){return n.notSplit=!0,n}mp(["borderTop","borderBottom"]),mp(["borderTop"]),mp(["borderBottom"]),mp(["borderLeft","borderRight"]),mp(["borderLeft"]),mp(["borderRight"]);var rR=R.createContext({});function aZ(n){return SU(n)||vU(n)||YT(n)||AU()}function $l(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function GU(n,e,t,r){if(!e.length)return t;var i=aZ(e),o=i[0],s=i.slice(1),a;return!n&&typeof o=="number"?a=[]:Array.isArray(n)?a=qt(n):a=$e({},n),r&&t===void 0&&s.length===1?delete a[o][s[0]]:a[o]=GU(a[o],s,t,r),a}function ul(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!$l(n,e.slice(0,-1))?n:GU(n,e,t,r)}function lZ(n){return Vn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function zB(n){return Array.isArray(n)?[]:{}}var cZ=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Hp(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=zB(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=$l(i,s),f=Array.isArray(c);if(f||lZ(c)){if(!l.has(c)){l.add(c);var p=$l(r,s);f?r=ul(r,s,[]):(!p||Vn(p)!=="object")&&(r=ul(r,s,zB(c))),cZ(c).forEach(function(m){o([].concat(qt(s),[m]),l)})}}else r=ul(r,s,c)}o([])}),r}function uZ(){}const fZ=R.createContext({}),VU=()=>{const n=()=>{};return n.deprecated=uZ,n},dZ=R.createContext(void 0);var hZ={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},pZ={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const WU={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},HB={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},pZ),timePickerLocale:Object.assign({},WU)},Xs="${label} is not a valid ${type}",V1={locale:"en",Pagination:hZ,DatePicker:HB,TimePicker:WU,Calendar:HB,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Xs,method:Xs,array:Xs,object:Xs,number:Xs,date:Xs,boolean:Xs,integer:Xs,float:Xs,regexp:Xs,email:Xs,url:Xs,hex:Xs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};Object.assign({},V1.Modal);let D_=[];const GB=()=>D_.reduce((n,e)=>Object.assign(Object.assign({},n),e),V1.Modal);function mZ(n){if(n){const e=Object.assign({},n);return D_.push(e),GB(),()=>{D_=D_.filter(t=>t!==e),GB()}}Object.assign({},V1.Modal)}const $U=R.createContext(void 0),gZ="internalMark",vZ=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;R.useEffect(()=>mZ(e&&e.Modal),[e]);const i=R.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return R.createElement($U.Provider,{value:i},t)};function yo(n,e){yZ(n)&&(n="100%");var t=xZ(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Yx(n){return Math.min(1,Math.max(0,n))}function yZ(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function xZ(n){return typeof n=="string"&&n.indexOf("%")!==-1}function jU(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function qx(n){return n<=1?"".concat(Number(n)*100,"%"):n}function bd(n){return n.length===1?"0"+n:String(n)}function _Z(n,e,t){return{r:yo(n,255)*255,g:yo(e,255)*255,b:yo(t,255)*255}}function VB(n,e,t){n=yo(n,255),e=yo(e,255),t=yo(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,l:a}}function rw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function SZ(n,e,t){var r,i,o;if(n=yo(n,360),e=yo(e,100),t=yo(t,100),e===0)i=t,o=t,r=t;else{var s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;r=rw(a,s,n+1/3),i=rw(a,s,n),o=rw(a,s,n-1/3)}return{r:r*255,g:i*255,b:o*255}}function bE(n,e,t){n=yo(n,255),e=yo(e,255),t=yo(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function AZ(n,e,t){n=yo(n,360)*6,e=yo(e,100),t=yo(t,100);var r=Math.floor(n),i=n-r,o=t*(1-e),s=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,s,o,o,a,t][l],f=[a,t,t,s,o,o][l],p=[o,o,a,t,t,s][l];return{r:c*255,g:f*255,b:p*255}}function TE(n,e,t,r){var i=[bd(Math.round(n).toString(16)),bd(Math.round(e).toString(16)),bd(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function MZ(n,e,t,r,i){var o=[bd(Math.round(n).toString(16)),bd(Math.round(e).toString(16)),bd(Math.round(t).toString(16)),bd(wZ(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function wZ(n){return Math.round(parseFloat(n)*255).toString(16)}function WB(n){return Js(n)/255}function Js(n){return parseInt(n,16)}function CZ(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var RE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Mp(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=TZ(n)),typeof n=="object"&&(Mc(n.r)&&Mc(n.g)&&Mc(n.b)?(e=_Z(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Mc(n.h)&&Mc(n.s)&&Mc(n.v)?(r=qx(n.s),i=qx(n.v),e=AZ(n.h,r,i),s=!0,a="hsv"):Mc(n.h)&&Mc(n.s)&&Mc(n.l)&&(r=qx(n.s),o=qx(n.l),e=SZ(n.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=jU(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var EZ="[-\\+]?\\d+%?",bZ="[-\\+]?\\d*\\.\\d+%?",Xu="(?:".concat(bZ,")|(?:").concat(EZ,")"),iw="[\\s|\\(]+(".concat(Xu,")[,|\\s]+(").concat(Xu,")[,|\\s]+(").concat(Xu,")\\s*\\)?"),ow="[\\s|\\(]+(".concat(Xu,")[,|\\s]+(").concat(Xu,")[,|\\s]+(").concat(Xu,")[,|\\s]+(").concat(Xu,")\\s*\\)?"),ol={CSS_UNIT:new RegExp(Xu),rgb:new RegExp("rgb"+iw),rgba:new RegExp("rgba"+ow),hsl:new RegExp("hsl"+iw),hsla:new RegExp("hsla"+ow),hsv:new RegExp("hsv"+iw),hsva:new RegExp("hsva"+ow),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function TZ(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(RE[n])n=RE[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=ol.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ol.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ol.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=ol.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ol.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=ol.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ol.hex8.exec(n),t?{r:Js(t[1]),g:Js(t[2]),b:Js(t[3]),a:WB(t[4]),format:e?"name":"hex8"}:(t=ol.hex6.exec(n),t?{r:Js(t[1]),g:Js(t[2]),b:Js(t[3]),format:e?"name":"hex"}:(t=ol.hex4.exec(n),t?{r:Js(t[1]+t[1]),g:Js(t[2]+t[2]),b:Js(t[3]+t[3]),a:WB(t[4]+t[4]),format:e?"name":"hex8"}:(t=ol.hex3.exec(n),t?{r:Js(t[1]+t[1]),g:Js(t[2]+t[2]),b:Js(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Mc(n){return!!ol.CSS_UNIT.exec(String(n))}var ws=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=CZ(e)),this.originalInput=e;var i=Mp(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=jU(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=bE(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=bE(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=VB(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=VB(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),TE(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),MZ(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(yo(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(yo(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+TE(this.r,this.g,this.b,!1),t=0,r=Object.entries(RE);t<r.length;t++){var i=r[t],o=i[0],s=i[1];if(e===s)return o}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!t&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Yx(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Yx(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Yx(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Yx(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),o=t/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new n(r));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,o=t.v,s=[],a=1/e;e--;)s.push(new n({h:r,s:i,v:o})),o=(o+a)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new n({h:(r+s*o)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Qx=2,$B=.16,RZ=.05,PZ=.05,IZ=.15,XU=5,KU=4,BZ=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function jB(n){var e=n.r,t=n.g,r=n.b,i=bE(e,t,r);return{h:i.h*360,s:i.s,v:i.v}}function Zx(n){var e=n.r,t=n.g,r=n.b;return"#".concat(TE(e,t,r,!1))}function LZ(n,e,t){var r=t/100,i={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return i}function XB(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-Qx*e:Math.round(n.h)+Qx*e:r=t?Math.round(n.h)+Qx*e:Math.round(n.h)-Qx*e,r<0?r+=360:r>=360&&(r-=360),r}function KB(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-$B*e:e===KU?r=n.s+$B:r=n.s+RZ*e,r>1&&(r=1),t&&e===XU&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function JB(n,e,t){var r;return t?r=n.v+PZ*e:r=n.v-IZ*e,r>1&&(r=1),Number(r.toFixed(2))}function nh(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=Mp(n),i=XU;i>0;i-=1){var o=jB(r),s=Zx(Mp({h:XB(o,i,!0),s:KB(o,i,!0),v:JB(o,i,!0)}));t.push(s)}t.push(Zx(r));for(var a=1;a<=KU;a+=1){var l=jB(r),c=Zx(Mp({h:XB(l,a),s:KB(l,a),v:JB(l,a)}));t.push(c)}return e.theme==="dark"?BZ.map(function(f){var p=f.index,m=f.opacity,v=Zx(LZ(Mp(e.backgroundColor||"#141414"),Mp(t[p]),m*100));return v}):t}var sw={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},F_={},aw={};Object.keys(sw).forEach(function(n){F_[n]=nh(sw[n]),F_[n].primary=F_[n][5],aw[n]=nh(sw[n],{theme:"dark",backgroundColor:"#141414"}),aw[n].primary=aw[n][5]});var OZ=F_.blue;const JU={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},o0=Object.assign(Object.assign({},JU),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function DZ(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:f}=n,p=t(l),m=t(i),v=t(o),x=t(s),S=t(a),_=r(c,f),y=n.colorLink||n.colorInfo,A=t(y);return Object.assign(Object.assign({},_),{colorPrimaryBg:p[1],colorPrimaryBgHover:p[2],colorPrimaryBorder:p[3],colorPrimaryBorderHover:p[4],colorPrimaryHover:p[5],colorPrimary:p[6],colorPrimaryActive:p[7],colorPrimaryTextHover:p[8],colorPrimaryText:p[9],colorPrimaryTextActive:p[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:x[1],colorErrorBgHover:x[2],colorErrorBgActive:x[3],colorErrorBorder:x[3],colorErrorBorderHover:x[4],colorErrorHover:x[5],colorError:x[6],colorErrorActive:x[7],colorErrorTextHover:x[8],colorErrorText:x[9],colorErrorTextActive:x[10],colorWarningBg:v[1],colorWarningBgHover:v[2],colorWarningBorder:v[3],colorWarningBorderHover:v[4],colorWarningHover:v[4],colorWarning:v[6],colorWarningActive:v[7],colorWarningTextHover:v[8],colorWarningText:v[9],colorWarningTextActive:v[10],colorInfoBg:S[1],colorInfoBgHover:S[2],colorInfoBorder:S[3],colorInfoBorderHover:S[4],colorInfoHover:S[4],colorInfo:S[6],colorInfoActive:S[7],colorInfoTextHover:S[8],colorInfoText:S[9],colorInfoTextActive:S[10],colorLinkHover:A[4],colorLink:A[6],colorLinkActive:A[7],colorBgMask:new ws("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const FZ=n=>{let e=n,t=n,r=n,i=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?i=4:n>=8&&(i=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:i}};function NZ(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:i}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:i+1},FZ(r))}const UZ=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function N_(n){return(n+8)/n}function kZ(n){const e=new Array(10).fill(null).map((t,r)=>{const i=r-1,o=n*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:N_(t)}))}const zZ=n=>{const e=kZ(n),t=e.map(f=>f.size),r=e.map(f=>f.lineHeight),i=t[1],o=t[0],s=t[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function HZ(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const wc=(n,e)=>new ws(n).setAlpha(e).toRgbString(),Yg=(n,e)=>new ws(n).darken(e).toHexString(),GZ=n=>{const e=nh(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},VZ=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:wc(r,.88),colorTextSecondary:wc(r,.65),colorTextTertiary:wc(r,.45),colorTextQuaternary:wc(r,.25),colorFill:wc(r,.15),colorFillSecondary:wc(r,.06),colorFillTertiary:wc(r,.04),colorFillQuaternary:wc(r,.02),colorBgLayout:Yg(t,4),colorBgContainer:Yg(t,0),colorBgElevated:Yg(t,0),colorBgSpotlight:wc(r,.85),colorBgBlur:"transparent",colorBorder:Yg(t,15),colorBorderSecondary:Yg(t,6)}};function WZ(n){const e=Object.keys(JU).map(t=>{const r=nh(n[t]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${t}-${s+1}`]=r[s],i[`${t}${s+1}`]=r[s],i),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),DZ(n,{generateColorPalettes:GZ,generateNeutralColorPalettes:VZ})),zZ(n.fontSize)),HZ(n)),UZ(n)),NZ(n))}const YU=SE(WZ),PE={token:o0,override:{override:o0},hashed:!0},qU=Xt.createContext(PE),QU="anticon",$Z=(n,e)=>e||(n?`ant-${n}`:"ant"),kr=R.createContext({getPrefixCls:$Z,iconPrefixCls:QU}),jZ=`-ant-${Date.now()}-${Math.random()}`;function XZ(n,e){const t={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new ws(s),c=nh(l.toRgbString());t[`${a}-color`]=r(l),t[`${a}-color-disabled`]=c[1],t[`${a}-color-hover`]=c[4],t[`${a}-color-active`]=c[6],t[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=c[0],t[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new ws(e.primaryColor),a=nh(s.toRgbString());a.forEach((c,f)=>{t[`primary-${f+1}`]=c}),t["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=r(s,c=>c.setAlpha(c.getAlpha()*.12));const l=new ws(a[0]);t["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(s=>`--${n}-${s}: ${t[s]};`).join(`
`)}
  }
  `.trim()}function KZ(n,e){const t=XZ(n,e);ua()&&Hc(t,`${jZ}-dynamic-theme`)}const _m=R.createContext(!1),JZ=n=>{let{children:e,disabled:t}=n;const r=R.useContext(_m);return R.createElement(_m.Provider,{value:t??r},e)},Sm=R.createContext(void 0),YZ=n=>{let{children:e,size:t}=n;const r=R.useContext(Sm);return R.createElement(Sm.Provider,{value:t||r},e)};function qZ(){const n=R.useContext(_m),e=R.useContext(Sm);return{componentDisabled:n,componentSize:e}}const CS=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],QZ="5.18.0";function lw(n){return n>=0&&n<=255}function e_(n,e){const{r:t,g:r,b:i,a:o}=new ws(n).toRgb();if(o<1)return n;const{r:s,g:a,b:l}=new ws(e).toRgb();for(let c=.01;c<=1;c+=.01){const f=Math.round((t-s*(1-c))/c),p=Math.round((r-a*(1-c))/c),m=Math.round((i-l*(1-c))/c);if(lw(f)&&lw(p)&&lw(m))return new ws({r:f,g:p,b:m,a:Math.round(c*100)/100}).toRgbString()}return new ws({r:t,g:r,b:i,a:1}).toRgbString()}var ZZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function ZU(n){const{override:e}=n,t=ZZ(n,["override"]),r=Object.assign({},e);Object.keys(o0).forEach(m=>{delete r[m]});const i=Object.assign(Object.assign({},t),r),o=480,s=576,a=768,l=992,c=1200,f=1600;if(i.motion===!1){const m="0s";i.motionDurationFast=m,i.motionDurationMid=m,i.motionDurationSlow=m}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:e_(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:e_(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:e_(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:e_(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:f-1,screenXXL:f,screenXXLMin:f,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ws("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ws("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ws("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var YB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ek={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},tk={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},eee={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},nk=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:i}=e,o=YB(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=ZU(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:f}=c,p=YB(c,["theme"]);let m=p;f&&(m=nk(Object.assign(Object.assign({},s),p),{override:p},f)),s[l]=m}),s};function Ql(){const{token:n,hashed:e,theme:t,override:r,cssVar:i}=Xt.useContext(qU),o=`${QZ}-${e||""}`,s=t||YU,[a,l,c]=IQ(s,[o0,n],{salt:o,override:r,getComputedToken:nk,formatToken:ZU,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:ek,ignore:tk,preserve:eee}});return[s,c,e?l:"",a,i]}function rk(n,e,t){return e=th(e),gU(n,U1()?Reflect.construct(e,[],th(n).constructor):e.apply(n,t))}let ik=as(function n(){ss(this,n)});const ok="CALC_UNIT",tee=new RegExp(ok,"g");function cw(n){return typeof n=="number"?`${n}${ok}`:n}let nee=function(n){function e(t){var r;return ss(this,e),r=rk(this,e),r.result="",t instanceof e?r.result=`(${t.result})`:typeof t=="number"?r.result=cw(t):typeof t=="string"&&(r.result=t),r}return fh(e,n),as(e,[{key:"add",value:function(r){return r instanceof e?this.result=`${this.result} + ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} + ${cw(r)}`),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof e?this.result=`${this.result} - ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} - ${cw(r)}`),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof e?this.result=`${this.result} * ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} * ${r}`),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof e?this.result=`${this.result} / ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} / ${r}`),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?`(${this.result})`:this.result}},{key:"equal",value:function(r){const{unit:i=!0}=r||{};return this.result=this.result.replace(tee,i?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}])}(ik),ree=function(n){function e(t){var r;return ss(this,e),r=rk(this,e),r.result=0,t instanceof e?r.result=t.result:typeof t=="number"&&(r.result=t),r}return fh(e,n),as(e,[{key:"add",value:function(r){return r instanceof e?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof e?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof e?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof e?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}])}(ik);const iee=n=>{const e=n==="css"?nee:ree;return t=>new e(t)};function qs(n){var e=R.useRef();e.current=n;var t=R.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t}function em(n){var e=R.useRef(!1),t=R.useState(n),r=Ct(t,2),i=r[0],o=r[1];R.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function uw(n){return n!==void 0}function iR(n,e){var t=e||{},r=t.defaultValue,i=t.value,o=t.onChange,s=t.postState,a=em(function(){return uw(i)?i:uw(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),l=Ct(a,2),c=l[0],f=l[1],p=i!==void 0?i:c,m=s?s(p):p,v=qs(o),x=em([p]),S=Ct(x,2),_=S[0],y=S[1];DB(function(){var w=_[0];c!==w&&v(c,w)},[_]),DB(function(){uw(i)||f(i)},[i]);var A=qs(function(w,E){f(w,E),y([p],E)});return[m,A]}const zd=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},oee=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),see=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),aee=(n,e,t,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},sk=n=>({outline:`${$n(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),ak=n=>({"&:focus-visible":Object.assign({},sk(n))});function lee(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return`max(${t.map(i=>$n(i)).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return`min(${t.map(i=>$n(i)).join(",")})`}}}const lk=typeof CSSINJS_STATISTIC<"u";let IE=!0;function cs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!lk)return Object.assign.apply(Object,[{}].concat(e));IE=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),IE=!0,r}const qB={};function cee(){}const uee=n=>{let e,t=n,r=cee;return lk&&typeof Proxy<"u"&&(e=new Set,t=new Proxy(n,{get(i,o){return IE&&e.add(o),i[o]}}),r=(i,o)=>{var s;qB[i]={global:Array.from(e),component:Object.assign(Object.assign({},(s=qB[i])===null||s===void 0?void 0:s.component),o)}}),{token:t,keys:e,flush:r}},ck=(n,e)=>{const[t,r]=Ql();return EE({theme:t,token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${n}`]:Object.assign(Object.assign({},oee()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},uk=(n,e,t)=>{var r;return typeof t=="function"?t(cs(e,(r=e[n])!==null&&r!==void 0?r:{})):t??{}},fk=(n,e,t,r)=>{const i=Object.assign({},e[n]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:s}=r;s.forEach(a=>{let[l,c]=a;var f;(i!=null&&i[l]||i!=null&&i[c])&&((f=i[c])!==null&&f!==void 0||(i[c]=i==null?void 0:i[l]))})}const o=Object.assign(Object.assign({},t),i);return Object.keys(o).forEach(s=>{o[s]===e[s]&&delete o[s]}),o},fee=(n,e)=>`${[e,n.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function oR(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(n)?n:[n,n],[o]=i,s=i.join("-");return function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;const[c,f,p,m,v]=Ql(),{getPrefixCls:x,iconPrefixCls:S,csp:_}=R.useContext(kr),y=x(),A=v?"css":"js",w=iee(A),{max:E,min:I}=lee(A),P={theme:c,token:m,hashId:p,nonce:()=>_==null?void 0:_.nonce,clientOnly:r.clientOnly,layer:{name:"antd"},order:r.order||-999};return EE(Object.assign(Object.assign({},P),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":see(m)}]),ck(S,_),[EE(Object.assign(Object.assign({},P),{path:[s,a,S]}),()=>{if(r.injectStyle===!1)return[];const{token:U,flush:F}=uee(m),O=uk(o,f,t),G=`.${a}`,te=fk(o,f,O,{deprecatedTokens:r.deprecatedTokens});v&&Object.keys(O).forEach(se=>{O[se]=`var(${bU(se,fee(o,v.prefix))})`});const Z=cs(U,{componentCls:G,prefixCls:a,iconCls:`.${S}`,antCls:`.${y}`,calc:w,max:E,min:I},v?O:te),ie=e(Z,{hashId:p,prefixCls:a,rootPrefixCls:y,iconPrefixCls:S});return F(o,te),[r.resetStyle===!1?null:aee(Z,a,l,r.resetFont),ie]}),p]}}const dee=(n,e,t,r)=>{const i=oR(n,e,t,Object.assign({resetStyle:!1,order:-998},r));return s=>{let{prefixCls:a,rootCls:l=a}=s;return i(a,l),null}},hee=(n,e,t)=>{function r(c){return`${n}${c.slice(0,1).toUpperCase()}${c.slice(1)}`}const{unitless:i={},injectStyle:o=!0}=t??{},s={[r("zIndexPopup")]:!0};Object.keys(i).forEach(c=>{s[r(c)]=i[c]});const a=c=>{let{rootCls:f,cssVar:p}=c;const[,m]=Ql();return oZ({path:[n],prefix:p.prefix,key:p==null?void 0:p.key,unitless:Object.assign(Object.assign({},ek),s),ignore:tk,token:m,scope:f},()=>{const v=uk(n,m,e),x=fk(n,m,v,{deprecatedTokens:t==null?void 0:t.deprecatedTokens});return Object.keys(v).forEach(S=>{x[r(S)]=x[S],delete x[S]}),x}),null};return c=>{const[,,,,f]=Ql();return[p=>o&&f?Xt.createElement(Xt.Fragment,null,Xt.createElement(a,{rootCls:c,cssVar:f,component:n}),p):p,f==null?void 0:f.key]}},qc=(n,e,t,r)=>{const i=oR(n,e,t,r),o=hee(Array.isArray(n)?n[0]:n,t,r);return function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;const[,l]=i(s,a),[c,f]=o(a);return[c,l,f]}};function pee(n,e){return CS.reduce((t,r)=>{const i=n[`${r}1`],o=n[`${r}3`],s=n[`${r}6`],a=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const mee=Object.assign({},DS),{useId:QB}=mee,gee=()=>"",vee=typeof QB>"u"?gee:QB;function yee(n,e,t){var r;VU();const i=n||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},PE),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:PE.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=vee();return XT(()=>{var a,l;if(!n)return e;const c=Object.assign({},o.components);Object.keys(n.components||{}).forEach(m=>{c[m]=Object.assign(Object.assign({},c[m]),n.components[m])});const f=`css-var-${s.replace(/:/g,"")}`,p=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||f});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:p})},[i,o],(a,l)=>a.some((c,f)=>{const p=l[f];return!MS(c,p,!0)}))}var xee=["children"],dk=R.createContext({});function _ee(n){var e=n.children,t=Rs(n,xee);return R.createElement(dk.Provider,{value:t},e)}var See=function(n){fh(t,n);var e=b0(t);function t(){return ss(this,t),e.apply(this,arguments)}return as(t,[{key:"render",value:function(){return this.props.children}}]),t}(R.Component),Fu="none",t_="appear",n_="enter",r_="leave",ZB="none",fl="prepare",Gp="start",Vp="active",sR="end",hk="prepared";function eL(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function Aee(n,e){var t={animationend:eL("Animation","AnimationEnd"),transitionend:eL("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var Mee=Aee(ua(),typeof window<"u"?window:{}),pk={};if(ua()){var wee=document.createElement("div");pk=wee.style}var i_={};function mk(n){if(i_[n])return i_[n];var e=Mee[n];if(e)for(var t=Object.keys(e),r=t.length,i=0;i<r;i+=1){var o=t[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in pk)return i_[n]=e[o],i_[n]}return""}var gk=mk("animationend"),vk=mk("transitionend"),yk=!!(gk&&vk),tL=gk||"animationend",nL=vk||"transitionend";function rL(n,e){if(!n)return null;if(Vn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const Cee=function(n){var e=R.useRef();function t(i){i&&(i.removeEventListener(nL,n),i.removeEventListener(tL,n))}function r(i){e.current&&e.current!==i&&t(e.current),i&&i!==e.current&&(i.addEventListener(nL,n),i.addEventListener(tL,n),e.current=i)}return R.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var xk=ua()?R.useLayoutEffect:R.useEffect;const Eee=function(){var n=R.useRef(null);function e(){za.cancel(n.current)}function t(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=za(function(){i<=1?r({isCanceled:function(){return o!==n.current}}):t(r,i-1)});n.current=o}return R.useEffect(function(){return function(){e()}},[]),[t,e]};var bee=[fl,Gp,Vp,sR],Tee=[fl,hk],_k=!1,Ree=!0;function Sk(n){return n===Vp||n===sR}const Pee=function(n,e,t){var r=em(ZB),i=Ct(r,2),o=i[0],s=i[1],a=Eee(),l=Ct(a,2),c=l[0],f=l[1];function p(){s(fl,!0)}var m=e?Tee:bee;return xk(function(){if(o!==ZB&&o!==sR){var v=m.indexOf(o),x=m[v+1],S=t(o);S===_k?s(x,!0):x&&c(function(_){function y(){_.isCanceled()||s(x,!0)}S===!0?y():Promise.resolve(S).then(y)})}},[n,o]),R.useEffect(function(){return function(){f()}},[]),[p,o]};function Iee(n,e,t,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,f=r.motionDeadline,p=r.motionLeaveImmediately,m=r.onAppearPrepare,v=r.onEnterPrepare,x=r.onLeavePrepare,S=r.onAppearStart,_=r.onEnterStart,y=r.onLeaveStart,A=r.onAppearActive,w=r.onEnterActive,E=r.onLeaveActive,I=r.onAppearEnd,P=r.onEnterEnd,L=r.onLeaveEnd,U=r.onVisibleChanged,F=em(),O=Ct(F,2),G=O[0],te=O[1],Z=em(Fu),ie=Ct(Z,2),se=ie[0],K=ie[1],X=em(null),N=Ct(X,2),j=N[0],J=N[1],re=R.useRef(!1),pe=R.useRef(null);function Me(){return t()}var de=R.useRef(!1);function Ce(){K(Fu,!0),J(null,!0)}var De=qs(function(rt){if(se!==Fu){var Q=Me();if(!(rt&&!rt.deadline&&rt.target!==Q)){var V=de.current,ge;se===t_&&V?ge=I==null?void 0:I(Q,rt):se===n_&&V?ge=P==null?void 0:P(Q,rt):se===r_&&V&&(ge=L==null?void 0:L(Q,rt)),V&&ge!==!1&&Ce()}}}),Pe=Cee(De),lt=Ct(Pe,1),dt=lt[0],ht=function(Q){switch(Q){case t_:return Ue(Ue(Ue({},fl,m),Gp,S),Vp,A);case n_:return Ue(Ue(Ue({},fl,v),Gp,_),Vp,w);case r_:return Ue(Ue(Ue({},fl,x),Gp,y),Vp,E);default:return{}}},oe=R.useMemo(function(){return ht(se)},[se]),Ne=Pee(se,!n,function(rt){if(rt===fl){var Q=oe[fl];return Q?Q(Me()):_k}if(Fe in oe){var V;J(((V=oe[Fe])===null||V===void 0?void 0:V.call(oe,Me(),null))||null)}return Fe===Vp&&se!==Fu&&(dt(Me()),f>0&&(clearTimeout(pe.current),pe.current=setTimeout(function(){De({deadline:!0})},f))),Fe===hk&&Ce(),Ree}),Be=Ct(Ne,2),He=Be[0],Fe=Be[1],Ve=Sk(Fe);de.current=Ve,xk(function(){te(e);var rt=re.current;re.current=!0;var Q;!rt&&e&&a&&(Q=t_),rt&&e&&o&&(Q=n_),(rt&&!e&&c||!rt&&p&&!e&&c)&&(Q=r_);var V=ht(Q);Q&&(n||V[fl])?(K(Q),He()):K(Fu)},[e]),R.useEffect(function(){(se===t_&&!a||se===n_&&!o||se===r_&&!c)&&K(Fu)},[a,o,c]),R.useEffect(function(){return function(){re.current=!1,clearTimeout(pe.current)}},[]);var Ke=R.useRef(!1);R.useEffect(function(){G&&(Ke.current=!0),G!==void 0&&se===Fu&&((Ke.current||G)&&(U==null||U(G)),Ke.current=!0)},[G,se]);var qe=j;return oe[fl]&&Fe===Gp&&(qe=$e({transition:"none"},qe)),[se,Fe,qe,G??e]}function Bee(n){var e=n;Vn(n)==="object"&&(e=n.transitionSupport);function t(i,o){return!!(i.motionName&&e&&o!==!1)}var r=R.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,f=i.forceRender,p=i.children,m=i.motionName,v=i.leavedClassName,x=i.eventProps,S=R.useContext(dk),_=S.motion,y=t(i,_),A=R.useRef(),w=R.useRef();function E(){try{return A.current instanceof HTMLElement?A.current:P_(w.current)}catch{return null}}var I=Iee(y,a,E,i),P=Ct(I,4),L=P[0],U=P[1],F=P[2],O=P[3],G=R.useRef(O);O&&(G.current=!0);var te=R.useCallback(function(j){A.current=j,KT(o,j)},[o]),Z,ie=$e($e({},x),{},{visible:a});if(!p)Z=null;else if(L===Fu)O?Z=p($e({},ie),te):!c&&G.current&&v?Z=p($e($e({},ie),{},{className:v}),te):f||!c&&!v?Z=p($e($e({},ie),{},{style:{display:"none"}}),te):Z=null;else{var se;U===fl?se="prepare":Sk(U)?se="active":U===Gp&&(se="start");var K=rL(m,"".concat(L,"-").concat(se));Z=p($e($e({},ie),{},{className:Nt(rL(m,L),Ue(Ue({},K,K&&se),m,typeof m=="string")),style:F}),te)}if(R.isValidElement(Z)&&E0(Z)){var X=Z,N=X.ref;N||(Z=R.cloneElement(Z,{ref:te}))}return R.createElement(See,{ref:w},Z)});return r.displayName="CSSMotion",r}const rh=Bee(yk);var BE="add",LE="keep",OE="remove",fw="removed";function Lee(n){var e;return n&&Vn(n)==="object"&&"key"in n?e=n:e={key:n},$e($e({},e),{},{key:String(e.key)})}function DE(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(Lee)}function Oee(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,i=e.length,o=DE(n),s=DE(e);o.forEach(function(c){for(var f=!1,p=r;p<i;p+=1){var m=s[p];if(m.key===c.key){r<p&&(t=t.concat(s.slice(r,p).map(function(v){return $e($e({},v),{},{status:BE})})),r=p),t.push($e($e({},m),{},{status:LE})),r+=1,f=!0;break}}f||t.push($e($e({},c),{},{status:OE}))}),r<i&&(t=t.concat(s.slice(r).map(function(c){return $e($e({},c),{},{status:BE})})));var a={};t.forEach(function(c){var f=c.key;a[f]=(a[f]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){t=t.filter(function(f){var p=f.key,m=f.status;return p!==c||m!==OE}),t.forEach(function(f){f.key===c&&(f.status=LE)})}),t}var Dee=["component","children","onVisibleChanged","onAllRemoved"],Fee=["status"],Nee=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Uee(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rh,t=function(r){fh(o,r);var i=b0(o);function o(){var s;ss(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),Ue(tr(s),"state",{keyEntities:[]}),Ue(tr(s),"removeKey",function(f){var p=s.state.keyEntities,m=p.map(function(v){return v.key!==f?v:$e($e({},v),{},{status:fw})});return s.setState({keyEntities:m}),m.filter(function(v){var x=v.status;return x!==fw}).length}),s}return as(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,f=c.component,p=c.children,m=c.onVisibleChanged,v=c.onAllRemoved,x=Rs(c,Dee),S=f||R.Fragment,_={};return Nee.forEach(function(y){_[y]=x[y],delete x[y]}),delete x.keys,R.createElement(S,x,l.map(function(y,A){var w=y.status,E=Rs(y,Fee),I=w===BE||w===LE;return R.createElement(e,Pr({},_,{key:E.key,visible:I,eventProps:E,onVisibleChanged:function(L){if(m==null||m(L,{key:E.key}),!L){var U=a.removeKey(E.key);U===0&&v&&v()}}}),function(P,L){return p($e($e({},P),{},{index:A}),L)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,f=l.keyEntities,p=DE(c),m=Oee(f,p);return{keyEntities:m.filter(function(v){var x=f.find(function(S){var _=S.key;return v.key===_});return!(x&&x.status===fw&&v.status===OE)})}}}]),o}(R.Component);return Ue(t,"defaultProps",{component:"div"}),t}Uee(yk);function kee(n){const{children:e}=n,[,t]=Ql(),{motion:r}=t,i=R.useRef(!1);return i.current=i.current||r===!1,i.current?R.createElement(_ee,{motion:r},e):e}const zee=()=>null;var Hee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Gee=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],Vee="ant";let Ak;function Wee(){return Ak||Vee}function $ee(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const jee=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:i}=n;e!==void 0&&(Ak=e),r&&$ee(r)&&KZ(Wee(),r)},Xee=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:f,virtual:p,dropdownMatchSelectWidth:m,popupMatchSelectWidth:v,popupOverflow:x,legacyLocale:S,parentContext:_,iconPrefixCls:y,theme:A,componentDisabled:w,segmented:E,statistic:I,spin:P,calendar:L,carousel:U,cascader:F,collapse:O,typography:G,checkbox:te,descriptions:Z,divider:ie,drawer:se,skeleton:K,steps:X,image:N,layout:j,list:J,mentions:re,modal:pe,progress:Me,result:de,slider:Ce,breadcrumb:De,menu:Pe,pagination:lt,input:dt,textArea:ht,empty:oe,badge:Ne,radio:Be,rate:He,switch:Fe,transfer:Ve,avatar:Ke,message:qe,tag:rt,table:Q,card:V,tabs:ge,timeline:Ae,timePicker:Re,upload:ze,notification:pt,tree:ct,colorPicker:st,datePicker:kt,rangePicker:Qe,flex:vt,wave:Vt,dropdown:It,warning:ft,tour:he,floatButtonGroup:Ge}=n,ut=R.useCallback((nn,Kt)=>{const{prefixCls:nr}=n;if(Kt)return Kt;const lr=nr||_.getPrefixCls("");return nn?`${lr}-${nn}`:lr},[_.getPrefixCls,n.prefixCls]),le=y||_.iconPrefixCls||QU,Ze=t||_.csp;ck(le,Ze);const Oe=yee(A,_.theme,{prefixCls:ut("")}),je={csp:Ze,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||S,direction:c,space:f,virtual:p,popupMatchSelectWidth:v??m,popupOverflow:x,getPrefixCls:ut,iconPrefixCls:le,theme:Oe,segmented:E,statistic:I,spin:P,calendar:L,carousel:U,cascader:F,collapse:O,typography:G,checkbox:te,descriptions:Z,divider:ie,drawer:se,skeleton:K,steps:X,image:N,input:dt,textArea:ht,layout:j,list:J,mentions:re,modal:pe,progress:Me,result:de,slider:Ce,breadcrumb:De,menu:Pe,pagination:lt,empty:oe,badge:Ne,radio:Be,rate:He,switch:Fe,transfer:Ve,avatar:Ke,message:qe,tag:rt,table:Q,card:V,tabs:ge,timeline:Ae,timePicker:Re,upload:ze,notification:pt,tree:ct,colorPicker:st,datePicker:kt,rangePicker:Qe,flex:vt,wave:Vt,dropdown:It,warning:ft,tour:he,floatButtonGroup:Ge},it=Object.assign({},_);Object.keys(je).forEach(nn=>{je[nn]!==void 0&&(it[nn]=je[nn])}),Gee.forEach(nn=>{const Kt=n[nn];Kt&&(it[nn]=Kt)}),typeof r<"u"&&(it.button=Object.assign({autoInsertSpace:r},it.button));const xt=XT(()=>it,it,(nn,Kt)=>{const nr=Object.keys(nn),lr=Object.keys(Kt);return nr.length!==lr.length||nr.some(Br=>nn[Br]!==Kt[Br])}),wt=R.useMemo(()=>({prefixCls:le,csp:Ze}),[le,Ze]);let St=R.createElement(R.Fragment,null,R.createElement(zee,{dropdownMatchSelectWidth:m}),e);const en=R.useMemo(()=>{var nn,Kt,nr,lr;return Hp(((nn=V1.Form)===null||nn===void 0?void 0:nn.defaultValidateMessages)||{},((nr=(Kt=xt.locale)===null||Kt===void 0?void 0:Kt.Form)===null||nr===void 0?void 0:nr.defaultValidateMessages)||{},((lr=xt.form)===null||lr===void 0?void 0:lr.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[xt,s==null?void 0:s.validateMessages]);Object.keys(en).length>0&&(St=R.createElement(dZ.Provider,{value:en},St)),a&&(St=R.createElement(vZ,{locale:a,_ANT_MARK__:gZ},St)),(le||Ze)&&(St=R.createElement(rR.Provider,{value:wt},St)),l&&(St=R.createElement(YZ,{size:l},St)),St=R.createElement(kee,null,St);const on=R.useMemo(()=>{const nn=Oe||{},{algorithm:Kt,token:nr,components:lr,cssVar:Br}=nn,fr=Hee(nn,["algorithm","token","components","cssVar"]),_r=Kt&&(!Array.isArray(Kt)||Kt.length>0)?SE(Kt):YU,wr={};Object.entries(lr||{}).forEach(mi=>{let[Wr,oi]=mi;const sn=Object.assign({},oi);"algorithm"in sn&&(sn.algorithm===!0?sn.theme=_r:(Array.isArray(sn.algorithm)||typeof sn.algorithm=="function")&&(sn.theme=SE(sn.algorithm)),delete sn.algorithm),wr[Wr]=sn});const mr=Object.assign(Object.assign({},o0),nr);return Object.assign(Object.assign({},fr),{theme:_r,token:mr,components:wr,override:Object.assign({override:mr},wr),cssVar:Br})},[Oe]);return A&&(St=R.createElement(qU.Provider,{value:on},St)),xt.warning&&(St=R.createElement(fZ.Provider,{value:xt.warning},St)),w!==void 0&&(St=R.createElement(JZ,{disabled:w},St)),R.createElement(kr.Provider,{value:xt},St)},T0=n=>{const e=R.useContext(kr),t=R.useContext($U);return R.createElement(Xee,Object.assign({parentContext:e,legacyLocale:t},n))};T0.ConfigContext=kr;T0.SizeContext=Sm;T0.config=jee;T0.useConfig=qZ;Object.defineProperty(T0,"SizeContext",{get:()=>Sm});function Mk(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Kee(n){return Mk(n)instanceof ShadowRoot}function ES(n){return Kee(n)?Mk(n):null}function Jee(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function Yee(n,e){ts(n,"[@ant-design/icons] ".concat(e))}function iL(n){return Vn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Vn(n.icon)==="object"||typeof n.icon=="function")}function oL(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[Jee(t)]=r}return e},{})}function FE(n,e,t){return t?Xt.createElement(n.tag,$e($e({key:e},oL(n.attrs)),t),(n.children||[]).map(function(r,i){return FE(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):Xt.createElement(n.tag,$e({key:e},oL(n.attrs)),(n.children||[]).map(function(r,i){return FE(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function wk(n){return nh(n)[0]}function Ck(n){return n?Array.isArray(n)?n:[n]:[]}var qee=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Qee=function(e){var t=R.useContext(rR),r=t.csp,i=t.prefixCls,o=qee;i&&(o=o.replace(/anticon/g,i)),R.useEffect(function(){var s=e.current,a=ES(s);Hc(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},Zee=["icon","className","onClick","style","primaryColor","secondaryColor"],xv={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ete(n){var e=n.primaryColor,t=n.secondaryColor;xv.primaryColor=e,xv.secondaryColor=t||wk(e),xv.calculated=!!t}function tte(){return $e({},xv)}var Fm=function(e){var t=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=Rs(e,Zee),c=R.useRef(),f=xv;if(s&&(f={primaryColor:s,secondaryColor:a||wk(s)}),Qee(c),Yee(iL(t),"icon should be icon definiton, but got ".concat(t)),!iL(t))return null;var p=t;return p&&typeof p.icon=="function"&&(p=$e($e({},p),{},{icon:p.icon(f.primaryColor,f.secondaryColor)})),FE(p.icon,"svg-".concat(p.name),$e($e({className:r,onClick:i,style:o,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Fm.displayName="IconReact";Fm.getTwoToneColors=tte;Fm.setTwoToneColors=ete;function Ek(n){var e=Ck(n),t=Ct(e,2),r=t[0],i=t[1];return Fm.setTwoToneColors({primaryColor:r,secondaryColor:i})}function nte(){var n=Fm.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var rte=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ek(OZ.primary);var Qc=R.forwardRef(function(n,e){var t=n.className,r=n.icon,i=n.spin,o=n.rotate,s=n.tabIndex,a=n.onClick,l=n.twoToneColor,c=Rs(n,rte),f=R.useContext(rR),p=f.prefixCls,m=p===void 0?"anticon":p,v=f.rootClassName,x=Nt(v,m,Ue(Ue({},"".concat(m,"-").concat(r.name),!!r.name),"".concat(m,"-spin"),!!i||r.name==="loading"),t),S=s;S===void 0&&a&&(S=-1);var _=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,y=Ck(l),A=Ct(y,2),w=A[0],E=A[1];return R.createElement("span",Pr({role:"img","aria-label":r.name},c,{ref:e,tabIndex:S,onClick:a,className:x}),R.createElement(Fm,{icon:r,primaryColor:w,secondaryColor:E,style:_}))});Qc.displayName="AntdIcon";Qc.getTwoToneColor=nte;Qc.setTwoToneColor=Ek;var ite={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},ote=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:ite}))},bk=R.forwardRef(ote),ste=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,ate=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,lte="".concat(ste," ").concat(ate).split(/[\s\n]+/),cte="aria-",ute="data-";function sL(n,e){return n.indexOf(e)===0}function bS(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=$e({},e);var r={};return Object.keys(n).forEach(function(i){(t.aria&&(i==="role"||sL(i,cte))||t.data&&sL(i,ute)||t.attr&&lte.includes(i))&&(r[i]=n[i])}),r}function Tk(n){return n&&Xt.isValidElement(n)&&n.type===Xt.Fragment}const fte=(n,e,t)=>Xt.isValidElement(n)?Xt.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function W1(n,e){return fte(n,n,e)}const Rk=n=>{const[,,,,e]=Ql();return e?`${n}-css-var`:""};var Ht={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Ht.F1&&t<=Ht.F12)return!1;switch(t){case Ht.ALT:case Ht.CAPS_LOCK:case Ht.CONTEXT_MENU:case Ht.CTRL:case Ht.DOWN:case Ht.END:case Ht.ESC:case Ht.HOME:case Ht.INSERT:case Ht.LEFT:case Ht.MAC_FF_META:case Ht.META:case Ht.NUMLOCK:case Ht.NUM_CENTER:case Ht.PAGE_DOWN:case Ht.PAGE_UP:case Ht.PAUSE:case Ht.PRINT_SCREEN:case Ht.RIGHT:case Ht.SHIFT:case Ht.UP:case Ht.WIN_KEY:case Ht.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Ht.ZERO&&e<=Ht.NINE||e>=Ht.NUM_ZERO&&e<=Ht.NUM_MULTIPLY||e>=Ht.A&&e<=Ht.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Ht.SPACE:case Ht.QUESTION_MARK:case Ht.NUM_PLUS:case Ht.NUM_MINUS:case Ht.NUM_PERIOD:case Ht.NUM_DIVISION:case Ht.SEMICOLON:case Ht.DASH:case Ht.EQUALS:case Ht.COMMA:case Ht.PERIOD:case Ht.SLASH:case Ht.APOSTROPHE:case Ht.SINGLE_QUOTE:case Ht.OPEN_SQUARE_BRACKET:case Ht.BACKSLASH:case Ht.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},dte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},hte=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:dte}))},Pk=R.forwardRef(hte);const aR=Xt.createContext(void 0),pd=100,pte=10,mte=pd*pte,Ik={Modal:pd,Drawer:pd,Popover:pd,Popconfirm:pd,Tooltip:pd,Tour:pd},gte={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function vte(n){return n in Ik}function Bk(n,e){const[,t]=Ql(),r=Xt.useContext(aR),i=vte(n);if(e!==void 0)return[e,e];let o=r??0;return i?(o+=(r?0:t.zIndexPopupBase)+Ik[n],o=Math.min(o,t.zIndexPopupBase+mte)):o+=gte[n],[r===void 0?e:o,o]}function ns(){ns=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(K,X,N){K[X]=N.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(K,X,N){return Object.defineProperty(K,X,{value:N,enumerable:!0,configurable:!0,writable:!0}),K[X]}try{c({},"")}catch{c=function(N,j,J){return N[j]=J}}function f(K,X,N,j){var J=X&&X.prototype instanceof y?X:y,re=Object.create(J.prototype),pe=new ie(j||[]);return i(re,"_invoke",{value:O(K,N,pe)}),re}function p(K,X,N){try{return{type:"normal",arg:K.call(X,N)}}catch(j){return{type:"throw",arg:j}}}e.wrap=f;var m="suspendedStart",v="suspendedYield",x="executing",S="completed",_={};function y(){}function A(){}function w(){}var E={};c(E,s,function(){return this});var I=Object.getPrototypeOf,P=I&&I(I(se([])));P&&P!==t&&r.call(P,s)&&(E=P);var L=w.prototype=y.prototype=Object.create(E);function U(K){["next","throw","return"].forEach(function(X){c(K,X,function(N){return this._invoke(X,N)})})}function F(K,X){function N(J,re,pe,Me){var de=p(K[J],K,re);if(de.type!=="throw"){var Ce=de.arg,De=Ce.value;return De&&Vn(De)=="object"&&r.call(De,"__await")?X.resolve(De.__await).then(function(Pe){N("next",Pe,pe,Me)},function(Pe){N("throw",Pe,pe,Me)}):X.resolve(De).then(function(Pe){Ce.value=Pe,pe(Ce)},function(Pe){return N("throw",Pe,pe,Me)})}Me(de.arg)}var j;i(this,"_invoke",{value:function(re,pe){function Me(){return new X(function(de,Ce){N(re,pe,de,Ce)})}return j=j?j.then(Me,Me):Me()}})}function O(K,X,N){var j=m;return function(J,re){if(j===x)throw Error("Generator is already running");if(j===S){if(J==="throw")throw re;return{value:n,done:!0}}for(N.method=J,N.arg=re;;){var pe=N.delegate;if(pe){var Me=G(pe,N);if(Me){if(Me===_)continue;return Me}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(j===m)throw j=S,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);j=x;var de=p(K,X,N);if(de.type==="normal"){if(j=N.done?S:v,de.arg===_)continue;return{value:de.arg,done:N.done}}de.type==="throw"&&(j=S,N.method="throw",N.arg=de.arg)}}}function G(K,X){var N=X.method,j=K.iterator[N];if(j===n)return X.delegate=null,N==="throw"&&K.iterator.return&&(X.method="return",X.arg=n,G(K,X),X.method==="throw")||N!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+N+"' method")),_;var J=p(j,K.iterator,X.arg);if(J.type==="throw")return X.method="throw",X.arg=J.arg,X.delegate=null,_;var re=J.arg;return re?re.done?(X[K.resultName]=re.value,X.next=K.nextLoc,X.method!=="return"&&(X.method="next",X.arg=n),X.delegate=null,_):re:(X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,_)}function te(K){var X={tryLoc:K[0]};1 in K&&(X.catchLoc=K[1]),2 in K&&(X.finallyLoc=K[2],X.afterLoc=K[3]),this.tryEntries.push(X)}function Z(K){var X=K.completion||{};X.type="normal",delete X.arg,K.completion=X}function ie(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(te,this),this.reset(!0)}function se(K){if(K||K===""){var X=K[s];if(X)return X.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var N=-1,j=function J(){for(;++N<K.length;)if(r.call(K,N))return J.value=K[N],J.done=!1,J;return J.value=n,J.done=!0,J};return j.next=j}}throw new TypeError(Vn(K)+" is not iterable")}return A.prototype=w,i(L,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:A,configurable:!0}),A.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(K){var X=typeof K=="function"&&K.constructor;return!!X&&(X===A||(X.displayName||X.name)==="GeneratorFunction")},e.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,w):(K.__proto__=w,c(K,l,"GeneratorFunction")),K.prototype=Object.create(L),K},e.awrap=function(K){return{__await:K}},U(F.prototype),c(F.prototype,a,function(){return this}),e.AsyncIterator=F,e.async=function(K,X,N,j,J){J===void 0&&(J=Promise);var re=new F(f(K,X,N,j),J);return e.isGeneratorFunction(X)?re:re.next().then(function(pe){return pe.done?pe.value:re.next()})},U(L),c(L,l,"Generator"),c(L,s,function(){return this}),c(L,"toString",function(){return"[object Generator]"}),e.keys=function(K){var X=Object(K),N=[];for(var j in X)N.push(j);return N.reverse(),function J(){for(;N.length;){var re=N.pop();if(re in X)return J.value=re,J.done=!1,J}return J.done=!0,J}},e.values=se,ie.prototype={constructor:ie,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Z),!X)for(var N in this)N.charAt(0)==="t"&&r.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=n)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var N=this;function j(Ce,De){return pe.type="throw",pe.arg=X,N.next=Ce,De&&(N.method="next",N.arg=n),!!De}for(var J=this.tryEntries.length-1;J>=0;--J){var re=this.tryEntries[J],pe=re.completion;if(re.tryLoc==="root")return j("end");if(re.tryLoc<=this.prev){var Me=r.call(re,"catchLoc"),de=r.call(re,"finallyLoc");if(Me&&de){if(this.prev<re.catchLoc)return j(re.catchLoc,!0);if(this.prev<re.finallyLoc)return j(re.finallyLoc)}else if(Me){if(this.prev<re.catchLoc)return j(re.catchLoc,!0)}else{if(!de)throw Error("try statement without catch or finally");if(this.prev<re.finallyLoc)return j(re.finallyLoc)}}}},abrupt:function(X,N){for(var j=this.tryEntries.length-1;j>=0;--j){var J=this.tryEntries[j];if(J.tryLoc<=this.prev&&r.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var re=J;break}}re&&(X==="break"||X==="continue")&&re.tryLoc<=N&&N<=re.finallyLoc&&(re=null);var pe=re?re.completion:{};return pe.type=X,pe.arg=N,re?(this.method="next",this.next=re.finallyLoc,_):this.complete(pe)},complete:function(X,N){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&N&&(this.next=N),_},finish:function(X){for(var N=this.tryEntries.length-1;N>=0;--N){var j=this.tryEntries[N];if(j.finallyLoc===X)return this.complete(j.completion,j.afterLoc),Z(j),_}},catch:function(X){for(var N=this.tryEntries.length-1;N>=0;--N){var j=this.tryEntries[N];if(j.tryLoc===X){var J=j.completion;if(J.type==="throw"){var re=J.arg;Z(j)}return re}}throw Error("illegal catch attempt")},delegateYield:function(X,N,j){return this.delegate={iterator:se(X),resultName:N,nextLoc:j},this.method==="next"&&(this.arg=n),_}},e}function aL(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function dh(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){aL(o,r,i,s,a,"next",l)}function a(l){aL(o,r,i,s,a,"throw",l)}s(void 0)})}}var R0=$e({},FV),yte=R0.version,xte=R0.render,_te=R0.unmountComponentAtNode,$1;try{var Ste=Number((yte||"").split(".")[0]);Ste>=18&&($1=R0.createRoot)}catch{}function lL(n){var e=R0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Vn(e)==="object"&&(e.usingClientEntryPoint=n)}var TS="__rc_react_root__";function Ate(n,e){lL(!0);var t=e[TS]||$1(e);lL(!1),t.render(n),e[TS]=t}function Mte(n,e){xte(n,e)}function wte(n,e){if($1){Ate(n,e);return}Mte(n,e)}function Cte(n){return NE.apply(this,arguments)}function NE(){return NE=dh(ns().mark(function n(e){return ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[TS])===null||i===void 0||i.unmount(),delete e[TS]}));case 1:case"end":return r.stop()}},n)})),NE.apply(this,arguments)}function Ete(n){_te(n)}function bte(n){return UE.apply(this,arguments)}function UE(){return UE=dh(ns().mark(function n(e){return ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if($1===void 0){r.next=2;break}return r.abrupt("return",Cte(e));case 2:Ete(e);case 3:case"end":return r.stop()}},n)})),UE.apply(this,arguments)}const kE=(n,e,t)=>t!==void 0?t:`${n}-${e}`,Lk=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var i=n.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},Tte=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},Rte=oR("Wave",n=>[Tte(n)]),lR="ant-wave-target";function Pte(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function dw(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&Pte(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function Ite(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return dw(e)?e:dw(t)?t:dw(r)?r:null}function hw(n){return Number.isNaN(n)?0:n}const Bte=n=>{const{className:e,target:t,component:r}=n,i=R.useRef(null),[o,s]=R.useState(null),[a,l]=R.useState([]),[c,f]=R.useState(0),[p,m]=R.useState(0),[v,x]=R.useState(0),[S,_]=R.useState(0),[y,A]=R.useState(!1),w={left:c,top:p,width:v,height:S,borderRadius:a.map(P=>`${P}px`).join(" ")};o&&(w["--wave-color"]=o);function E(){const P=getComputedStyle(t);s(Ite(t));const L=P.position==="static",{borderLeftWidth:U,borderTopWidth:F}=P;f(L?t.offsetLeft:hw(-parseFloat(U))),m(L?t.offsetTop:hw(-parseFloat(F))),x(t.offsetWidth),_(t.offsetHeight);const{borderTopLeftRadius:O,borderTopRightRadius:G,borderBottomLeftRadius:te,borderBottomRightRadius:Z}=P;l([O,G,Z,te].map(ie=>hw(parseFloat(ie))))}if(R.useEffect(()=>{if(t){const P=za(()=>{E(),A(!0)});let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(E),L.observe(t)),()=>{za.cancel(P),L==null||L.disconnect()}}},[]),!y)return null;const I=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(lR));return R.createElement(rh,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(P,L)=>{var U;if(L.deadline||L.propertyName==="opacity"){const F=(U=i.current)===null||U===void 0?void 0:U.parentElement;bte(F).then(()=>{F==null||F.remove()})}return!1}},(P,L)=>{let{className:U}=P;return R.createElement("div",{ref:Lm(i,L),className:Nt(e,{"wave-quick":I},U),style:w})})},Lte=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),wte(R.createElement(Bte,Object.assign({},e,{target:n})),i)},Ote=(n,e,t)=>{const{wave:r}=R.useContext(kr),[,i,o]=Ql(),s=qs(c=>{const f=n.current;if(r!=null&&r.disabled||!f)return;const p=f.querySelector(`.${lR}`)||f,{showEffect:m}=r||{};(m||Lte)(p,{className:e,token:i,component:t,event:c,hashId:o})}),a=R.useRef();return c=>{za.cancel(a.current),a.current=za(()=>{s(c)})}},Ok=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:i}=R.useContext(kr),o=R.useRef(null),s=i("wave"),[,a]=Rte(s),l=Ote(o,Nt(s,a),r);if(Xt.useEffect(()=>{const f=o.current;if(!f||f.nodeType!==1||t)return;const p=m=>{!Lk(m.target)||!f.getAttribute||f.getAttribute("disabled")||f.disabled||f.className.includes("disabled")||f.className.includes("-leave")||l(m)};return f.addEventListener("click",p,!0),()=>{f.removeEventListener("click",p,!0)}},[t]),!Xt.isValidElement(e))return e??null;const c=E0(e)?Lm(e.ref,o):o;return W1(e,{ref:c})},Dte=n=>{const e=Xt.useContext(Sm);return Xt.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},Dk=R.createContext(null),Fte=(n,e)=>{const t=R.useContext(Dk),r=R.useMemo(()=>{if(!t)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=t,a=i==="vertical"?"-vertical-":"-";return Nt(`${n}-compact${a}item`,{[`${n}-compact${a}first-item`]:o,[`${n}-compact${a}last-item`]:s,[`${n}-compact${a}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},Fk=n=>{let{children:e}=n;return R.createElement(Dk.Provider,{value:null},e)};var Nte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Nk=R.createContext(void 0),Ute=n=>{const{getPrefixCls:e,direction:t}=R.useContext(kr),{prefixCls:r,size:i,className:o}=n,s=Nte(n,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Ql();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const f=Nt(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:t==="rtl"},o,l);return R.createElement(Nk.Provider,{value:i},R.createElement("div",Object.assign({},s,{className:f})))},cL=/^[\u4e00-\u9fa5]{2}$/,zE=cL.test.bind(cL);function uL(n){return typeof n=="string"}function pw(n){return n==="text"||n==="link"}function kte(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&uL(n.type)&&zE(n.props.children)?W1(n,{children:n.props.children.split("").join(t)}):uL(n)?zE(n)?Xt.createElement("span",null,n.split("").join(t)):Xt.createElement("span",null,n):Tk(n)?Xt.createElement("span",null,n):n}function zte(n,e){let t=!1;const r=[];return Xt.Children.forEach(n,i=>{const o=typeof i,s=o==="string"||o==="number";if(t&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);t=s}),Xt.Children.map(r,i=>kte(i,e))}const Uk=R.forwardRef((n,e)=>{const{className:t,style:r,children:i,prefixCls:o}=n,s=Nt(`${o}-icon`,t);return Xt.createElement("span",{ref:e,className:s,style:r},i)}),fL=R.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:i,iconClassName:o}=n,s=Nt(`${t}-loading-icon`,r);return Xt.createElement(Uk,{prefixCls:t,className:s,style:i,ref:e},Xt.createElement(Pk,{className:o}))}),mw=()=>({width:0,opacity:0,transform:"scale(0)"}),gw=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Hte=n=>{const{prefixCls:e,loading:t,existIcon:r,className:i,style:o}=n,s=!!t;return r?Xt.createElement(fL,{prefixCls:e,className:i,style:o}):Xt.createElement(rh,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:mw,onAppearActive:gw,onEnterStart:mw,onEnterActive:gw,onLeaveStart:gw,onLeaveActive:mw},(a,l)=>{let{className:c,style:f}=a;return Xt.createElement(fL,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),f),ref:l,iconClassName:c})})},dL=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Gte=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},dL(`${e}-primary`,i),dL(`${e}-danger`,o)]}},kk=n=>{const{paddingInline:e,onlyIconSize:t,paddingBlock:r}=n;return cs(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:t})},zk=n=>{var e,t,r,i,o,s;const a=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,l=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,c=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,f=(i=n.contentLineHeight)!==null&&i!==void 0?i:N_(a),p=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:N_(l),m=(s=n.contentLineHeightLG)!==null&&s!==void 0?s:N_(c);return{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:n.colorBgTextHover,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:f,contentLineHeightSM:p,contentLineHeightLG:m,paddingBlock:Math.max((n.controlHeight-a*f)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-l*p)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-c*m)/2-n.lineWidth,0)}},Vte=n=>{const{componentCls:e,iconCls:t,fontWeight:r}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${$n(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},ak(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Kc=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),Wte=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),$te=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),jte=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),s0=(n,e,t,r,i,o,s,a)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},Kc(n,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),cR=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},jte(n))}),Hk=n=>Object.assign({},cR(n)),RS=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),Gk=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hk(n)),{background:n.defaultBg,borderColor:n.defaultBorderColor,color:n.defaultColor,boxShadow:n.defaultShadow}),Kc(n.componentCls,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),s0(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},Kc(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),s0(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),cR(n))}),Xte=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hk(n)),{color:n.primaryColor,background:n.colorPrimary,boxShadow:n.primaryShadow}),Kc(n.componentCls,{color:n.colorTextLightSolid,background:n.colorPrimaryHover},{color:n.colorTextLightSolid,background:n.colorPrimaryActive})),s0(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:n.colorError,boxShadow:n.dangerShadow,color:n.dangerColor},Kc(n.componentCls,{background:n.colorErrorHover},{background:n.colorErrorActive})),s0(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),cR(n))}),Kte=n=>Object.assign(Object.assign({},Gk(n)),{borderStyle:"dashed"}),Jte=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},Kc(n.componentCls,{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),RS(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},Kc(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),RS(n))}),Yte=n=>Object.assign(Object.assign(Object.assign({},Kc(n.componentCls,{color:n.colorText,background:n.textHoverBg},{color:n.colorText,background:n.colorBgTextActive})),RS(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},RS(n)),Kc(n.componentCls,{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive}))}),qte=n=>{const{componentCls:e}=n;return{[`${e}-default`]:Gk(n),[`${e}-primary`]:Xte(n),[`${e}-dashed`]:Kte(n),[`${e}-link`]:Jte(n),[`${e}-text`]:Yte(n),[`${e}-ghost`]:s0(n.componentCls,n.ghostBg,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},uR=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:c}=n,f=`${t}-icon-only`;return[{[`${e}`]:{fontSize:i,lineHeight:o,height:r,padding:`${$n(c)} ${$n(a)}`,borderRadius:s,[`&${f}`]:{width:r,paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"},[l]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:Wte(n)},{[`${t}${t}-round${e}`]:$te(n)}]},Qte=n=>{const e=cs(n,{fontSize:n.contentFontSize,lineHeight:n.contentLineHeight});return uR(e,n.componentCls)},Zte=n=>{const e=cs(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,lineHeight:n.contentLineHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:n.paddingBlockSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return uR(e,`${n.componentCls}-sm`)},ene=n=>{const e=cs(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,lineHeight:n.contentLineHeightLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:n.paddingBlockLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return uR(e,`${n.componentCls}-lg`)},tne=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},nne=qc("Button",n=>{const e=kk(n);return[Vte(e),Qte(e),Zte(e),ene(e),tne(e),qte(e),Gte(e)]},zk,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function rne(n,e,t){const{focusElCls:r,focus:i,borderElCls:o}=t,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function ine(n,e,t){const{borderElCls:r}=t,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function one(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},rne(n,r,e)),ine(t,r,e))}}function sne(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function ane(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function lne(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},sne(n,e)),ane(n.componentCls,e))}}const cne=n=>{const{componentCls:e,calc:t}=n;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:n.lineWidth,height:`calc(100% + ${$n(n.lineWidth)} * 2)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${$n(n.lineWidth)} * 2)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},une=dee(["Button","compact"],n=>{const e=kk(n);return[one(e),lne(e),cne(e)]},zk);var fne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function dne(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const hne=Xt.forwardRef((n,e)=>{var t,r,i;const{loading:o=!1,prefixCls:s,type:a,danger:l=!1,shape:c="default",size:f,styles:p,disabled:m,className:v,rootClassName:x,children:S,icon:_,iconPosition:y="start",ghost:A=!1,block:w=!1,htmlType:E="button",classNames:I,style:P={},autoInsertSpace:L}=n,U=fne(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),F=a||"default",{getPrefixCls:O,direction:G,button:te}=R.useContext(kr),Z=(t=L??(te==null?void 0:te.autoInsertSpace))!==null&&t!==void 0?t:!0,ie=O("btn",s),[se,K,X]=nne(ie),N=R.useContext(_m),j=m??N,J=R.useContext(Nk),re=R.useMemo(()=>dne(o),[o]),[pe,Me]=R.useState(re.loading),[de,Ce]=R.useState(!1),Pe=Lm(e,R.createRef()),lt=R.Children.count(S)===1&&!_&&!pw(F);R.useEffect(()=>{let Re=null;re.delay>0?Re=setTimeout(()=>{Re=null,Me(!0)},re.delay):Me(re.loading);function ze(){Re&&(clearTimeout(Re),Re=null)}return ze},[re]),R.useEffect(()=>{if(!Pe||!Pe.current||!Z)return;const Re=Pe.current.textContent;lt&&zE(Re)?de||Ce(!0):de&&Ce(!1)},[Pe]);const dt=Re=>{const{onClick:ze}=n;if(pe||j){Re.preventDefault();return}ze==null||ze(Re)},{compactSize:ht,compactItemClassnames:oe}=Fte(ie,G),Ne={large:"lg",small:"sm",middle:void 0},Be=Dte(Re=>{var ze,pt;return(pt=(ze=f??ht)!==null&&ze!==void 0?ze:J)!==null&&pt!==void 0?pt:Re}),He=Be&&Ne[Be]||"",Fe=pe?"loading":_,Ve=Om(U,["navigate"]),Ke=Nt(ie,K,X,{[`${ie}-${c}`]:c!=="default"&&c,[`${ie}-${F}`]:F,[`${ie}-${He}`]:He,[`${ie}-icon-only`]:!S&&S!==0&&!!Fe,[`${ie}-background-ghost`]:A&&!pw(F),[`${ie}-loading`]:pe,[`${ie}-two-chinese-chars`]:de&&Z&&!pe,[`${ie}-block`]:w,[`${ie}-dangerous`]:l,[`${ie}-rtl`]:G==="rtl",[`${ie}-icon-end`]:y==="end"},oe,v,x,te==null?void 0:te.className),qe=Object.assign(Object.assign({},te==null?void 0:te.style),P),rt=Nt(I==null?void 0:I.icon,(r=te==null?void 0:te.classNames)===null||r===void 0?void 0:r.icon),Q=Object.assign(Object.assign({},(p==null?void 0:p.icon)||{}),((i=te==null?void 0:te.styles)===null||i===void 0?void 0:i.icon)||{}),V=_&&!pe?Xt.createElement(Uk,{prefixCls:ie,className:rt,style:Q},_):Xt.createElement(Hte,{existIcon:!!_,prefixCls:ie,loading:pe}),ge=S||S===0?zte(S,lt&&Z):null;if(Ve.href!==void 0)return se(Xt.createElement("a",Object.assign({},Ve,{className:Nt(Ke,{[`${ie}-disabled`]:j}),href:j?void 0:Ve.href,style:qe,onClick:dt,ref:Pe,tabIndex:j?-1:0}),V,ge));let Ae=Xt.createElement("button",Object.assign({},U,{type:E,className:Ke,style:qe,onClick:dt,disabled:j,ref:Pe}),V,ge,!!oe&&Xt.createElement(une,{key:"compact",prefixCls:ie}));return pw(F)||(Ae=Xt.createElement(Ok,{component:"Button",disabled:pe},Ae)),se(Ae)}),Am=hne;Am.Group=Ute;Am.__ANT_BUTTON=!0;var Vk=R.createContext(null),hL=[];function pne(n,e){var t=R.useState(function(){if(!ua())return null;var x=document.createElement("div");return x}),r=Ct(t,1),i=r[0],o=R.useRef(!1),s=R.useContext(Vk),a=R.useState(hL),l=Ct(a,2),c=l[0],f=l[1],p=s||(o.current?void 0:function(x){f(function(S){var _=[x].concat(qt(S));return _})});function m(){i.parentElement||document.body.appendChild(i),o.current=!0}function v(){var x;(x=i.parentElement)===null||x===void 0||x.removeChild(i),o.current=!1}return lo(function(){return n?s?s(m):m():v(),v},[n]),lo(function(){c.length&&(c.forEach(function(x){return x()}),f(hL))},[c]),[i,p]}function mne(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(n){var s=getComputedStyle(n);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(n,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var f=l?"width: ".concat(a.width,";"):"",p=c?"height: ".concat(a.height,";"):"";Hc(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(f,`
`).concat(p,`
}`),e)}catch(x){console.error(x),i=l,o=c}}document.body.appendChild(t);var m=n&&i&&!isNaN(i)?i:t.offsetWidth-t.clientWidth,v=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),n0(e),{width:m,height:v}}function gne(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:mne(n)}function vne(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var yne="rc-util-locker-".concat(Date.now()),pL=0;function xne(n){var e=!!n,t=R.useState(function(){return pL+=1,"".concat(yne,"_").concat(pL)}),r=Ct(t,1),i=r[0];lo(function(){if(e){var o=gne(document.body).width,s=vne();Hc(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else n0(i);return function(){n0(i)}},[e,i])}var _ne=!1;function Sne(n){return _ne}var mL=function(e){return e===!1?!1:!ua()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},fR=R.forwardRef(function(n,e){var t=n.open,r=n.autoLock,i=n.getContainer;n.debug;var o=n.autoDestroy,s=o===void 0?!0:o,a=n.children,l=R.useState(t),c=Ct(l,2),f=c[0],p=c[1],m=f||t;R.useEffect(function(){(s||t)&&p(t)},[t,s]);var v=R.useState(function(){return mL(i)}),x=Ct(v,2),S=x[0],_=x[1];R.useEffect(function(){var G=mL(i);_(G??null)});var y=pne(m&&!S),A=Ct(y,2),w=A[0],E=A[1],I=S??w;xne(r&&t&&ua()&&(I===w||I===document.body));var P=null;if(a&&E0(a)&&e){var L=a;P=L.ref}var U=F1(P,e);if(!m||!ua()||S===void 0)return null;var F=I===!1||Sne(),O=a;return e&&(O=R.cloneElement(a,{ref:U})),R.createElement(Vk.Provider,{value:E},F?O:qS.createPortal(O,I))});function Ane(){var n=$e({},DS);return n.useId}var gL=0,vL=Ane();const Mne=vL?function(e){var t=vL();return e||t}:function(e){var t=R.useState("ssr-id"),r=Ct(t,2),i=r[0],o=r[1];return R.useEffect(function(){var s=gL;gL+=1,o("rc_unique_".concat(s))},[]),e||i};function yL(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function xL(n){const{closable:e,closeIcon:t}=n||{};return Xt.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let r={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,t])}function _L(){const n={};for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(i=>{i&&Object.keys(i).forEach(o=>{i[o]!==void 0&&(n[o]=i[o])})}),n}const wne={};function Cne(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wne;const r=xL(n),i=xL(e),o=Xt.useMemo(()=>Object.assign({closeIcon:Xt.createElement(bk,null)},t),[t]),s=Xt.useMemo(()=>r===!1?!1:r?_L(o,i,r):i===!1?!1:i?_L(o,i):o.closable?o:!1,[r,i,o]);return Xt.useMemo(()=>{if(s===!1)return[!1,null];const{closeIconRender:a}=o,{closeIcon:l}=s;let c=l;if(c!=null){a&&(c=a(l));const f=bS(s,!0);Object.keys(f).length&&(c=Xt.isValidElement(c)?Xt.cloneElement(c,f):Xt.createElement("span",Object.assign({},f),c))}return[!0,c]},[s,o])}var Td="RC_FORM_INTERNAL_HOOKS",Mr=function(){ts(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Mm=R.createContext({getFieldValue:Mr,getFieldsValue:Mr,getFieldError:Mr,getFieldWarning:Mr,getFieldsError:Mr,isFieldsTouched:Mr,isFieldTouched:Mr,isFieldValidating:Mr,isFieldsValidating:Mr,resetFields:Mr,setFields:Mr,setFieldValue:Mr,setFieldsValue:Mr,validateFields:Mr,submit:Mr,getInternalHooks:function(){return Mr(),{dispatch:Mr,initEntityValue:Mr,registerField:Mr,useSubscribe:Mr,setInitialValues:Mr,destroyForm:Mr,setCallbacks:Mr,registerWatch:Mr,getFields:Mr,setValidateMessages:Mr,setPreserve:Mr,getInitialValue:Mr}}}),PS=R.createContext(null);function HE(n){return n==null?[]:Array.isArray(n)?n:[n]}function Ene(n){return n&&!!n._init}function GE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var VE=GE();function bne(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function Tne(n,e,t){if(U1())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return t&&t0(i,t.prototype),i}function WE(n){var e=typeof Map=="function"?new Map:void 0;return WE=function(r){if(r===null||!bne(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Tne(r,arguments,th(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t0(i,r)},WE(n)}var Rne=/%[sdj%]/g,Pne=function(){};function $E(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function ia(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var s=n.replace(Rne,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return a}});return s}return n}function Ine(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function ji(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Ine(e)&&typeof n=="string"&&!n)}function Bne(n,e,t){var r=[],i=0,o=n.length;function s(a){r.push.apply(r,qt(a||[])),i++,i===o&&t(r)}n.forEach(function(a){e(a,s)})}function SL(n,e,t){var r=0,i=n.length;function o(s){if(s&&s.length){t(s);return}var a=r;r=r+1,a<i?e(n[a],o):t([])}o([])}function Lne(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,qt(n[t]||[]))}),e}var AL=function(n){fh(t,n);var e=b0(t);function t(r,i){var o;return ss(this,t),o=e.call(this,"Async Validation Error"),Ue(tr(o),"errors",void 0),Ue(tr(o),"fields",void 0),o.errors=r,o.fields=i,o}return as(t)}(WE(Error));function One(n,e,t,r,i){if(e.first){var o=new Promise(function(m,v){var x=function(y){return r(y),y.length?v(new AL(y,$E(y))):m(i)},S=Lne(n);SL(S,t,x)});return o.catch(function(m){return m}),o}var s=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,c=0,f=[],p=new Promise(function(m,v){var x=function(_){if(f.push.apply(f,_),c++,c===l)return r(f),f.length?v(new AL(f,$E(f))):m(i)};a.length||(r(f),m(i)),a.forEach(function(S){var _=n[S];s.indexOf(S)!==-1?SL(_,t,x):Bne(_,t,x)})});return p.catch(function(m){return m}),p}function Dne(n){return!!(n&&n.message!==void 0)}function Fne(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function ML(n,e){return function(t){var r;return n.fullFields?r=Fne(e,n.fullFields):r=e[t.field||n.fullField],Dne(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function wL(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];Vn(r)==="object"&&Vn(n[t])==="object"?n[t]=$e($e({},n[t]),r):n[t]=r}}return n}var gp="enum",Nne=function(e,t,r,i,o){e[gp]=Array.isArray(e[gp])?e[gp]:[],e[gp].indexOf(t)===-1&&i.push(ia(o.messages[gp],e.fullField,e[gp].join(", ")))},Une=function(e,t,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(ia(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(t)||i.push(ia(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},kne=function(e,t,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=t,p=null,m=typeof t=="number",v=typeof t=="string",x=Array.isArray(t);if(m?p="number":v?p="string":x&&(p="array"),!p)return!1;x&&(f=t.length),v&&(f=t.replace(c,"_").length),s?f!==e.len&&i.push(ia(o.messages[p].len,e.fullField,e.len)):a&&!l&&f<e.min?i.push(ia(o.messages[p].min,e.fullField,e.min)):l&&!a&&f>e.max?i.push(ia(o.messages[p].max,e.fullField,e.max)):a&&l&&(f<e.min||f>e.max)&&i.push(ia(o.messages[p].range,e.fullField,e.min,e.max))},Wk=function(e,t,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||ji(t,s||e.type))&&i.push(ia(o.messages.required,e.fullField))},o_;const zne=function(){if(o_)return o_;var n="[a-fA-F\\d:]",e=function(P){return P&&P.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(o),a=new RegExp("(?:^".concat(t,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(t,"$")),c=new RegExp("^".concat(s,"$")),f=function(P){return P&&P.exact?a:new RegExp("(?:".concat(e(P)).concat(t).concat(e(P),")|(?:").concat(e(P)).concat(s).concat(e(P),")"),"g")};f.v4=function(I){return I&&I.exact?l:new RegExp("".concat(e(I)).concat(t).concat(e(I)),"g")},f.v6=function(I){return I&&I.exact?c:new RegExp("".concat(e(I)).concat(s).concat(e(I)),"g")};var p="(?:(?:[a-z]+:)?//)",m="(?:\\S+(?::\\S*)?@)?",v=f.v4().source,x=f.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',E="(?:".concat(p,"|www\\.)").concat(m,"(?:localhost|").concat(v,"|").concat(x,"|").concat(S).concat(_).concat(y,")").concat(A).concat(w);return o_=new RegExp("(?:^".concat(E,"$)"),"i"),o_};var CL={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},iv={integer:function(e){return iv.number(e)&&parseInt(e,10)===e},float:function(e){return iv.number(e)&&!iv.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Vn(e)==="object"&&!iv.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(CL.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(zne())},hex:function(e){return typeof e=="string"&&!!e.match(CL.hex)}},Hne=function(e,t,r,i,o){if(e.required&&t===void 0){Wk(e,t,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?iv[a](t)||i.push(ia(o.messages.types[a],e.fullField,e.type)):a&&Vn(t)!==e.type&&i.push(ia(o.messages.types[a],e.fullField,e.type))},Gne=function(e,t,r,i,o){(/^\s+$/.test(t)||t==="")&&i.push(ia(o.messages.whitespace,e.fullField))};const Qn={required:Wk,whitespace:Gne,type:Hne,range:kne,enum:Nne,pattern:Une};var Vne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o)}r(s)},Wne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return r();Qn.required(e,t,i,s,o,"array"),t!=null&&(Qn.type(e,t,i,s,o),Qn.range(e,t,i,s,o))}r(s)},$ne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&Qn.type(e,t,i,s,o)}r(s)},jne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t,"date")&&!e.required)return r();if(Qn.required(e,t,i,s,o),!ji(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),Qn.type(e,l,i,s,o),l&&Qn.range(e,l.getTime(),i,s,o)}}r(s)},Xne="enum",Kne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&Qn[Xne](e,t,i,s,o)}r(s)},Jne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&(Qn.type(e,t,i,s,o),Qn.range(e,t,i,s,o))}r(s)},Yne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&(Qn.type(e,t,i,s,o),Qn.range(e,t,i,s,o))}r(s)},qne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&Qn.type(e,t,i,s,o)}r(s)},Qne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&(Qn.type(e,t,i,s,o),Qn.range(e,t,i,s,o))}r(s)},Zne=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),t!==void 0&&Qn.type(e,t,i,s,o)}r(s)},ere=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t,"string")&&!e.required)return r();Qn.required(e,t,i,s,o),ji(t,"string")||Qn.pattern(e,t,i,s,o)}r(s)},tre=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t)&&!e.required)return r();Qn.required(e,t,i,s,o),ji(t)||Qn.type(e,t,i,s,o)}r(s)},nre=function(e,t,r,i,o){var s=[],a=Array.isArray(t)?"array":Vn(t);Qn.required(e,t,i,s,o,a),r(s)},rre=function(e,t,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(ji(t,"string")&&!e.required)return r();Qn.required(e,t,i,s,o,"string"),ji(t,"string")||(Qn.type(e,t,i,s,o),Qn.range(e,t,i,s,o),Qn.pattern(e,t,i,s,o),e.whitespace===!0&&Qn.whitespace(e,t,i,s,o))}r(s)},vw=function(e,t,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(ji(t,s)&&!e.required)return r();Qn.required(e,t,i,a,o,s),ji(t,s)||Qn.type(e,t,i,a,o)}r(a)};const _v={string:rre,method:qne,number:Qne,boolean:$ne,regexp:tre,integer:Yne,float:Jne,array:Wne,object:Zne,enum:Kne,pattern:ere,date:jne,url:vw,hex:vw,email:vw,required:nre,any:Vne};var P0=function(){function n(e){ss(this,n),Ue(this,"rules",null),Ue(this,"_messages",VE),this.define(e)}return as(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(Vn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(i){var o=t[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=wL(GE(),t)),this._messages}},{key:"validate",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=t,a=i,l=o;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(x){var S=[],_={};function y(w){if(Array.isArray(w)){var E;S=(E=S).concat.apply(E,qt(w))}else S.push(w)}for(var A=0;A<x.length;A++)y(x[A]);S.length?(_=$E(S),l(S,_)):l(null,s)}if(a.messages){var f=this.messages();f===VE&&(f=GE()),wL(f,a.messages),a.messages=f}else a.messages=this.messages();var p={},m=a.keys||Object.keys(this.rules);m.forEach(function(x){var S=r.rules[x],_=s[x];S.forEach(function(y){var A=y;typeof A.transform=="function"&&(s===t&&(s=$e({},s)),_=s[x]=A.transform(_),_!=null&&(A.type=A.type||(Array.isArray(_)?"array":Vn(_)))),typeof A=="function"?A={validator:A}:A=$e({},A),A.validator=r.getValidationMethod(A),A.validator&&(A.field=x,A.fullField=A.fullField||x,A.type=r.getType(A),p[x]=p[x]||[],p[x].push({rule:A,value:_,source:s,field:x}))})});var v={};return One(p,a,function(x,S){var _=x.rule,y=(_.type==="object"||_.type==="array")&&(Vn(_.fields)==="object"||Vn(_.defaultField)==="object");y=y&&(_.required||!_.required&&x.value),_.field=x.field;function A(L,U){return $e($e({},U),{},{fullField:"".concat(_.fullField,".").concat(L),fullFields:_.fullFields?[].concat(qt(_.fullFields),[L]):[L]})}function w(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=Array.isArray(L)?L:[L];!a.suppressWarning&&U.length&&n.warning("async-validator:",U),U.length&&_.message!==void 0&&(U=[].concat(_.message));var F=U.map(ML(_,s));if(a.first&&F.length)return v[_.field]=1,S(F);if(!y)S(F);else{if(_.required&&!x.value)return _.message!==void 0?F=[].concat(_.message).map(ML(_,s)):a.error&&(F=[a.error(_,ia(a.messages.required,_.field))]),S(F);var O={};_.defaultField&&Object.keys(x.value).map(function(Z){O[Z]=_.defaultField}),O=$e($e({},O),x.rule.fields);var G={};Object.keys(O).forEach(function(Z){var ie=O[Z],se=Array.isArray(ie)?ie:[ie];G[Z]=se.map(A.bind(null,Z))});var te=new n(G);te.messages(a.messages),x.rule.options&&(x.rule.options.messages=a.messages,x.rule.options.error=a.error),te.validate(x.value,x.rule.options||a,function(Z){var ie=[];F&&F.length&&ie.push.apply(ie,qt(F)),Z&&Z.length&&ie.push.apply(ie,qt(Z)),S(ie.length?ie:null)})}}var E;if(_.asyncValidator)E=_.asyncValidator(_,x.value,w,x.source,a);else if(_.validator){try{E=_.validator(_,x.value,w,x.source,a)}catch(L){var I,P;(I=(P=console).error)===null||I===void 0||I.call(P,L),a.suppressValidatorError||setTimeout(function(){throw L},0),w(L.message)}E===!0?w():E===!1?w(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||"".concat(_.fullField||_.field," fails")):E instanceof Array?w(E):E instanceof Error&&w(E.message)}E&&E.then&&E.then(function(){return w()},function(L){return w(L)})},function(x){c(x)},s)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!_v.hasOwnProperty(t.type))throw new Error(ia("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?_v.required:_v[this.getType(t)]||void 0}}]),n}();Ue(P0,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");_v[e]=t});Ue(P0,"warning",Pne);Ue(P0,"messages",VE);Ue(P0,"validators",_v);var Ks="'${name}' is not a valid ${type}",$k={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ks,method:Ks,array:Ks,object:Ks,number:Ks,date:Ks,boolean:Ks,integer:Ks,float:Ks,regexp:Ks,email:Ks,url:Ks,hex:Ks},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},EL=P0;function ire(n,e){return n.replace(/\$\{\w+\}/g,function(t){var r=t.slice(2,-1);return e[r]})}var bL="CODE_LOGIC_ERROR";function jE(n,e,t,r,i){return XE.apply(this,arguments)}function XE(){return XE=dh(ns().mark(function n(e,t,r,i,o){var s,a,l,c,f,p,m,v,x;return ns().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s=$e({},r),delete s.ruleIndex,EL.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(bL)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new EL(Ue({},e,[s])),f=Hp($k,i.validateMessages),c.messages(f),p=[],_.prev=10,_.next=13,Promise.resolve(c.validate(Ue({},e,t),$e({},i)));case 13:_.next=18;break;case 15:_.prev=15,_.t0=_.catch(10),_.t0.errors&&(p=_.t0.errors.map(function(y,A){var w=y.message,E=w===bL?f.default:w;return R.isValidElement(E)?R.cloneElement(E,{key:"error_".concat(A)}):E}));case 18:if(!(!p.length&&l)){_.next=23;break}return _.next=21,Promise.all(t.map(function(y,A){return jE("".concat(e,".").concat(A),y,l,i,o)}));case 21:return m=_.sent,_.abrupt("return",m.reduce(function(y,A){return[].concat(qt(y),qt(A))},[]));case 23:return v=$e($e({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),x=p.map(function(y){return typeof y=="string"?ire(y,v):y}),_.abrupt("return",x);case 26:case"end":return _.stop()}},n,null,[[10,15]])})),XE.apply(this,arguments)}function ore(n,e,t,r,i,o){var s=n.join("."),a=t.map(function(f,p){var m=f.validator,v=$e($e({},f),{},{ruleIndex:p});return m&&(v.validator=function(x,S,_){var y=!1,A=function(){for(var I=arguments.length,P=new Array(I),L=0;L<I;L++)P[L]=arguments[L];Promise.resolve().then(function(){ts(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||_.apply(void 0,P)})},w=m(x,S,A);y=w&&typeof w.then=="function"&&typeof w.catch=="function",ts(y,"`callback` is deprecated. Please return a promise instead."),y&&w.then(function(){_()}).catch(function(E){_(E||" ")})}),v}).sort(function(f,p){var m=f.warningOnly,v=f.ruleIndex,x=p.warningOnly,S=p.ruleIndex;return!!m==!!x?v-S:m?1:-1}),l;if(i===!0)l=new Promise(function(){var f=dh(ns().mark(function p(m,v){var x,S,_;return ns().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:x=0;case 1:if(!(x<a.length)){A.next=12;break}return S=a[x],A.next=5,jE(s,e,S,r,o);case 5:if(_=A.sent,!_.length){A.next=9;break}return v([{errors:_,rule:S}]),A.abrupt("return");case 9:x+=1,A.next=1;break;case 12:m([]);case 13:case"end":return A.stop()}},p)}));return function(p,m){return f.apply(this,arguments)}}());else{var c=a.map(function(f){return jE(s,e,f,r,o).then(function(p){return{errors:p,rule:f}})});l=(i?are(c):sre(c)).then(function(f){return Promise.reject(f)})}return l.catch(function(f){return f}),l}function sre(n){return KE.apply(this,arguments)}function KE(){return KE=dh(ns().mark(function n(e){return ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,qt(i));return s}));case 1:case"end":return r.stop()}},n)})),KE.apply(this,arguments)}function are(n){return JE.apply(this,arguments)}function JE(){return JE=dh(ns().mark(function n(e){var t;return ns().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return i.stop()}},n)})),JE.apply(this,arguments)}function wi(n){return HE(n)}function TL(n,e){var t={};return e.forEach(function(r){var i=$l(n,r);t=ul(t,r,i)}),t}function tm(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return jk(e,r,t)})}function jk(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,i){return n[i]===r})}function lre(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||Vn(n)!=="object"||Vn(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),i=new Set([].concat(t,r));return qt(i).every(function(o){var s=n[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function cre(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Vn(e.target)==="object"&&n in e.target?e.target[n]:e}function RL(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var i=n[e],o=e-t;return o>0?[].concat(qt(n.slice(0,t)),[i],qt(n.slice(t,e)),qt(n.slice(e+1,r))):o<0?[].concat(qt(n.slice(0,e)),qt(n.slice(e+1,t+1)),[i],qt(n.slice(t+1,r))):n}var ure=["name"],ba=[];function PL(n,e,t,r,i,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):r!==i}var dR=function(n){fh(t,n);var e=b0(t);function t(r){var i;if(ss(this,t),i=e.call(this,r),Ue(tr(i),"state",{resetCount:0}),Ue(tr(i),"cancelRegisterFunc",null),Ue(tr(i),"mounted",!1),Ue(tr(i),"touched",!1),Ue(tr(i),"dirty",!1),Ue(tr(i),"validatePromise",void 0),Ue(tr(i),"prevValidating",void 0),Ue(tr(i),"errors",ba),Ue(tr(i),"warnings",ba),Ue(tr(i),"cancelRegister",function(){var l=i.props,c=l.preserve,f=l.isListField,p=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(f,c,wi(p)),i.cancelRegisterFunc=null}),Ue(tr(i),"getNamePath",function(){var l=i.props,c=l.name,f=l.fieldContext,p=f.prefixName,m=p===void 0?[]:p;return c!==void 0?[].concat(qt(m),qt(c)):[]}),Ue(tr(i),"getRules",function(){var l=i.props,c=l.rules,f=c===void 0?[]:c,p=l.fieldContext;return f.map(function(m){return typeof m=="function"?m(p):m})}),Ue(tr(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),Ue(tr(i),"metaCache",null),Ue(tr(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var f=$e($e({},i.getMeta()),{},{destroy:l});MS(i.metaCache,f)||c(f),i.metaCache=f}else i.metaCache=null}),Ue(tr(i),"onStoreChange",function(l,c,f){var p=i.props,m=p.shouldUpdate,v=p.dependencies,x=v===void 0?[]:v,S=p.onReset,_=f.store,y=i.getNamePath(),A=i.getValue(l),w=i.getValue(_),E=c&&tm(c,y);switch(f.type==="valueUpdate"&&f.source==="external"&&!MS(A,w)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ba,i.warnings=ba,i.triggerMetaEvent()),f.type){case"reset":if(!c||E){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ba,i.warnings=ba,i.triggerMetaEvent(),S==null||S(),i.refresh();return}break;case"remove":{if(m){i.reRender();return}break}case"setField":{var I=f.data;if(E){"touched"in I&&(i.touched=I.touched),"validating"in I&&!("originRCField"in I)&&(i.validatePromise=I.validating?Promise.resolve([]):null),"errors"in I&&(i.errors=I.errors||ba),"warnings"in I&&(i.warnings=I.warnings||ba),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in I&&tm(c,y,!0)){i.reRender();return}if(m&&!y.length&&PL(m,l,_,A,w,f)){i.reRender();return}break}case"dependenciesUpdate":{var P=x.map(wi);if(P.some(function(L){return tm(f.relatedFields,L)})){i.reRender();return}break}default:if(E||(!x.length||y.length||m)&&PL(m,l,_,A,w,f)){i.reRender();return}break}m===!0&&i.reRender()}),Ue(tr(i),"validateRules",function(l){var c=i.getNamePath(),f=i.getValue(),p=l||{},m=p.triggerName,v=p.validateOnly,x=v===void 0?!1:v,S=Promise.resolve().then(dh(ns().mark(function _(){var y,A,w,E,I,P,L;return ns().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(i.mounted){F.next=2;break}return F.abrupt("return",[]);case 2:if(y=i.props,A=y.validateFirst,w=A===void 0?!1:A,E=y.messageVariables,I=y.validateDebounce,P=i.getRules(),m&&(P=P.filter(function(O){return O}).filter(function(O){var G=O.validateTrigger;if(!G)return!0;var te=HE(G);return te.includes(m)})),!(I&&m)){F.next=10;break}return F.next=8,new Promise(function(O){setTimeout(O,I)});case 8:if(i.validatePromise===S){F.next=10;break}return F.abrupt("return",[]);case 10:return L=ore(c,f,P,l,w,E),L.catch(function(O){return O}).then(function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ba;if(i.validatePromise===S){var G;i.validatePromise=null;var te=[],Z=[];(G=O.forEach)===null||G===void 0||G.call(O,function(ie){var se=ie.rule.warningOnly,K=ie.errors,X=K===void 0?ba:K;se?Z.push.apply(Z,qt(X)):te.push.apply(te,qt(X))}),i.errors=te,i.warnings=Z,i.triggerMetaEvent(),i.reRender()}}),F.abrupt("return",L);case 13:case"end":return F.stop()}},_)})));return x||(i.validatePromise=S,i.dirty=!0,i.errors=ba,i.warnings=ba,i.triggerMetaEvent(),i.reRender()),S}),Ue(tr(i),"isFieldValidating",function(){return!!i.validatePromise}),Ue(tr(i),"isFieldTouched",function(){return i.touched}),Ue(tr(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Td),f=c.getInitialValue;return f(i.getNamePath())!==void 0}),Ue(tr(i),"getErrors",function(){return i.errors}),Ue(tr(i),"getWarnings",function(){return i.warnings}),Ue(tr(i),"isListField",function(){return i.props.isListField}),Ue(tr(i),"isList",function(){return i.props.isList}),Ue(tr(i),"isPreserve",function(){return i.props.preserve}),Ue(tr(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),Ue(tr(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return $e($e({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var f=xS(l);return f.length!==1||!R.isValidElement(f[0])?{child:f,isFunction:!1}:{child:f[0],isFunction:!1}}),Ue(tr(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,f=i.getNamePath();return $l(l||c(!0),f)}),Ue(tr(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,f=c.name,p=c.trigger,m=c.validateTrigger,v=c.getValueFromEvent,x=c.normalize,S=c.valuePropName,_=c.getValueProps,y=c.fieldContext,A=m!==void 0?m:y.validateTrigger,w=i.getNamePath(),E=y.getInternalHooks,I=y.getFieldsValue,P=E(Td),L=P.dispatch,U=i.getValue(),F=_||function(ie){return Ue({},S,ie)},O=l[p],G=f!==void 0?F(U):{},te=$e($e({},l),G);te[p]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var ie,se=arguments.length,K=new Array(se),X=0;X<se;X++)K[X]=arguments[X];v?ie=v.apply(void 0,K):ie=cre.apply(void 0,[S].concat(K)),x&&(ie=x(ie,U,I(!0))),L({type:"updateValue",namePath:w,value:ie}),O&&O.apply(void 0,K)};var Z=HE(A||[]);return Z.forEach(function(ie){var se=te[ie];te[ie]=function(){se&&se.apply(void 0,arguments);var K=i.props.rules;K&&K.length&&L({type:"validateField",namePath:w,triggerName:ie})}}),te}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Td),a=s.initEntityValue;a(tr(i))}return i}return as(t,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Td),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:R.isValidElement(a)?c=R.cloneElement(a,this.getControlled(a.props)):(ts(!a,"`children` of Field is not validate ReactElement."),c=a),R.createElement(R.Fragment,{key:i},c)}}]),t}(R.Component);Ue(dR,"contextType",Mm);Ue(dR,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Xk(n){var e=n.name,t=Rs(n,ure),r=R.useContext(Mm),i=R.useContext(PS),o=e!==void 0?wi(e):void 0,s="keep";return t.isListField||(s="_".concat((o||[]).join("_"))),R.createElement(dR,Pr({key:s,name:o,isListField:!!i},t,{fieldContext:r}))}function fre(n){var e=n.name,t=n.initialValue,r=n.children,i=n.rules,o=n.validateTrigger,s=n.isListField,a=R.useContext(Mm),l=R.useContext(PS),c=R.useRef({keys:[],id:0}),f=c.current,p=R.useMemo(function(){var S=wi(a.prefixName)||[];return[].concat(qt(S),qt(wi(e)))},[a.prefixName,e]),m=R.useMemo(function(){return $e($e({},a),{},{prefixName:p})},[a,p]),v=R.useMemo(function(){return{getKey:function(_){var y=p.length,A=_[y];return[f.keys[A],_.slice(y+1)]}}},[p]);if(typeof r!="function")return ts(!1,"Form.List only accepts function as children."),null;var x=function(_,y,A){var w=A.source;return w==="internal"?!1:_!==y};return R.createElement(PS.Provider,{value:v},R.createElement(Mm.Provider,{value:m},R.createElement(Xk,{name:[],shouldUpdate:x,rules:i,validateTrigger:o,initialValue:t,isList:!0,isListField:s??!!l},function(S,_){var y=S.value,A=y===void 0?[]:y,w=S.onChange,E=a.getFieldValue,I=function(){var F=E(p||[]);return F||[]},P={add:function(F,O){var G=I();O>=0&&O<=G.length?(f.keys=[].concat(qt(f.keys.slice(0,O)),[f.id],qt(f.keys.slice(O))),w([].concat(qt(G.slice(0,O)),[F],qt(G.slice(O))))):(f.keys=[].concat(qt(f.keys),[f.id]),w([].concat(qt(G),[F]))),f.id+=1},remove:function(F){var O=I(),G=new Set(Array.isArray(F)?F:[F]);G.size<=0||(f.keys=f.keys.filter(function(te,Z){return!G.has(Z)}),w(O.filter(function(te,Z){return!G.has(Z)})))},move:function(F,O){if(F!==O){var G=I();F<0||F>=G.length||O<0||O>=G.length||(f.keys=RL(f.keys,F,O),w(RL(G,F,O)))}}},L=A||[];return Array.isArray(L)||(L=[]),r(L.map(function(U,F){var O=f.keys[F];return O===void 0&&(f.keys[F]=f.id,O=f.keys[F],f.id+=1),{name:F,key:O,isListField:!0}}),P,_)})))}function dre(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(i,o){n.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){t-=1,r[a]=l,!(t>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var Kk="__@field_split__";function yw(n){return n.map(function(e){return"".concat(Vn(e),":").concat(e)}).join(Kk)}var vp=function(){function n(){ss(this,n),Ue(this,"kvs",new Map)}return as(n,[{key:"set",value:function(t,r){this.kvs.set(yw(t),r)}},{key:"get",value:function(t){return this.kvs.get(yw(t))}},{key:"update",value:function(t,r){var i=this.get(t),o=r(i);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(yw(t))}},{key:"map",value:function(t){return qt(this.kvs.entries()).map(function(r){var i=Ct(r,2),o=i[0],s=i[1],a=o.split(Kk);return t({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),f=Ct(c,3),p=f[1],m=f[2];return p==="number"?Number(m):m}),value:s})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var i=r.key,o=r.value;return t[i.join(".")]=o,null}),t}}]),n}(),hre=["name"],pre=as(function n(e){var t=this;ss(this,n),Ue(this,"formHooked",!1),Ue(this,"forceRootUpdate",void 0),Ue(this,"subscribable",!0),Ue(this,"store",{}),Ue(this,"fieldEntities",[]),Ue(this,"initialValues",{}),Ue(this,"callbacks",{}),Ue(this,"validateMessages",null),Ue(this,"preserve",null),Ue(this,"lastValidatePromise",null),Ue(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),Ue(this,"getInternalHooks",function(r){return r===Td?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(ts(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Ue(this,"useSubscribe",function(r){t.subscribable=r}),Ue(this,"prevWithoutPreserves",null),Ue(this,"setInitialValues",function(r,i){if(t.initialValues=r||{},i){var o,s=Hp(r,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=ul(s,l,$l(r,l))}),t.prevWithoutPreserves=null,t.updateStore(s)}}),Ue(this,"destroyForm",function(r){if(r)t.updateStore({});else{var i=new vp;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=i}}),Ue(this,"getInitialValue",function(r){var i=$l(t.initialValues,r);return r.length?Hp(i):i}),Ue(this,"setCallbacks",function(r){t.callbacks=r}),Ue(this,"setValidateMessages",function(r){t.validateMessages=r}),Ue(this,"setPreserve",function(r){t.preserve=r}),Ue(this,"watchList",[]),Ue(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(i){return i!==r})}}),Ue(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var i=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(s){s(i,o,r)})}}),Ue(this,"timeoutId",null),Ue(this,"warningUnhooked",function(){}),Ue(this,"updateStore",function(r){t.store=r}),Ue(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(i){return i.getNamePath().length}):t.fieldEntities}),Ue(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new vp;return t.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),Ue(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var i=t.getFieldsMap(!0);return r.map(function(o){var s=wi(o);return i.get(s)||{INVALIDATE_NAME_PATH:wi(o)}})}),Ue(this,"getFieldsValue",function(r,i){t.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&Vn(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(f){var p,m,v="INVALIDATE_NAME_PATH"in f?f.INVALIDATE_NAME_PATH:f.getNamePath();if(a){var x,S;if((x=(S=f).isList)!==null&&x!==void 0&&x.call(S))return}else if(!o&&(p=(m=f).isListField)!==null&&p!==void 0&&p.call(m))return;if(!s)c.push(v);else{var _="getMeta"in f?f.getMeta():null;s(_)&&c.push(v)}}),TL(t.store,c.map(wi))}),Ue(this,"getFieldValue",function(r){t.warningUnhooked();var i=wi(r);return $l(t.store,i)}),Ue(this,"getFieldsError",function(r){t.warningUnhooked();var i=t.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:wi(r[s]),errors:[],warnings:[]}})}),Ue(this,"getFieldError",function(r){t.warningUnhooked();var i=wi(r),o=t.getFieldsError([i])[0];return o.errors}),Ue(this,"getFieldWarning",function(r){t.warningUnhooked();var i=wi(r),o=t.getFieldsError([i])[0];return o.warnings}),Ue(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(wi),c=!1):(l=null,c=s):(l=s.map(wi),c=a);var f=t.getFieldEntities(!0),p=function(_){return _.isFieldTouched()};if(!l)return c?f.every(function(S){return p(S)||S.isList()}):f.some(p);var m=new vp;l.forEach(function(S){m.set(S,[])}),f.forEach(function(S){var _=S.getNamePath();l.forEach(function(y){y.every(function(A,w){return _[w]===A})&&m.update(y,function(A){return[].concat(qt(A),[S])})})});var v=function(_){return _.some(p)},x=m.map(function(S){var _=S.value;return _});return c?x.every(v):x.some(v)}),Ue(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),Ue(this,"isFieldsValidating",function(r){t.warningUnhooked();var i=t.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(wi);return i.some(function(s){var a=s.getNamePath();return tm(o,a)&&s.isFieldValidating()})}),Ue(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),Ue(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new vp,o=t.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,f=l.getNamePath();if(c!==void 0){var p=i.get(f)||new Set;p.add({entity:l,value:c}),i.set(f,p)}});var s=function(c){c.forEach(function(f){var p=f.props.initialValue;if(p!==void 0){var m=f.getNamePath(),v=t.getInitialValue(m);if(v!==void 0)ts(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var x=i.get(m);if(x&&x.size>1)ts(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(x){var S=t.getFieldValue(m),_=f.isListField();!_&&(!r.skipExist||S===void 0)&&t.updateStore(ul(t.store,m,qt(x)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var f;(f=a).push.apply(f,qt(qt(c).map(function(p){return p.entity})))}})):a=o,s(a)}),Ue(this,"resetFields",function(r){t.warningUnhooked();var i=t.store;if(!r){t.updateStore(Hp(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(i,null,{type:"reset"}),t.notifyWatch();return}var o=r.map(wi);o.forEach(function(s){var a=t.getInitialValue(s);t.updateStore(ul(t.store,s,a))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(i,o,{type:"reset"}),t.notifyWatch(o)}),Ue(this,"setFields",function(r){t.warningUnhooked();var i=t.store,o=[];r.forEach(function(s){var a=s.name,l=Rs(s,hre),c=wi(a);o.push(c),"value"in l&&t.updateStore(ul(t.store,c,l.value)),t.notifyObservers(i,[c],{type:"setField",data:s})}),t.notifyWatch(o)}),Ue(this,"getFields",function(){var r=t.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=$e($e({},a),{},{name:s,value:t.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),Ue(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=$l(t.store,o);s===void 0&&t.updateStore(ul(t.store,o,i))}}),Ue(this,"isMergedPreserve",function(r){var i=r!==void 0?r:t.preserve;return i??!0}),Ue(this,"registerField",function(r){t.fieldEntities.push(r);var i=r.getNamePath();if(t.notifyWatch([i]),r.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(p){return p!==r}),!t.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:t.getInitialValue(i);if(i.length&&t.getFieldValue(i)!==c&&t.fieldEntities.every(function(p){return!jk(p.getNamePath(),i)})){var f=t.store;t.updateStore(ul(f,i,c,!0)),t.notifyObservers(f,[i],{type:"remove"}),t.triggerDependenciesUpdate(f,i)}}t.notifyWatch([i])}}),Ue(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;t.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;t.validateFields([s],{triggerName:a});break}}}),Ue(this,"notifyObservers",function(r,i,o){if(t.subscribable){var s=$e($e({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else t.forceRootUpdate()}),Ue(this,"triggerDependenciesUpdate",function(r,i){var o=t.getDependencyChildrenFields(i);return o.length&&t.validateFields(o),t.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(qt(o))}),o}),Ue(this,"updateValue",function(r,i){var o=wi(r),s=t.store;t.updateStore(ul(t.store,o,i)),t.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var a=t.triggerDependenciesUpdate(s,o),l=t.callbacks.onValuesChange;if(l){var c=TL(t.store,[o]);l(c,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(qt(a)))}),Ue(this,"setFieldsValue",function(r){t.warningUnhooked();var i=t.store;if(r){var o=Hp(t.store,r);t.updateStore(o)}t.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),Ue(this,"setFieldValue",function(r,i){t.setFields([{name:r,value:i}])}),Ue(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new vp;t.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(f){var p=wi(f);s.update(p,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(l),m})})});var a=function l(c){var f=s.get(c)||new Set;f.forEach(function(p){if(!i.has(p)){i.add(p);var m=p.getNamePath();p.isFieldDirty()&&m.length&&(o.push(m),l(m))}})};return a(r),o}),Ue(this,"triggerOnFieldsChange",function(r,i){var o=t.callbacks.onFieldsChange;if(o){var s=t.getFields();if(i){var a=new vp;i.forEach(function(c){var f=c.name,p=c.errors;a.set(f,p)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var f=c.name;return tm(r,f)});l.length&&o(l,s)}}),Ue(this,"validateFields",function(r,i){t.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(wi):[],c=[],f=String(Date.now()),p=new Set,m=s||{},v=m.recursive,x=m.dirty;t.getFieldEntities(!0).forEach(function(A){if(a||l.push(A.getNamePath()),!(!A.props.rules||!A.props.rules.length)&&!(x&&!A.isFieldDirty())){var w=A.getNamePath();if(p.add(w.join(f)),!a||tm(l,w,v)){var E=A.validateRules($e({validateMessages:$e($e({},$k),t.validateMessages)},s));c.push(E.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(I){var P,L=[],U=[];return(P=I.forEach)===null||P===void 0||P.call(I,function(F){var O=F.rule.warningOnly,G=F.errors;O?U.push.apply(U,qt(G)):L.push.apply(L,qt(G))}),L.length?Promise.reject({name:w,errors:L,warnings:U}):{name:w,errors:L,warnings:U}}))}}});var S=dre(c);t.lastValidatePromise=S,S.catch(function(A){return A}).then(function(A){var w=A.map(function(E){var I=E.name;return I});t.notifyObservers(t.store,w,{type:"validateFinish"}),t.triggerOnFieldsChange(w,A)});var _=S.then(function(){return t.lastValidatePromise===S?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(A){var w=A.filter(function(E){return E&&E.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:w,outOfDate:t.lastValidatePromise!==S})});_.catch(function(A){return A});var y=l.filter(function(A){return p.has(A.join(f))});return t.triggerOnFieldsChange(y),_}),Ue(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var i=t.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=t.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function Jk(n){var e=R.useRef(),t=R.useState({}),r=Ct(t,2),i=r[1];if(!e.current)if(n)e.current=n;else{var o=function(){i({})},s=new pre(o);e.current=s.getForm()}return[e.current]}var YE=R.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),mre=function(e){var t=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=R.useContext(YE),a=R.useRef({});return R.createElement(YE.Provider,{value:$e($e({},s),{},{validateMessages:$e($e({},s.validateMessages),t),triggerFormChange:function(c,f){r&&r(c,{changedFields:f,forms:a.current}),s.triggerFormChange(c,f)},triggerFormFinish:function(c,f){i&&i(c,{values:f,forms:a.current}),s.triggerFormFinish(c,f)},registerForm:function(c,f){c&&(a.current=$e($e({},a.current),{},Ue({},c,f))),s.registerForm(c,f)},unregisterForm:function(c){var f=$e({},a.current);delete f[c],a.current=f,s.unregisterForm(c)}})},o)},gre=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],vre=function(e,t){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,f=c===void 0?"form":c,p=e.validateMessages,m=e.validateTrigger,v=m===void 0?"onChange":m,x=e.onValuesChange,S=e.onFieldsChange,_=e.onFinish,y=e.onFinishFailed,A=e.clearOnDestroy,w=Rs(e,gre),E=R.useRef(null),I=R.useContext(YE),P=Jk(s),L=Ct(P,1),U=L[0],F=U.getInternalHooks(Td),O=F.useSubscribe,G=F.setInitialValues,te=F.setCallbacks,Z=F.setValidateMessages,ie=F.setPreserve,se=F.destroyForm;R.useImperativeHandle(t,function(){return $e($e({},U),{},{nativeElement:E.current})}),R.useEffect(function(){return I.registerForm(r,U),function(){I.unregisterForm(r)}},[I,U,r]),Z($e($e({},I.validateMessages),p)),te({onValuesChange:x,onFieldsChange:function(de){if(I.triggerFormChange(r,de),S){for(var Ce=arguments.length,De=new Array(Ce>1?Ce-1:0),Pe=1;Pe<Ce;Pe++)De[Pe-1]=arguments[Pe];S.apply(void 0,[de].concat(De))}},onFinish:function(de){I.triggerFormFinish(r,de),_&&_(de)},onFinishFailed:y}),ie(a);var K=R.useRef(null);G(i,!K.current),K.current||(K.current=!0),R.useEffect(function(){return function(){return se(A)}},[]);var X,N=typeof l=="function";if(N){var j=U.getFieldsValue(!0);X=l(j,U)}else X=l;O(!N);var J=R.useRef();R.useEffect(function(){lre(J.current||[],o||[])||U.setFields(o||[]),J.current=o},[o,U]);var re=R.useMemo(function(){return $e($e({},U),{},{validateTrigger:v})},[U,v]),pe=R.createElement(PS.Provider,{value:null},R.createElement(Mm.Provider,{value:re},X));return f===!1?pe:R.createElement(f,Pr({},w,{ref:E,onSubmit:function(de){de.preventDefault(),de.stopPropagation(),U.submit()},onReset:function(de){var Ce;de.preventDefault(),U.resetFields(),(Ce=w.onReset)===null||Ce===void 0||Ce.call(w,de)}}),pe)};function IL(n){try{return JSON.stringify(n)}catch{return Math.random()}}function yre(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],i=e[1],o=i===void 0?{}:i,s=Ene(o)?{form:o}:o,a=s.form,l=R.useState(),c=Ct(l,2),f=c[0],p=c[1],m=R.useMemo(function(){return IL(f)},[f]),v=R.useRef(m);v.current=m;var x=R.useContext(Mm),S=a||x,_=S&&S._init,y=wi(r),A=R.useRef(y);return A.current=y,R.useEffect(function(){if(_){var w=S.getFieldsValue,E=S.getInternalHooks,I=E(Td),P=I.registerWatch,L=function(G,te){var Z=s.preserve?te:G;return typeof r=="function"?r(Z):$l(Z,A.current)},U=P(function(O,G){var te=L(O,G),Z=IL(te);v.current!==Z&&(v.current=Z,p(te))}),F=L(w(),w(!0));return f!==F&&p(F),U}},[_]),f}var xre=R.forwardRef(vre),I0=xre;I0.FormProvider=mre;I0.Field=Xk;I0.List=fre;I0.useForm=Jk;I0.useWatch=yre;const qE=R.createContext({}),_re=n=>{let{children:e,status:t,override:r}=n;const i=R.useContext(qE),o=R.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,t&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[t,r,i]);return R.createElement(qE.Provider,{value:o},e)},j1=n=>{const{prefixCls:e,className:t,style:r,size:i,shape:o}=n,s=Nt({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),a=Nt({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=R.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return R.createElement("span",{className:Nt(e,s,a,t),style:Object.assign(Object.assign({},l),r)})},Sre=new ls("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),X1=n=>({height:n,lineHeight:$n(n)}),nm=n=>Object.assign({width:n},X1(n)),Are=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Sre,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),xw=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},X1(n)),Mre=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=n;return{[`${e}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},nm(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},nm(i)),[`${e}${e}-sm`]:Object.assign({},nm(o))}},wre=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=n;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t},xw(e,a)),[`${r}-lg`]:Object.assign({},xw(i,a)),[`${r}-sm`]:Object.assign({},xw(o,a))}},BL=n=>Object.assign({width:n},X1(n)),Cre=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:r,borderRadiusSM:i,calc:o}=n;return{[`${e}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:i},BL(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},BL(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},_w=(n,e,t)=>{const{skeletonButtonCls:r}=n;return{[`${t}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${r}-round`]:{borderRadius:e}}},Sw=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},X1(n)),Ere=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},Sw(r,a))},_w(n,r,t)),{[`${t}-lg`]:Object.assign({},Sw(i,a))}),_w(n,i,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},Sw(o,a))}),_w(n,o,`${t}-sm`))},bre=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:c,controlHeightSM:f,gradientFromColor:p,padding:m,marginSM:v,borderRadius:x,titleHeight:S,blockRadius:_,paragraphLiHeight:y,controlHeightXS:A,paragraphMarginTop:w}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},nm(l)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},nm(c)),[`${t}-sm`]:Object.assign({},nm(f))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:S,background:p,borderRadius:_,[`+ ${i}`]:{marginBlockStart:f}},[`${i}`]:{padding:0,"> li":{width:"100%",height:y,listStyle:"none",background:p,borderRadius:_,"+ li":{marginBlockStart:A}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:x}}},[`${e}-with-avatar ${e}-content`]:{[`${r}`]:{marginBlockStart:v,[`+ ${i}`]:{marginBlockStart:w}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Ere(n)),Mre(n)),wre(n)),Cre(n)),[`${e}${e}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${s}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${t},
        ${o},
        ${s},
        ${a}
      `]:Object.assign({},Are(n))}}},Tre=n=>{const{colorFillContent:e,colorFill:t}=n,r=e,i=t;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},Nm=qc("Skeleton",n=>{const{componentCls:e,calc:t}=n,r=cs(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[bre(r)]},Tre,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Rre=n=>{const{prefixCls:e,className:t,rootClassName:r,active:i,shape:o="circle",size:s="default"}=n,{getPrefixCls:a}=R.useContext(kr),l=a("skeleton",e),[c,f,p]=Nm(l),m=Om(n,["prefixCls","className"]),v=Nt(l,`${l}-element`,{[`${l}-active`]:i},t,r,f,p);return c(R.createElement("div",{className:v},R.createElement(j1,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:s},m))))},Pre=n=>{const{prefixCls:e,className:t,rootClassName:r,active:i,block:o=!1,size:s="default"}=n,{getPrefixCls:a}=R.useContext(kr),l=a("skeleton",e),[c,f,p]=Nm(l),m=Om(n,["prefixCls"]),v=Nt(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},t,r,f,p);return c(R.createElement("div",{className:v},R.createElement(j1,Object.assign({prefixCls:`${l}-button`,size:s},m))))},Ire="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Bre=n=>{const{prefixCls:e,className:t,rootClassName:r,style:i,active:o}=n,{getPrefixCls:s}=R.useContext(kr),a=s("skeleton",e),[l,c,f]=Nm(a),p=Nt(a,`${a}-element`,{[`${a}-active`]:o},t,r,c,f);return l(R.createElement("div",{className:p},R.createElement("div",{className:Nt(`${a}-image`,t),style:i},R.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${a}-image-svg`},R.createElement("path",{d:Ire,className:`${a}-image-path`})))))},Lre=n=>{const{prefixCls:e,className:t,rootClassName:r,active:i,block:o,size:s="default"}=n,{getPrefixCls:a}=R.useContext(kr),l=a("skeleton",e),[c,f,p]=Nm(l),m=Om(n,["prefixCls"]),v=Nt(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},t,r,f,p);return c(R.createElement("div",{className:v},R.createElement(j1,Object.assign({prefixCls:`${l}-input`,size:s},m))))};var Ore={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},Dre=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:Ore}))},Fre=R.forwardRef(Dre);const Nre=n=>{const{prefixCls:e,className:t,rootClassName:r,style:i,active:o,children:s}=n,{getPrefixCls:a}=R.useContext(kr),l=a("skeleton",e),[c,f,p]=Nm(l),m=Nt(l,`${l}-element`,{[`${l}-active`]:o},f,t,r,p),v=s??R.createElement(Fre,null);return c(R.createElement("div",{className:m},R.createElement("div",{className:Nt(`${l}-image`,t),style:i},v)))},Ure=(n,e)=>{const{width:t,rows:r=2}=e;if(Array.isArray(t))return t[n];if(r-1===n)return t},kre=n=>{const{prefixCls:e,className:t,style:r,rows:i}=n,o=qt(Array(i)).map((s,a)=>R.createElement("li",{key:a,style:{width:Ure(a,n)}}));return R.createElement("ul",{className:Nt(e,t),style:r},o)},zre=n=>{let{prefixCls:e,className:t,width:r,style:i}=n;return R.createElement("h3",{className:Nt(e,t),style:Object.assign({width:r},i)})};function Aw(n){return n&&typeof n=="object"?n:{}}function Hre(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Gre(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Vre(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const Um=n=>{const{prefixCls:e,loading:t,className:r,rootClassName:i,style:o,children:s,avatar:a=!1,title:l=!0,paragraph:c=!0,active:f,round:p}=n,{getPrefixCls:m,direction:v,skeleton:x}=R.useContext(kr),S=m("skeleton",e),[_,y,A]=Nm(S);if(t||!("loading"in n)){const w=!!a,E=!!l,I=!!c;let P;if(w){const F=Object.assign(Object.assign({prefixCls:`${S}-avatar`},Hre(E,I)),Aw(a));P=R.createElement("div",{className:`${S}-header`},R.createElement(j1,Object.assign({},F)))}let L;if(E||I){let F;if(E){const G=Object.assign(Object.assign({prefixCls:`${S}-title`},Gre(w,I)),Aw(l));F=R.createElement(zre,Object.assign({},G))}let O;if(I){const G=Object.assign(Object.assign({prefixCls:`${S}-paragraph`},Vre(w,E)),Aw(c));O=R.createElement(kre,Object.assign({},G))}L=R.createElement("div",{className:`${S}-content`},F,O)}const U=Nt(S,{[`${S}-with-avatar`]:w,[`${S}-active`]:f,[`${S}-rtl`]:v==="rtl",[`${S}-round`]:p},x==null?void 0:x.className,r,i,y,A);return _(R.createElement("div",{className:U,style:Object.assign(Object.assign({},x==null?void 0:x.style),o)},P,L))}return s??null};Um.Button=Pre;Um.Avatar=Rre;Um.Input=Lre;Um.Image=Bre;Um.Node=Nre;function LL(){}const Wre=R.createContext({add:LL,remove:LL});function $re(n){const e=R.useContext(Wre),t=R.useRef();return qs(i=>{if(i){const o=i;e.add(o),t.current=o}else e.remove(t.current)})}const jre=n=>({animationDuration:n,animationFillMode:"both"}),Xre=n=>({animationDuration:n,animationFillMode:"both"}),Kre=function(n,e,t,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},jre(r)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},Xre(r)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},Jre=new ls("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Yre=new ls("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),OL=new ls("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),DL=new ls("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),qre=new ls("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Qre=new ls("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Zre=new ls("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),eie=new ls("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),tie=new ls("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),nie=new ls("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),rie=new ls("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),iie=new ls("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),oie={zoom:{inKeyframes:Jre,outKeyframes:Yre},"zoom-big":{inKeyframes:OL,outKeyframes:DL},"zoom-big-fast":{inKeyframes:OL,outKeyframes:DL},"zoom-left":{inKeyframes:Zre,outKeyframes:eie},"zoom-right":{inKeyframes:tie,outKeyframes:nie},"zoom-up":{inKeyframes:qre,outKeyframes:Qre},"zoom-down":{inKeyframes:rie,outKeyframes:iie}},sie=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:i,outKeyframes:o}=oie[e];return[Kre(r,i,o,n.motionDurationFast),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},aie=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};function lie(n){var e=n.prefixCls,t=n.align,r=n.arrow,i=n.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,c=l===void 0?0:l,f=i.y,p=f===void 0?0:f,m=R.useRef();if(!t||!t.points)return null;var v={position:"absolute"};if(t.autoArrow!==!1){var x=t.points[0],S=t.points[1],_=x[0],y=x[1],A=S[0],w=S[1];_===A||!["t","b"].includes(_)?v.top=p:_==="t"?v.top=0:v.bottom=0,y===w||!["l","r"].includes(y)?v.left=c:y==="l"?v.left=0:v.right=0}return R.createElement("div",{ref:m,className:Nt("".concat(e,"-arrow"),s),style:v},a)}function cie(n){var e=n.prefixCls,t=n.open,r=n.zIndex,i=n.mask,o=n.motion;return i?R.createElement(rh,Pr({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(s){var a=s.className;return R.createElement("div",{style:{zIndex:r},className:Nt("".concat(e,"-mask"),a)})}):null}var uie=R.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),fie=R.forwardRef(function(n,e){var t=n.popup,r=n.className,i=n.prefixCls,o=n.style,s=n.target,a=n.onVisibleChanged,l=n.open,c=n.keepDom,f=n.fresh,p=n.onClick,m=n.mask,v=n.arrow,x=n.arrowPos,S=n.align,_=n.motion,y=n.maskMotion,A=n.forceRender,w=n.getPopupContainer,E=n.autoDestroy,I=n.portal,P=n.zIndex,L=n.onMouseEnter,U=n.onMouseLeave,F=n.onPointerEnter,O=n.ready,G=n.offsetX,te=n.offsetY,Z=n.offsetR,ie=n.offsetB,se=n.onAlign,K=n.onPrepare,X=n.stretch,N=n.targetWidth,j=n.targetHeight,J=typeof t=="function"?t():t,re=l||c,pe=(w==null?void 0:w.length)>0,Me=R.useState(!w||!pe),de=Ct(Me,2),Ce=de[0],De=de[1];if(lo(function(){!Ce&&pe&&s&&De(!0)},[Ce,pe,s]),!Ce)return null;var Pe="auto",lt={left:"-1000vw",top:"-1000vh",right:Pe,bottom:Pe};if(O||!l){var dt,ht=S.points,oe=S.dynamicInset||((dt=S._experimental)===null||dt===void 0?void 0:dt.dynamicInset),Ne=oe&&ht[0][1]==="r",Be=oe&&ht[0][0]==="b";Ne?(lt.right=Z,lt.left=Pe):(lt.left=G,lt.right=Pe),Be?(lt.bottom=ie,lt.top=Pe):(lt.top=te,lt.bottom=Pe)}var He={};return X&&(X.includes("height")&&j?He.height=j:X.includes("minHeight")&&j&&(He.minHeight=j),X.includes("width")&&N?He.width=N:X.includes("minWidth")&&N&&(He.minWidth=N)),l||(He.pointerEvents="none"),R.createElement(I,{open:A||re,getContainer:w&&function(){return w(s)},autoDestroy:E},R.createElement(cie,{prefixCls:i,open:l,zIndex:P,mask:m,motion:y}),R.createElement(JT,{onResize:se,disabled:!l},function(Fe){return R.createElement(rh,Pr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(i,"-hidden")},_,{onAppearPrepare:K,onEnterPrepare:K,visible:l,onVisibleChanged:function(Ke){var qe;_==null||(qe=_.onVisibleChanged)===null||qe===void 0||qe.call(_,Ke),a(Ke)}}),function(Ve,Ke){var qe=Ve.className,rt=Ve.style,Q=Nt(i,qe,r);return R.createElement("div",{ref:Lm(Fe,e,Ke),className:Q,style:$e($e($e($e({"--arrow-x":"".concat(x.x||0,"px"),"--arrow-y":"".concat(x.y||0,"px")},lt),He),rt),{},{boxSizing:"border-box",zIndex:P},o),onMouseEnter:L,onMouseLeave:U,onPointerEnter:F,onClick:p},v&&R.createElement(lie,{prefixCls:i,arrow:v,arrowPos:x,align:S}),R.createElement(uie,{cache:!l&&!f},J))})}))}),die=R.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,i=E0(t),o=R.useCallback(function(a){KT(e,r?r(a):a)},[r]),s=F1(o,t.ref);return i?R.cloneElement(t,{ref:s}):t}),FL=R.createContext(null);function NL(n){return n?Array.isArray(n)?n:[n]:[]}function hie(n,e,t,r){return R.useMemo(function(){var i=NL(t??e),o=NL(r??e),s=new Set(i),a=new Set(o);return n&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[n,e,t,r])}function pie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function mie(n,e,t,r){for(var i=t.points,o=Object.keys(n),s=0;s<o.length;s+=1){var a,l=o[s];if(pie((a=n[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function UL(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function B0(n){return n.ownerDocument.defaultView}function QE(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var i=B0(t).getComputedStyle(t),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(t),t=t.parentElement}return e}function a0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function qg(n){return a0(parseFloat(n),0)}function kL(n,e){var t=$e({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=B0(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,f=i.borderRightWidth,p=r.getBoundingClientRect(),m=r.offsetHeight,v=r.clientHeight,x=r.offsetWidth,S=r.clientWidth,_=qg(a),y=qg(l),A=qg(c),w=qg(f),E=a0(Math.round(p.width/x*1e3)/1e3),I=a0(Math.round(p.height/m*1e3)/1e3),P=(x-S-A-w)*E,L=(m-v-_-y)*I,U=_*I,F=y*I,O=A*E,G=w*E,te=0,Z=0;if(o==="clip"){var ie=qg(s);te=ie*E,Z=ie*I}var se=p.x+O-te,K=p.y+U-Z,X=se+p.width+2*te-O-G-P,N=K+p.height+2*Z-U-F-L;t.left=Math.max(t.left,se),t.top=Math.max(t.top,K),t.right=Math.min(t.right,X),t.bottom=Math.min(t.bottom,N)}}),t}function zL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function HL(n,e){var t=e||[],r=Ct(t,2),i=r[0],o=r[1];return[zL(n.width,i),zL(n.height,o)]}function GL(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function yp(n,e){var t=e[0],r=e[1],i,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,r==="l"?i=n.x:r==="r"?i=n.x+n.width:i=n.x+n.width/2,{x:i,y:o}}function Du(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,i){return i===e?t[r]||"c":r}).join("")}function gie(n,e,t,r,i,o,s){var a=R.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Ct(a,2),c=l[0],f=l[1],p=R.useRef(0),m=R.useMemo(function(){return e?QE(e):[]},[e]),v=R.useRef({}),x=function(){v.current={}};n||x();var S=qs(function(){if(e&&t&&n){let Sr=function(Fo,Kr){var Ti=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q,Jr=J.x+Fo,_n=J.y+Kr,An=Jr+dt,No=_n+lt,Xi=Math.max(Jr,Ti.left),ds=Math.max(_n,Ti.top),Dt=Math.min(An,Ti.right),Et=Math.min(No,Ti.bottom);return Math.max(0,(Dt-Xi)*(Et-ds))},So=function(){Wr=J.y+St,oi=Wr+lt,sn=J.x+wt,Wt=sn+dt};var fs=Sr,$a=So,A,w,E=e,I=E.ownerDocument,P=B0(E),L=P.getComputedStyle(E),U=L.width,F=L.height,O=L.position,G=E.style.left,te=E.style.top,Z=E.style.right,ie=E.style.bottom,se=E.style.overflow,K=$e($e({},i[r]),o),X=I.createElement("div");(A=E.parentElement)===null||A===void 0||A.appendChild(X),X.style.left="".concat(E.offsetLeft,"px"),X.style.top="".concat(E.offsetTop,"px"),X.style.position=O,X.style.height="".concat(E.offsetHeight,"px"),X.style.width="".concat(E.offsetWidth,"px"),E.style.left="0",E.style.top="0",E.style.right="auto",E.style.bottom="auto",E.style.overflow="hidden";var N;if(Array.isArray(t))N={x:t[0],y:t[1],width:0,height:0};else{var j=t.getBoundingClientRect();N={x:j.x,y:j.y,width:j.width,height:j.height}}var J=E.getBoundingClientRect(),re=I.documentElement,pe=re.clientWidth,Me=re.clientHeight,de=re.scrollWidth,Ce=re.scrollHeight,De=re.scrollTop,Pe=re.scrollLeft,lt=J.height,dt=J.width,ht=N.height,oe=N.width,Ne={left:0,top:0,right:pe,bottom:Me},Be={left:-Pe,top:-De,right:de-Pe,bottom:Ce-De},He=K.htmlRegion,Fe="visible",Ve="visibleFirst";He!=="scroll"&&He!==Ve&&(He=Fe);var Ke=He===Ve,qe=kL(Be,m),rt=kL(Ne,m),Q=He===Fe?rt:qe,V=Ke?rt:Q;E.style.left="auto",E.style.top="auto",E.style.right="0",E.style.bottom="0";var ge=E.getBoundingClientRect();E.style.left=G,E.style.top=te,E.style.right=Z,E.style.bottom=ie,E.style.overflow=se,(w=E.parentElement)===null||w===void 0||w.removeChild(X);var Ae=a0(Math.round(dt/parseFloat(U)*1e3)/1e3),Re=a0(Math.round(lt/parseFloat(F)*1e3)/1e3);if(Ae===0||Re===0||e0(t)&&!Lk(t))return;var ze=K.offset,pt=K.targetOffset,ct=HL(J,ze),st=Ct(ct,2),kt=st[0],Qe=st[1],vt=HL(N,pt),Vt=Ct(vt,2),It=Vt[0],ft=Vt[1];N.x-=It,N.y-=ft;var he=K.points||[],Ge=Ct(he,2),ut=Ge[0],le=Ge[1],Ze=GL(le),Oe=GL(ut),je=yp(N,Ze),it=yp(J,Oe),xt=$e({},K),wt=je.x-it.x+kt,St=je.y-it.y+Qe,en=Sr(wt,St),on=Sr(wt,St,rt),nn=yp(N,["t","l"]),Kt=yp(J,["t","l"]),nr=yp(N,["b","r"]),lr=yp(J,["b","r"]),Br=K.overflow||{},fr=Br.adjustX,_r=Br.adjustY,wr=Br.shiftX,mr=Br.shiftY,mi=function(Kr){return typeof Kr=="boolean"?Kr:Kr>=0},Wr,oi,sn,Wt;So();var T=mi(_r),ce=Oe[0]===Ze[0];if(T&&Oe[0]==="t"&&(oi>V.bottom||v.current.bt)){var Se=St;ce?Se-=lt-ht:Se=nn.y-lr.y-Qe;var be=Sr(wt,Se),_e=Sr(wt,Se,rt);be>en||be===en&&(!Ke||_e>=on)?(v.current.bt=!0,St=Se,Qe=-Qe,xt.points=[Du(Oe,0),Du(Ze,0)]):v.current.bt=!1}if(T&&Oe[0]==="b"&&(Wr<V.top||v.current.tb)){var me=St;ce?me+=lt-ht:me=nr.y-Kt.y-Qe;var ot=Sr(wt,me),At=Sr(wt,me,rt);ot>en||ot===en&&(!Ke||At>=on)?(v.current.tb=!0,St=me,Qe=-Qe,xt.points=[Du(Oe,0),Du(Ze,0)]):v.current.tb=!1}var Mt=mi(fr),Ot=Oe[1]===Ze[1];if(Mt&&Oe[1]==="l"&&(Wt>V.right||v.current.rl)){var _t=wt;Ot?_t-=dt-oe:_t=nn.x-lr.x-kt;var Bt=Sr(_t,St),Cn=Sr(_t,St,rt);Bt>en||Bt===en&&(!Ke||Cn>=on)?(v.current.rl=!0,wt=_t,kt=-kt,xt.points=[Du(Oe,1),Du(Ze,1)]):v.current.rl=!1}if(Mt&&Oe[1]==="r"&&(sn<V.left||v.current.lr)){var Wn=wt;Ot?Wn+=dt-oe:Wn=nr.x-Kt.x-kt;var gn=Sr(Wn,St),cr=Sr(Wn,St,rt);gn>en||gn===en&&(!Ke||cr>=on)?(v.current.lr=!0,wt=Wn,kt=-kt,xt.points=[Du(Oe,1),Du(Ze,1)]):v.current.lr=!1}So();var tn=wr===!0?0:wr;typeof tn=="number"&&(sn<rt.left&&(wt-=sn-rt.left-kt,N.x+oe<rt.left+tn&&(wt+=N.x-rt.left+oe-tn)),Wt>rt.right&&(wt-=Wt-rt.right-kt,N.x>rt.right-tn&&(wt+=N.x-rt.right+tn)));var Te=mr===!0?0:mr;typeof Te=="number"&&(Wr<rt.top&&(St-=Wr-rt.top-Qe,N.y+ht<rt.top+Te&&(St+=N.y-rt.top+ht-Te)),oi>rt.bottom&&(St-=oi-rt.bottom-Qe,N.y>rt.bottom-Te&&(St+=N.y-rt.bottom+Te)));var ln=J.x+wt,xn=ln+dt,In=J.y+St,Yn=In+lt,gr=N.x,Cr=gr+oe,vn=N.y,$r=vn+ht,Ni=Math.max(ln,gr),dr=Math.min(xn,Cr),si=(Ni+dr)/2,_o=si-ln,zr=Math.max(In,vn),us=Math.min(Yn,$r),ha=(zr+us)/2,Ps=ha-In;s==null||s(e,xt);var Ui=ge.right-J.x-(wt+J.width),Ei=ge.bottom-J.y-(St+J.height);Ae===1&&(wt=Math.round(wt),Ui=Math.round(Ui)),Re===1&&(St=Math.round(St),Ei=Math.round(Ei));var bi={ready:!0,offsetX:wt/Ae,offsetY:St/Re,offsetR:Ui/Ae,offsetB:Ei/Re,arrowX:_o/Ae,arrowY:Ps/Re,scaleX:Ae,scaleY:Re,align:xt};f(bi)}}),_=function(){p.current+=1;var w=p.current;Promise.resolve().then(function(){p.current===w&&S()})},y=function(){f(function(w){return $e($e({},w),{},{ready:!1})})};return lo(y,[r]),lo(function(){n||y()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,_]}function vie(n,e,t,r,i){lo(function(){if(n&&e&&t){let m=function(){r(),i()};var p=m,o=e,s=t,a=QE(o),l=QE(s),c=B0(s),f=new Set([c].concat(qt(a),qt(l)));return f.forEach(function(v){v.addEventListener("scroll",m,{passive:!0})}),c.addEventListener("resize",m,{passive:!0}),r(),function(){f.forEach(function(v){v.removeEventListener("scroll",m),c.removeEventListener("resize",m)})}}},[n,e,t])}function yie(n,e,t,r,i,o,s,a){var l=R.useRef(n);l.current=n,R.useEffect(function(){if(e&&r&&(!i||o)){var c=function(v){var x=v.target;l.current&&!s(x)&&a(!1)},f=B0(r);f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0);var p=ES(t);return p&&(p.addEventListener("mousedown",c,!0),p.addEventListener("contextmenu",c,!0)),function(){f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0),p&&(p.removeEventListener("mousedown",c,!0),p.removeEventListener("contextmenu",c,!0))}}},[e,t,r,i,o])}var xie=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function _ie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fR,e=R.forwardRef(function(t,r){var i=t.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=t.children,a=t.action,l=a===void 0?"hover":a,c=t.showAction,f=t.hideAction,p=t.popupVisible,m=t.defaultPopupVisible,v=t.onPopupVisibleChange,x=t.afterPopupVisibleChange,S=t.mouseEnterDelay,_=t.mouseLeaveDelay,y=_===void 0?.1:_,A=t.focusDelay,w=t.blurDelay,E=t.mask,I=t.maskClosable,P=I===void 0?!0:I,L=t.getPopupContainer,U=t.forceRender,F=t.autoDestroy,O=t.destroyPopupOnHide,G=t.popup,te=t.popupClassName,Z=t.popupStyle,ie=t.popupPlacement,se=t.builtinPlacements,K=se===void 0?{}:se,X=t.popupAlign,N=t.zIndex,j=t.stretch,J=t.getPopupClassNameFromAlign,re=t.fresh,pe=t.alignPoint,Me=t.onPopupClick,de=t.onPopupAlign,Ce=t.arrow,De=t.popupMotion,Pe=t.maskMotion,lt=t.popupTransitionName,dt=t.popupAnimation,ht=t.maskTransitionName,oe=t.maskAnimation,Ne=t.className,Be=t.getTriggerDOMNode,He=Rs(t,xie),Fe=F||O||!1,Ve=R.useState(!1),Ke=Ct(Ve,2),qe=Ke[0],rt=Ke[1];lo(function(){rt(aie())},[]);var Q=R.useRef({}),V=R.useContext(FL),ge=R.useMemo(function(){return{registerSubPopup:function(Et,On){Q.current[Et]=On,V==null||V.registerSubPopup(Et,On)}}},[V]),Ae=Mne(),Re=R.useState(null),ze=Ct(Re,2),pt=ze[0],ct=ze[1],st=R.useRef(null),kt=qs(function(Dt){st.current=Dt,e0(Dt)&&pt!==Dt&&ct(Dt),V==null||V.registerSubPopup(Ae,Dt)}),Qe=R.useState(null),vt=Ct(Qe,2),Vt=vt[0],It=vt[1],ft=R.useRef(null),he=qs(function(Dt){e0(Dt)&&Vt!==Dt&&(It(Dt),ft.current=Dt)}),Ge=R.Children.only(s),ut=(Ge==null?void 0:Ge.props)||{},le={},Ze=qs(function(Dt){var Et,On,Ar=Vt;return(Ar==null?void 0:Ar.contains(Dt))||((Et=ES(Ar))===null||Et===void 0?void 0:Et.host)===Dt||Dt===Ar||(pt==null?void 0:pt.contains(Dt))||((On=ES(pt))===null||On===void 0?void 0:On.host)===Dt||Dt===pt||Object.values(Q.current).some(function(Zn){return(Zn==null?void 0:Zn.contains(Dt))||Dt===Zn})}),Oe=UL(o,De,dt,lt),je=UL(o,Pe,oe,ht),it=R.useState(m||!1),xt=Ct(it,2),wt=xt[0],St=xt[1],en=p??wt,on=qs(function(Dt){p===void 0&&St(Dt)});lo(function(){St(p||!1)},[p]);var nn=R.useRef(en);nn.current=en;var Kt=R.useRef([]);Kt.current=[];var nr=qs(function(Dt){var Et;on(Dt),((Et=Kt.current[Kt.current.length-1])!==null&&Et!==void 0?Et:en)!==Dt&&(Kt.current.push(Dt),v==null||v(Dt))}),lr=R.useRef(),Br=function(){clearTimeout(lr.current)},fr=function(Et){var On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Br(),On===0?nr(Et):lr.current=setTimeout(function(){nr(Et)},On*1e3)};R.useEffect(function(){return Br},[]);var _r=R.useState(!1),wr=Ct(_r,2),mr=wr[0],mi=wr[1];lo(function(Dt){(!Dt||en)&&mi(!0)},[en]);var Wr=R.useState(null),oi=Ct(Wr,2),sn=oi[0],Wt=oi[1],T=R.useState([0,0]),ce=Ct(T,2),Se=ce[0],be=ce[1],_e=function(Et){be([Et.clientX,Et.clientY])},me=gie(en,pt,pe?Se:Vt,ie,K,X,de),ot=Ct(me,11),At=ot[0],Mt=ot[1],Ot=ot[2],_t=ot[3],Bt=ot[4],Cn=ot[5],Wn=ot[6],gn=ot[7],cr=ot[8],tn=ot[9],Te=ot[10],ln=hie(qe,l,c,f),xn=Ct(ln,2),In=xn[0],Yn=xn[1],gr=In.has("click"),Cr=Yn.has("click")||Yn.has("contextMenu"),vn=qs(function(){mr||Te()}),$r=function(){nn.current&&pe&&Cr&&fr(!1)};vie(en,Vt,pt,vn,$r),lo(function(){vn()},[Se,ie]),lo(function(){en&&!(K!=null&&K[ie])&&vn()},[JSON.stringify(X)]);var Ni=R.useMemo(function(){var Dt=mie(K,o,tn,pe);return Nt(Dt,J==null?void 0:J(tn))},[tn,J,K,o,pe]);R.useImperativeHandle(r,function(){return{nativeElement:ft.current,popupElement:st.current,forceAlign:vn}});var dr=R.useState(0),si=Ct(dr,2),_o=si[0],zr=si[1],us=R.useState(0),ha=Ct(us,2),Ps=ha[0],Ui=ha[1],Ei=function(){if(j&&Vt){var Et=Vt.getBoundingClientRect();zr(Et.width),Ui(Et.height)}},bi=function(){Ei(),vn()},fs=function(Et){mi(!1),Te(),x==null||x(Et)},$a=function(){return new Promise(function(Et){Ei(),Wt(function(){return Et})})};lo(function(){sn&&(Te(),sn(),Wt(null))},[sn]);function Sr(Dt,Et,On,Ar){le[Dt]=function(Zn){var gi;Ar==null||Ar(Zn),fr(Et,On);for(var Uo=arguments.length,Ri=new Array(Uo>1?Uo-1:0),En=1;En<Uo;En++)Ri[En-1]=arguments[En];(gi=ut[Dt])===null||gi===void 0||gi.call.apply(gi,[ut,Zn].concat(Ri))}}(gr||Cr)&&(le.onClick=function(Dt){var Et;nn.current&&Cr?fr(!1):!nn.current&&gr&&(_e(Dt),fr(!0));for(var On=arguments.length,Ar=new Array(On>1?On-1:0),Zn=1;Zn<On;Zn++)Ar[Zn-1]=arguments[Zn];(Et=ut.onClick)===null||Et===void 0||Et.call.apply(Et,[ut,Dt].concat(Ar))}),yie(en,Cr,Vt,pt,E,P,Ze,fr);var So=In.has("hover"),Fo=Yn.has("hover"),Kr,Ti;So&&(Sr("onMouseEnter",!0,S,function(Dt){_e(Dt)}),Sr("onPointerEnter",!0,S,function(Dt){_e(Dt)}),Kr=function(Et){(en||mr)&&pt!==null&&pt!==void 0&&pt.contains(Et.target)&&fr(!0,S)},pe&&(le.onMouseMove=function(Dt){var Et;(Et=ut.onMouseMove)===null||Et===void 0||Et.call(ut,Dt)})),Fo&&(Sr("onMouseLeave",!1,y),Sr("onPointerLeave",!1,y),Ti=function(){fr(!1,y)}),In.has("focus")&&Sr("onFocus",!0,A),Yn.has("focus")&&Sr("onBlur",!1,w),In.has("contextMenu")&&(le.onContextMenu=function(Dt){var Et;nn.current&&Yn.has("contextMenu")?fr(!1):(_e(Dt),fr(!0)),Dt.preventDefault();for(var On=arguments.length,Ar=new Array(On>1?On-1:0),Zn=1;Zn<On;Zn++)Ar[Zn-1]=arguments[Zn];(Et=ut.onContextMenu)===null||Et===void 0||Et.call.apply(Et,[ut,Dt].concat(Ar))}),Ne&&(le.className=Nt(ut.className,Ne));var Jr=$e($e({},ut),le),_n={},An=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];An.forEach(function(Dt){He[Dt]&&(_n[Dt]=function(){for(var Et,On=arguments.length,Ar=new Array(On),Zn=0;Zn<On;Zn++)Ar[Zn]=arguments[Zn];(Et=Jr[Dt])===null||Et===void 0||Et.call.apply(Et,[Jr].concat(Ar)),He[Dt].apply(He,Ar)})});var No=R.cloneElement(Ge,$e($e({},Jr),_n)),Xi={x:Cn,y:Wn},ds=Ce?$e({},Ce!==!0?Ce:{}):null;return R.createElement(R.Fragment,null,R.createElement(JT,{disabled:!en,ref:he,onResize:bi},R.createElement(die,{getTriggerDOMNode:Be},No)),R.createElement(FL.Provider,{value:ge},R.createElement(fie,{portal:n,ref:kt,prefixCls:o,popup:G,className:Nt(te,Ni),style:Z,target:Vt,onMouseEnter:Kr,onMouseLeave:Ti,onPointerEnter:Kr,zIndex:N,open:en,keepDom:mr,fresh:re,onClick:Me,mask:E,motion:Oe,maskMotion:je,onVisibleChanged:fs,onPrepare:$a,forceRender:U,autoDestroy:Fe,getPopupContainer:L,align:tn,arrow:ds,arrowPos:Xi,ready:At,offsetX:Mt,offsetY:Ot,offsetR:_t,offsetB:Bt,onAlign:vn,stretch:j,targetWidth:_o/gn,targetHeight:Ps/cr})))});return e}const Sie=_ie(fR);function Yk(n){var e=n.children,t=n.prefixCls,r=n.id,i=n.overlayInnerStyle,o=n.className,s=n.style;return R.createElement("div",{className:Nt("".concat(t,"-content"),o),style:s},R.createElement("div",{className:"".concat(t,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var xp={shiftX:64,adjustY:1},_p={adjustX:1,shiftY:!0},Ta=[0,0],Aie={left:{points:["cr","cl"],overflow:_p,offset:[-4,0],targetOffset:Ta},right:{points:["cl","cr"],overflow:_p,offset:[4,0],targetOffset:Ta},top:{points:["bc","tc"],overflow:xp,offset:[0,-4],targetOffset:Ta},bottom:{points:["tc","bc"],overflow:xp,offset:[0,4],targetOffset:Ta},topLeft:{points:["bl","tl"],overflow:xp,offset:[0,-4],targetOffset:Ta},leftTop:{points:["tr","tl"],overflow:_p,offset:[-4,0],targetOffset:Ta},topRight:{points:["br","tr"],overflow:xp,offset:[0,-4],targetOffset:Ta},rightTop:{points:["tl","tr"],overflow:_p,offset:[4,0],targetOffset:Ta},bottomRight:{points:["tr","br"],overflow:xp,offset:[0,4],targetOffset:Ta},rightBottom:{points:["bl","br"],overflow:_p,offset:[4,0],targetOffset:Ta},bottomLeft:{points:["tl","bl"],overflow:xp,offset:[0,4],targetOffset:Ta},leftBottom:{points:["br","bl"],overflow:_p,offset:[-4,0],targetOffset:Ta}},Mie=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],wie=function(e,t){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,f=e.overlayStyle,p=e.prefixCls,m=p===void 0?"rc-tooltip":p,v=e.children,x=e.onVisibleChange,S=e.afterVisibleChange,_=e.transitionName,y=e.animation,A=e.motion,w=e.placement,E=w===void 0?"right":w,I=e.align,P=I===void 0?{}:I,L=e.destroyTooltipOnHide,U=L===void 0?!1:L,F=e.defaultVisible,O=e.getTooltipContainer,G=e.overlayInnerStyle;e.arrowContent;var te=e.overlay,Z=e.id,ie=e.showArrow,se=ie===void 0?!0:ie,K=Rs(e,Mie),X=R.useRef(null);R.useImperativeHandle(t,function(){return X.current});var N=$e({},K);"visible"in e&&(N.popupVisible=e.visible);var j=function(){return R.createElement(Yk,{key:"content",prefixCls:m,id:Z,overlayInnerStyle:G},te)};return R.createElement(Sie,Pr({popupClassName:r,prefixCls:m,popup:j,action:o,builtinPlacements:Aie,popupPlacement:E,ref:X,popupAlign:P,getPopupContainer:O,onPopupVisibleChange:x,afterPopupVisibleChange:S,popupTransitionName:_,popupAnimation:y,popupMotion:A,defaultPopupVisible:F,autoDestroy:U,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:a,arrow:se},N),v)};const Cie=R.forwardRef(wie);function Eie(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,i=e/2,o=0,s=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-t*(1/Math.sqrt(2)),f=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),p=2*i-c,m=f,v=2*i-a,x=l,S=2*i-o,_=s,y=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),A=r*(Math.sqrt(2)-1),w=`polygon(${A}px 100%, 50% ${A}px, ${2*i-A}px 100%, ${A}px 100%)`,E=`path('M ${o} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${c} ${f} A ${t} ${t} 0 0 1 ${p} ${m} L ${v} ${x} A ${r} ${r} 0 0 0 ${S} ${_} Z')`;return{arrowShadowWidth:y,arrowPath:E,arrowPolygon:w}}const bie=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${$n(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},qk=8;function Qk(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?qk:r}}function s_(n,e){return n?e:{}}function Tie(n,e,t){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=n,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},bie(n,e,i)),{"&:before":{background:e}})]},s_(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-topRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}})),s_(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-bottomRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}})),s_(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),s_(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function Rie(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const VL={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Pie={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Iie=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Bie(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=n,a=e/2,l={};return Object.keys(VL).forEach(c=>{const f=r&&Pie[c]||VL[c],p=Object.assign(Object.assign({},f),{offset:[0,0],dynamicInset:!0});switch(l[c]=p,Iie.has(c)&&(p.autoArrow=!1),c){case"top":case"topLeft":case"topRight":p.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":p.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":p.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":p.offset[0]=a+i;break}const m=Qk({contentRadius:o,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":p.offset[0]=-m.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":p.offset[0]=m.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":p.offset[1]=-m.arrowOffsetHorizontal-a;break;case"leftBottom":case"rightBottom":p.offset[1]=m.arrowOffsetHorizontal+a;break}p.overflow=Rie(c,m,e,t),s&&(p.htmlRegion="visibleFirst")}),l}const Lie=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:f}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},zd(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:t,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:"1em",minHeight:a,padding:`${$n(n.calc(c).div(2).equal())} ${$n(f)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:n.min(o,qk)}},[`${e}-content`]:{position:"relative"}}),pee(n,(p,m)=>{let{darkColor:v}=m;return{[`&${e}-${p}`]:{[`${e}-inner`]:{backgroundColor:v},[`${e}-arrow`]:{"--antd-arrow-background-color":v}}}})),{"&-rtl":{direction:"rtl"}})},Tie(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},Oie=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},Qk({contentRadius:n.borderRadius,limitVerticalRadius:!0})),Eie(cs(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),Zk=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qc("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:s}=r,a=cs(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s});return[Lie(a),sie(r,"zoom-big-fast")]},Oie,{resetStyle:!1,injectStyle:e})(n)},Die=CS.map(n=>`${n}-inverse`);function Fie(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(qt(Die),qt(CS)).includes(n):CS.includes(n)}function ez(n,e){const t=Fie(e),r=Nt({[`${n}-${e}`]:e&&t}),i={},o={};return e&&!t&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const Nie=n=>{const{prefixCls:e,className:t,placement:r="top",title:i,color:o,overlayInnerStyle:s}=n,{getPrefixCls:a}=R.useContext(kr),l=a("tooltip",e),[c,f,p]=Zk(l),m=ez(l,o),v=m.arrowStyle,x=Object.assign(Object.assign({},s),m.overlayStyle),S=Nt(f,p,l,`${l}-pure`,`${l}-placement-${r}`,t,m.className);return c(R.createElement("div",{className:S,style:v},R.createElement("div",{className:`${l}-arrow`}),R.createElement(Yk,Object.assign({},n,{className:f,prefixCls:l,overlayInnerStyle:x}),i)))};var Uie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const kie=R.forwardRef((n,e)=>{var t,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,overlayClassName:a,color:l,overlayInnerStyle:c,children:f,afterOpenChange:p,afterVisibleChange:m,destroyTooltipOnHide:v,arrow:x=!0,title:S,overlay:_,builtinPlacements:y,arrowPointAtCenter:A=!1,autoAdjustOverflow:w=!0}=n,E=!!x,[,I]=Ql(),{getPopupContainer:P,getPrefixCls:L,direction:U}=R.useContext(kr),F=VU(),O=R.useRef(null),G=()=>{var Ae;(Ae=O.current)===null||Ae===void 0||Ae.forceAlign()};R.useImperativeHandle(e,()=>{var Ae;return{forceAlign:G,forcePopupAlign:()=>{F.deprecated(!1,"forcePopupAlign","forceAlign"),G()},nativeElement:(Ae=O.current)===null||Ae===void 0?void 0:Ae.nativeElement}});const[te,Z]=iR(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),ie=!S&&!_&&S!==0,se=Ae=>{var Re,ze;Z(ie?!1:Ae),ie||((Re=n.onOpenChange)===null||Re===void 0||Re.call(n,Ae),(ze=n.onVisibleChange)===null||ze===void 0||ze.call(n,Ae))},K=R.useMemo(()=>{var Ae,Re;let ze=A;return typeof x=="object"&&(ze=(Re=(Ae=x.pointAtCenter)!==null&&Ae!==void 0?Ae:x.arrowPointAtCenter)!==null&&Re!==void 0?Re:A),y||Bie({arrowPointAtCenter:ze,autoAdjustOverflow:w,arrowWidth:E?I.sizePopupArrow:0,borderRadius:I.borderRadius,offset:I.marginXXS,visibleFirst:!0})},[A,x,y,I]),X=R.useMemo(()=>S===0?S:_||S||"",[_,S]),N=R.createElement(Fk,null,typeof X=="function"?X():X),{getPopupContainer:j,placement:J="top",mouseEnterDelay:re=.1,mouseLeaveDelay:pe=.1,overlayStyle:Me,rootClassName:de}=n,Ce=Uie(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),De=L("tooltip",i),Pe=L(),lt=n["data-popover-inject"];let dt=te;!("open"in n)&&!("visible"in n)&&ie&&(dt=!1);const ht=R.isValidElement(f)&&!Tk(f)?f:R.createElement("span",null,f),oe=ht.props,Ne=!oe.className||typeof oe.className=="string"?Nt(oe.className,o||`${De}-open`):oe.className,[Be,He,Fe]=Zk(De,!lt),Ve=ez(De,l),Ke=Ve.arrowStyle,qe=Object.assign(Object.assign({},c),Ve.overlayStyle),rt=Nt(a,{[`${De}-rtl`]:U==="rtl"},Ve.className,de,He,Fe),[Q,V]=Bk("Tooltip",Ce.zIndex),ge=R.createElement(Cie,Object.assign({},Ce,{zIndex:Q,showArrow:E,placement:J,mouseEnterDelay:re,mouseLeaveDelay:pe,prefixCls:De,overlayClassName:rt,overlayStyle:Object.assign(Object.assign({},Ke),Me),getTooltipContainer:j||s||P,ref:O,builtinPlacements:K,overlay:N,visible:dt,onVisibleChange:se,afterVisibleChange:p??m,overlayInnerStyle:qe,arrowContent:R.createElement("span",{className:`${De}-arrow-content`}),motion:{motionName:kE(Pe,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!v}),dt?W1(ht,{className:Ne}):ht);return Be(R.createElement(aR.Provider,{value:V},ge))}),tz=kie;tz._InternalPanelDoNotUseOrYouWillBeFired=Nie;var zie=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Hie=R.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-checkbox":t,i=n.className,o=n.style,s=n.checked,a=n.disabled,l=n.defaultChecked,c=l===void 0?!1:l,f=n.type,p=f===void 0?"checkbox":f,m=n.title,v=n.onChange,x=Rs(n,zie),S=R.useRef(null),_=R.useRef(null),y=iR(c,{value:s}),A=Ct(y,2),w=A[0],E=A[1];R.useImperativeHandle(e,function(){return{focus:function(U){var F;(F=S.current)===null||F===void 0||F.focus(U)},blur:function(){var U;(U=S.current)===null||U===void 0||U.blur()},input:S.current,nativeElement:_.current}});var I=Nt(r,i,Ue(Ue({},"".concat(r,"-checked"),w),"".concat(r,"-disabled"),a)),P=function(U){a||("checked"in n||E(U.target.checked),v==null||v({target:$e($e({},n),{},{type:p,checked:U.target.checked}),stopPropagation:function(){U.stopPropagation()},preventDefault:function(){U.preventDefault()},nativeEvent:U.nativeEvent}))};return R.createElement("span",{className:I,title:m,style:o,ref:_},R.createElement("input",Pr({},x,{className:"".concat(r,"-input"),ref:S,onChange:P,disabled:a,checked:!!w,type:p})),R.createElement("span",{className:"".concat(r,"-inner")}))});function Gie(n,e,t){var r=t||{},i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,f,p=!1,m=0;function v(){f&&clearTimeout(f)}function x(_){var y=_||{},A=y.upcomingOnly,w=A===void 0?!1:A;v(),p=!w}function S(){for(var _=arguments.length,y=new Array(_),A=0;A<_;A++)y[A]=arguments[A];var w=this,E=Date.now()-m;if(p)return;function I(){m=Date.now(),e.apply(w,y)}function P(){f=void 0}!a&&c&&!f&&I(),v(),c===void 0&&E>n?a?(m=Date.now(),o||(f=setTimeout(c?P:I,n))):I():o!==!0&&(f=setTimeout(c?P:I,c===void 0?n-E:n))}return S.cancel=x,S}function Vie(n,e,t){var r={},i=r.atBegin,o=i===void 0?!1:i;return Gie(n,e,{debounceMode:o!==!1})}const Wie=n=>{const{checkboxCls:e}=n,t=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},zd(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[t]:Object.assign(Object.assign({},zd(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},zd(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},sk(n))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${$n(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:n.calc(n.checkboxSize).div(14).mul(5).equal(),height:n.calc(n.checkboxSize).div(14).mul(8).equal(),border:`${$n(n.lineWidthBold)} solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${t}:not(${t}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:n.calc(n.fontSizeLG).div(2).equal(),height:n.calc(n.fontSizeLG).div(2).equal(),backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function $ie(n,e){const t=cs(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[Wie(t)]}const nz=qc("Checkbox",(n,e)=>{let{prefixCls:t}=e;return[$ie(t,n)]}),rz=Xt.createContext(null);var jie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Xie=(n,e)=>{var t;const{prefixCls:r,className:i,rootClassName:o,children:s,indeterminate:a=!1,style:l,onMouseEnter:c,onMouseLeave:f,skipGroup:p=!1,disabled:m}=n,v=jie(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:x,direction:S,checkbox:_}=R.useContext(kr),y=R.useContext(rz),{isFormItemInput:A}=R.useContext(qE),w=R.useContext(_m),E=(t=(y==null?void 0:y.disabled)||m)!==null&&t!==void 0?t:w,I=R.useRef(v.value);R.useEffect(()=>{y==null||y.registerValue(v.value)},[]),R.useEffect(()=>{if(!p)return v.value!==I.current&&(y==null||y.cancelValue(I.current),y==null||y.registerValue(v.value),I.current=v.value),()=>y==null?void 0:y.cancelValue(v.value)},[v.value]);const P=x("checkbox",r),L=Rk(P),[U,F,O]=nz(P,L),G=Object.assign({},v);y&&!p&&(G.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),y.toggleOption&&y.toggleOption({label:s,value:v.value})},G.name=y.name,G.checked=y.value.includes(v.value));const te=Nt(`${P}-wrapper`,{[`${P}-rtl`]:S==="rtl",[`${P}-wrapper-checked`]:G.checked,[`${P}-wrapper-disabled`]:E,[`${P}-wrapper-in-form-item`]:A},_==null?void 0:_.className,i,o,O,L,F),Z=Nt({[`${P}-indeterminate`]:a},lR,F),ie=a?"mixed":void 0;return U(R.createElement(Ok,{component:"Checkbox",disabled:E},R.createElement("label",{className:te,style:Object.assign(Object.assign({},_==null?void 0:_.style),l),onMouseEnter:c,onMouseLeave:f},R.createElement(Hie,Object.assign({"aria-checked":ie},G,{prefixCls:P,className:Z,disabled:E,ref:e})),s!==void 0&&R.createElement("span",null,s))))},iz=R.forwardRef(Xie);var Kie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Jie=R.forwardRef((n,e)=>{const{defaultValue:t,children:r,options:i=[],prefixCls:o,className:s,rootClassName:a,style:l,onChange:c}=n,f=Kie(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:p,direction:m}=R.useContext(kr),[v,x]=R.useState(f.value||t||[]),[S,_]=R.useState([]);R.useEffect(()=>{"value"in f&&x(f.value||[])},[f.value]);const y=R.useMemo(()=>i.map(se=>typeof se=="string"||typeof se=="number"?{label:se,value:se}:se),[i]),A=se=>{_(K=>K.filter(X=>X!==se))},w=se=>{_(K=>[].concat(qt(K),[se]))},E=se=>{const K=v.indexOf(se.value),X=qt(v);K===-1?X.push(se.value):X.splice(K,1),"value"in f||x(X),c==null||c(X.filter(N=>S.includes(N)).sort((N,j)=>{const J=y.findIndex(pe=>pe.value===N),re=y.findIndex(pe=>pe.value===j);return J-re}))},I=p("checkbox",o),P=`${I}-group`,L=Rk(I),[U,F,O]=nz(I,L),G=Om(f,["value","disabled"]),te=i.length?y.map(se=>R.createElement(iz,{prefixCls:I,key:se.value.toString(),disabled:"disabled"in se?se.disabled:f.disabled,value:se.value,checked:v.includes(se.value),onChange:se.onChange,className:`${P}-item`,style:se.style,title:se.title,id:se.id,required:se.required},se.label)):r,Z={toggleOption:E,value:v,disabled:f.disabled,name:f.name,registerValue:w,cancelValue:A},ie=Nt(P,{[`${P}-rtl`]:m==="rtl"},s,a,O,L,F);return U(R.createElement("div",Object.assign({className:ie,style:l},G,{ref:e}),R.createElement(rz.Provider,{value:Z},te)))}),hR=iz;hR.Group=Jie;hR.__ANT_CHECKBOX=!0;const Yie=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:t,colorSplit:r,lineWidth:i,textPaddingInline:o,orientationMargin:s,verticalMarginInline:a}=n;return{[e]:Object.assign(Object.assign({},zd(n)),{borderBlockStart:`${$n(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${$n(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${$n(n.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${$n(n.dividerHorizontalWithTextGutterMargin)} 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${$n(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${$n(i)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:t}}})}},qie=n=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:n.marginXS}),Qie=qc("Divider",n=>{const e=cs(n,{dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG,sizePaddingEdgeHorizontal:0});return[Yie(e)]},qie,{unitless:{orientationMargin:!0}});var Zie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ZE=n=>{const{getPrefixCls:e,direction:t,divider:r}=R.useContext(kr),{prefixCls:i,type:o="horizontal",orientation:s="center",orientationMargin:a,className:l,rootClassName:c,children:f,dashed:p,plain:m,style:v}=n,x=Zie(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),S=e("divider",i),[_,y,A]=Qie(S),w=!!f,E=s==="left"&&a!=null,I=s==="right"&&a!=null,P=Nt(S,r==null?void 0:r.className,y,A,`${S}-${o}`,{[`${S}-with-text`]:w,[`${S}-with-text-${s}`]:w,[`${S}-dashed`]:!!p,[`${S}-plain`]:!!m,[`${S}-rtl`]:t==="rtl",[`${S}-no-default-orientation-margin-left`]:E,[`${S}-no-default-orientation-margin-right`]:I},l,c),L=R.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),U=Object.assign(Object.assign({},E&&{marginLeft:L}),I&&{marginRight:L});return _(R.createElement("div",Object.assign({className:P,style:Object.assign(Object.assign({},r==null?void 0:r.style),v)},x,{role:"separator"}),f&&o!=="vertical"&&R.createElement("span",{className:`${S}-inner-text`,style:U},f)))};var WL=R.createContext(null),oz=R.createContext({}),eoe=["prefixCls","className","containerRef"],toe=function(e){var t=e.prefixCls,r=e.className,i=e.containerRef,o=Rs(e,eoe),s=R.useContext(oz),a=s.panel,l=F1(a,i);return R.createElement("div",Pr({className:Nt("".concat(t,"-content"),r),role:"dialog",ref:l},bS(e,{aria:!0}),{"aria-modal":"true"},o))};function $L(n){return typeof n=="string"&&String(Number(n))===n?(ts(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(n)):n}var jL={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function noe(n,e){var t,r,i,o=n.prefixCls,s=n.open,a=n.placement,l=n.inline,c=n.push,f=n.forceRender,p=n.autoFocus,m=n.keyboard,v=n.classNames,x=n.rootClassName,S=n.rootStyle,_=n.zIndex,y=n.className,A=n.id,w=n.style,E=n.motion,I=n.width,P=n.height,L=n.children,U=n.mask,F=n.maskClosable,O=n.maskMotion,G=n.maskClassName,te=n.maskStyle,Z=n.afterOpenChange,ie=n.onClose,se=n.onMouseEnter,K=n.onMouseOver,X=n.onMouseLeave,N=n.onClick,j=n.onKeyDown,J=n.onKeyUp,re=n.styles,pe=n.drawerRender,Me=R.useRef(),de=R.useRef(),Ce=R.useRef();R.useImperativeHandle(e,function(){return Me.current});var De=function(ge){var Ae=ge.keyCode,Re=ge.shiftKey;switch(Ae){case Ht.TAB:{if(Ae===Ht.TAB){if(!Re&&document.activeElement===Ce.current){var ze;(ze=de.current)===null||ze===void 0||ze.focus({preventScroll:!0})}else if(Re&&document.activeElement===de.current){var pt;(pt=Ce.current)===null||pt===void 0||pt.focus({preventScroll:!0})}}break}case Ht.ESC:{ie&&m&&(ge.stopPropagation(),ie(ge));break}}};R.useEffect(function(){if(s&&p){var V;(V=Me.current)===null||V===void 0||V.focus({preventScroll:!0})}},[s]);var Pe=R.useState(!1),lt=Ct(Pe,2),dt=lt[0],ht=lt[1],oe=R.useContext(WL),Ne;typeof c=="boolean"?Ne=c?{}:{distance:0}:Ne=c||{};var Be=(t=(r=(i=Ne)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:oe==null?void 0:oe.pushDistance)!==null&&t!==void 0?t:180,He=R.useMemo(function(){return{pushDistance:Be,push:function(){ht(!0)},pull:function(){ht(!1)}}},[Be]);R.useEffect(function(){if(s){var V;oe==null||(V=oe.push)===null||V===void 0||V.call(oe)}else{var ge;oe==null||(ge=oe.pull)===null||ge===void 0||ge.call(oe)}},[s]),R.useEffect(function(){return function(){var V;oe==null||(V=oe.pull)===null||V===void 0||V.call(oe)}},[]);var Fe=U&&R.createElement(rh,Pr({key:"mask"},O,{visible:s}),function(V,ge){var Ae=V.className,Re=V.style;return R.createElement("div",{className:Nt("".concat(o,"-mask"),Ae,v==null?void 0:v.mask,G),style:$e($e($e({},Re),te),re==null?void 0:re.mask),onClick:F&&s?ie:void 0,ref:ge})}),Ve=typeof E=="function"?E(a):E,Ke={};if(dt&&Be)switch(a){case"top":Ke.transform="translateY(".concat(Be,"px)");break;case"bottom":Ke.transform="translateY(".concat(-Be,"px)");break;case"left":Ke.transform="translateX(".concat(Be,"px)");break;default:Ke.transform="translateX(".concat(-Be,"px)");break}a==="left"||a==="right"?Ke.width=$L(I):Ke.height=$L(P);var qe={onMouseEnter:se,onMouseOver:K,onMouseLeave:X,onClick:N,onKeyDown:j,onKeyUp:J},rt=R.createElement(rh,Pr({key:"panel"},Ve,{visible:s,forceRender:f,onVisibleChanged:function(ge){Z==null||Z(ge)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(V,ge){var Ae=V.className,Re=V.style,ze=R.createElement(toe,Pr({id:A,containerRef:ge,prefixCls:o,className:Nt(y,v==null?void 0:v.content),style:$e($e({},w),re==null?void 0:re.content)},bS(n,{aria:!0}),qe),L);return R.createElement("div",Pr({className:Nt("".concat(o,"-content-wrapper"),v==null?void 0:v.wrapper,Ae),style:$e($e($e({},Ke),Re),re==null?void 0:re.wrapper)},bS(n,{data:!0})),pe?pe(ze):ze)}),Q=$e({},S);return _&&(Q.zIndex=_),R.createElement(WL.Provider,{value:He},R.createElement("div",{className:Nt(o,"".concat(o,"-").concat(a),x,Ue(Ue({},"".concat(o,"-open"),s),"".concat(o,"-inline"),l)),style:Q,tabIndex:-1,ref:Me,onKeyDown:De},Fe,R.createElement("div",{tabIndex:0,ref:de,style:jL,"aria-hidden":"true","data-sentinel":"start"}),rt,R.createElement("div",{tabIndex:0,ref:Ce,style:jL,"aria-hidden":"true","data-sentinel":"end"})))}var roe=R.forwardRef(noe),ioe=function(e){var t=e.open,r=t===void 0?!1:t,i=e.prefixCls,o=i===void 0?"rc-drawer":i,s=e.placement,a=s===void 0?"right":s,l=e.autoFocus,c=l===void 0?!0:l,f=e.keyboard,p=f===void 0?!0:f,m=e.width,v=m===void 0?378:m,x=e.mask,S=x===void 0?!0:x,_=e.maskClosable,y=_===void 0?!0:_,A=e.getContainer,w=e.forceRender,E=e.afterOpenChange,I=e.destroyOnClose,P=e.onMouseEnter,L=e.onMouseOver,U=e.onMouseLeave,F=e.onClick,O=e.onKeyDown,G=e.onKeyUp,te=e.panelRef,Z=R.useState(!1),ie=Ct(Z,2),se=ie[0],K=ie[1],X=R.useState(!1),N=Ct(X,2),j=N[0],J=N[1];lo(function(){J(!0)},[]);var re=j?r:!1,pe=R.useRef(),Me=R.useRef();lo(function(){re&&(Me.current=document.activeElement)},[re]);var de=function(dt){var ht;if(K(dt),E==null||E(dt),!dt&&Me.current&&!((ht=pe.current)!==null&&ht!==void 0&&ht.contains(Me.current))){var oe;(oe=Me.current)===null||oe===void 0||oe.focus({preventScroll:!0})}},Ce=R.useMemo(function(){return{panel:te}},[te]);if(!w&&!se&&!re&&I)return null;var De={onMouseEnter:P,onMouseOver:L,onMouseLeave:U,onClick:F,onKeyDown:O,onKeyUp:G},Pe=$e($e({},e),{},{open:re,prefixCls:o,placement:a,autoFocus:c,keyboard:p,width:v,mask:S,maskClosable:y,inline:A===!1,afterOpenChange:de,ref:pe},De);return R.createElement(oz.Provider,{value:Ce},R.createElement(fR,{open:re||w||se,autoDestroy:!1,getContainer:A,autoLock:S&&(re||se)},R.createElement(roe,Pe)))};const sz=n=>{var e,t;const{prefixCls:r,title:i,footer:o,extra:s,loading:a,onClose:l,headerStyle:c,bodyStyle:f,footerStyle:p,children:m,classNames:v,styles:x}=n,{drawer:S}=R.useContext(kr),_=R.useCallback(I=>R.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:`${r}-close`},I),[l]),[y,A]=Cne(yL(n),yL(S),{closable:!0,closeIconRender:_}),w=R.useMemo(()=>{var I,P;return!i&&!y?null:R.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(I=S==null?void 0:S.styles)===null||I===void 0?void 0:I.header),c),x==null?void 0:x.header),className:Nt(`${r}-header`,{[`${r}-header-close-only`]:y&&!i&&!s},(P=S==null?void 0:S.classNames)===null||P===void 0?void 0:P.header,v==null?void 0:v.header)},R.createElement("div",{className:`${r}-header-title`},A,i&&R.createElement("div",{className:`${r}-title`},i)),s&&R.createElement("div",{className:`${r}-extra`},s))},[y,A,s,c,r,i]),E=R.useMemo(()=>{var I,P;if(!o)return null;const L=`${r}-footer`;return R.createElement("div",{className:Nt(L,(I=S==null?void 0:S.classNames)===null||I===void 0?void 0:I.footer,v==null?void 0:v.footer),style:Object.assign(Object.assign(Object.assign({},(P=S==null?void 0:S.styles)===null||P===void 0?void 0:P.footer),p),x==null?void 0:x.footer)},o)},[o,p,r]);return R.createElement(R.Fragment,null,w,R.createElement("div",{className:Nt(`${r}-body`,v==null?void 0:v.body,(e=S==null?void 0:S.classNames)===null||e===void 0?void 0:e.body),style:Object.assign(Object.assign(Object.assign({},(t=S==null?void 0:S.styles)===null||t===void 0?void 0:t.body),f),x==null?void 0:x.body)},a?R.createElement(Um,{active:!0,title:!1,paragraph:{rows:5},className:`${r}-body-skeleton`}):m),E)},ooe=n=>{const e="100%";return{left:`translateX(-${e})`,right:`translateX(${e})`,top:`translateY(-${e})`,bottom:`translateY(${e})`}[n]},az=(n,e)=>({"&-enter, &-appear":Object.assign(Object.assign({},n),{"&-active":e}),"&-leave":Object.assign(Object.assign({},e),{"&-active":n})}),lz=(n,e)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${e}`}}},az({opacity:n},{opacity:1})),soe=(n,e)=>[lz(.7,e),az({transform:ooe(n)},{transform:"none"})],aoe=n=>{const{componentCls:e,motionDurationSlow:t}=n;return{[e]:{[`${e}-mask-motion`]:lz(0,t),[`${e}-panel-motion`]:["left","right","top","bottom"].reduce((r,i)=>Object.assign(Object.assign({},r),{[`&-${i}`]:soe(i,t)}),{})}}},loe=n=>{const{borderRadiusSM:e,componentCls:t,zIndexPopup:r,colorBgMask:i,colorBgElevated:o,motionDurationSlow:s,motionDurationMid:a,paddingXS:l,padding:c,paddingLG:f,fontSizeLG:p,lineHeightLG:m,lineWidth:v,lineType:x,colorSplit:S,marginXS:_,colorIcon:y,colorIconHover:A,colorBgTextHover:w,colorBgTextActive:E,colorText:I,fontWeightStrong:P,footerPaddingBlock:L,footerPaddingInline:U,calc:F}=n,O=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none","&-pure":{position:"relative",background:o,display:"flex",flexDirection:"column",[`&${t}-left`]:{boxShadow:n.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:n.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:n.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:n.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:r,background:i,pointerEvents:"auto"},[O]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${O}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowDrawerLeft},[`&-right > ${O}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:n.boxShadowDrawerRight},[`&-top > ${O}`]:{top:0,insetInline:0,boxShadow:n.boxShadowDrawerUp},[`&-bottom > ${O}`]:{bottom:0,insetInline:0,boxShadow:n.boxShadowDrawerDown},[`${t}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${$n(c)} ${$n(f)}`,fontSize:p,lineHeight:m,borderBottom:`${$n(v)} ${x} ${S}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:Object.assign({display:"inline-flex",width:F(p).add(l).equal(),height:F(p).add(l).equal(),borderRadius:e,justifyContent:"center",alignItems:"center",marginInlineEnd:_,color:y,fontWeight:P,fontSize:p,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${a}`,textRendering:"auto","&:hover":{color:A,backgroundColor:w,textDecoration:"none"},"&:active":{backgroundColor:E}},ak(n)),[`${t}-title`]:{flex:1,margin:0,color:I,fontWeight:n.fontWeightStrong,fontSize:p,lineHeight:m},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:f,overflow:"auto",[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${t}-footer`]:{flexShrink:0,padding:`${$n(L)} ${$n(U)}`,borderTop:`${$n(v)} ${x} ${S}`},"&-rtl":{direction:"rtl"}}}},coe=n=>({zIndexPopup:n.zIndexPopupBase,footerPaddingBlock:n.paddingXS,footerPaddingInline:n.padding}),cz=qc("Drawer",n=>{const e=cs(n,{});return[loe(e),aoe(e)]},coe);var uz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const uoe={distance:180},fz=n=>{const{rootClassName:e,width:t,height:r,size:i="default",mask:o=!0,push:s=uoe,open:a,afterOpenChange:l,onClose:c,prefixCls:f,getContainer:p,style:m,className:v,visible:x,afterVisibleChange:S,maskStyle:_,drawerStyle:y,contentWrapperStyle:A}=n,w=uz(n,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:E,getPrefixCls:I,direction:P,drawer:L}=R.useContext(kr),U=I("drawer",f),[F,O,G]=cz(U),te=p===void 0&&E?()=>E(document.body):p,Z=Nt({"no-mask":!o,[`${U}-rtl`]:P==="rtl"},e,O,G),ie=R.useMemo(()=>t??(i==="large"?736:378),[t,i]),se=R.useMemo(()=>r??(i==="large"?736:378),[r,i]),K={motionName:kE(U,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},X=Ce=>({motionName:kE(U,`panel-motion-${Ce}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),N=$re(),[j,J]=Bk("Drawer",w.zIndex),{classNames:re={},styles:pe={}}=w,{classNames:Me={},styles:de={}}=L||{};return F(R.createElement(Fk,null,R.createElement(_re,{status:!0,override:!0},R.createElement(aR.Provider,{value:J},R.createElement(ioe,Object.assign({prefixCls:U,onClose:c,maskMotion:K,motion:X},w,{classNames:{mask:Nt(re.mask,Me.mask),content:Nt(re.content,Me.content),wrapper:Nt(re.wrapper,Me.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},pe.mask),_),de.mask),content:Object.assign(Object.assign(Object.assign({},pe.content),y),de.content),wrapper:Object.assign(Object.assign(Object.assign({},pe.wrapper),A),de.wrapper)},open:a??x,mask:o,push:s,width:ie,height:se,style:Object.assign(Object.assign({},L==null?void 0:L.style),m),className:Nt(L==null?void 0:L.className,v),rootClassName:Z,getContainer:te,afterOpenChange:l??S,panelRef:N,zIndex:j}),R.createElement(sz,Object.assign({prefixCls:U},w,{onClose:c})))))))},foe=n=>{const{prefixCls:e,style:t,className:r,placement:i="right"}=n,o=uz(n,["prefixCls","style","className","placement"]),{getPrefixCls:s}=R.useContext(kr),a=s("drawer",e),[l,c,f]=cz(a),p=Nt(a,`${a}-pure`,`${a}-${i}`,c,f,r);return l(R.createElement("div",{className:p,style:t},R.createElement(sz,Object.assign({prefixCls:a},o))))};fz._InternalPanelDoNotUseOrYouWillBeFired=foe;function XL(n){return["small","middle","large"].includes(n)}const dz=["wrap","nowrap","wrap-reverse"],hz=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],pz=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],doe=(n,e)=>{const t=e.wrap===!0?"wrap":e.wrap;return{[`${n}-wrap-${t}`]:t&&dz.includes(t)}},hoe=(n,e)=>{const t={};return pz.forEach(r=>{t[`${n}-align-${r}`]=e.align===r}),t[`${n}-align-stretch`]=!e.align&&!!e.vertical,t},poe=(n,e)=>{const t={};return hz.forEach(r=>{t[`${n}-justify-${r}`]=e.justify===r}),t};function moe(n,e){return Nt(Object.assign(Object.assign(Object.assign({},doe(n,e)),hoe(n,e)),poe(n,e)))}const goe=n=>{const{componentCls:e}=n;return{[e]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},voe=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-small":{gap:n.flexGapSM},"&-gap-middle":{gap:n.flexGap},"&-gap-large":{gap:n.flexGapLG}}}},yoe=n=>{const{componentCls:e}=n,t={};return dz.forEach(r=>{t[`${e}-wrap-${r}`]={flexWrap:r}}),t},xoe=n=>{const{componentCls:e}=n,t={};return pz.forEach(r=>{t[`${e}-align-${r}`]={alignItems:r}}),t},_oe=n=>{const{componentCls:e}=n,t={};return hz.forEach(r=>{t[`${e}-justify-${r}`]={justifyContent:r}}),t},Soe=()=>({}),Aoe=qc("Flex",n=>{const{paddingXS:e,padding:t,paddingLG:r}=n,i=cs(n,{flexGapSM:e,flexGap:t,flexGapLG:r});return[goe(i),voe(i),yoe(i),xoe(i),_oe(i)]},Soe,{resetStyle:!1});var Moe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const woe=Xt.forwardRef((n,e)=>{const{prefixCls:t,rootClassName:r,className:i,style:o,flex:s,gap:a,children:l,vertical:c=!1,component:f="div"}=n,p=Moe(n,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:m,direction:v,getPrefixCls:x}=Xt.useContext(kr),S=x("flex",t),[_,y,A]=Aoe(S),w=c??(m==null?void 0:m.vertical),E=Nt(i,r,m==null?void 0:m.className,S,y,A,moe(S,n),{[`${S}-rtl`]:v==="rtl",[`${S}-gap-${a}`]:XL(a),[`${S}-vertical`]:w}),I=Object.assign(Object.assign({},m==null?void 0:m.style),o);return s&&(I.flex=s),a&&!XL(a)&&(I.gap=a),_(Xt.createElement(f,Object.assign({ref:e,className:E,style:I},Om(p,["justify","wrap","align"])),l))});function Coe(n){let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,i=`${r}-holder`,o=`${i}-hidden`,[s,a]=R.useState(!1);lo(()=>{e!==0&&a(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0),c=100,f=c/5,p=c/2-f/2,m=p*2*Math.PI,v=(x,S)=>R.createElement("circle",{className:Nt(x,`${r}-circle`),r:p,cx:"50",cy:"50",strokeWidth:f,style:S});return s?R.createElement("span",{className:Nt(i,`${r}-progress`,l<=0&&o)},R.createElement("svg",{viewBox:`0 0 ${c} ${c}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},v(`${r}-circle-bg`),v("",{strokeDasharray:`${m*l/100} ${m*(100-l)/100}`,strokeDashoffset:`${m/4}`}))):null}function Eoe(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,i=`${r}-holder`,o=`${i}-hidden`;return R.createElement(R.Fragment,null,R.createElement("span",{className:Nt(i,t>0&&o)},R.createElement("span",{className:Nt(r,`${e}-dot-spin`)},[1,2,3,4].map(s=>R.createElement("i",{className:`${e}-dot-item`,key:s})))),R.createElement(Coe,{prefixCls:e,percent:t}))}function boe(n){const{prefixCls:e,indicator:t,percent:r}=n,i=`${e}-dot`;return t&&R.isValidElement(t)?W1(t,{className:Nt(t.props.className,i)}):R.createElement(Eoe,{prefixCls:e,percent:r})}const Toe=new ls("antSpinMove",{to:{opacity:1}}),Roe=new ls("antRotate",{to:{transform:"rotate(405deg)"}}),Poe=n=>{const{componentCls:e,calc:t}=n;return{[`${e}`]:Object.assign(Object.assign({},zd(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot`]:{position:"relative",display:"inline-block",width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Toe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Roe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot-holder`]:{fontSize:n.dotSizeSM,i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot-holder`]:{fontSize:n.dotSizeLG,i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Ioe=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},Boe=qc("Spin",n=>{const e=cs(n,{spinDotDefault:n.colorTextDescription});return[Poe(e)]},Ioe),Loe=200,KL=[[30,.05],[70,.03],[96,.01]];function Ooe(n,e){const[t,r]=R.useState(0),i=R.useRef(),o=e==="auto";return R.useEffect(()=>(o&&n&&(r(0),i.current=setInterval(()=>{r(s=>{const a=100-s;for(let l=0;l<KL.length;l+=1){const[c,f]=KL[l];if(s<=c)return s+a*f}return s})},Loe)),()=>{clearInterval(i.current)}),[o,n]),o?t:e}var Doe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let mz;function Foe(n,e){return!!n&&!!e&&!isNaN(Number(e))}const gz=n=>{const{prefixCls:e,spinning:t=!0,delay:r=0,className:i,rootClassName:o,size:s="default",tip:a,wrapperClassName:l,style:c,children:f,fullscreen:p=!1,indicator:m,percent:v}=n,x=Doe(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:S}=R.useContext(kr),_=S("spin",e),[y,A,w]=Boe(_),[E,I]=R.useState(()=>t&&!Foe(t,r)),P=Ooe(E,v);R.useEffect(()=>{if(t){const ie=Vie(r,()=>{I(!0)});return ie(),()=>{var se;(se=ie==null?void 0:ie.cancel)===null||se===void 0||se.call(ie)}}I(!1)},[r,t]);const L=R.useMemo(()=>typeof f<"u"&&!p,[f,p]),{direction:U,spin:F}=R.useContext(kr),O=Nt(_,F==null?void 0:F.className,{[`${_}-sm`]:s==="small",[`${_}-lg`]:s==="large",[`${_}-spinning`]:E,[`${_}-show-text`]:!!a,[`${_}-rtl`]:U==="rtl"},i,!p&&o,A,w),G=Nt(`${_}-container`,{[`${_}-blur`]:E}),te=Object.assign(Object.assign({},F==null?void 0:F.style),c),Z=R.createElement("div",Object.assign({},x,{style:te,className:O,"aria-live":"polite","aria-busy":E}),R.createElement(boe,{prefixCls:_,indicator:m??mz,percent:P}),a&&(L||p)?R.createElement("div",{className:`${_}-text`},a):null);return y(L?R.createElement("div",Object.assign({},x,{className:Nt(`${_}-nested-loading`,l,A,w)}),E&&R.createElement("div",{key:"loading"},Z),R.createElement("div",{className:G,key:"container"},f)):p?R.createElement("div",{className:Nt(`${_}-fullscreen`,{[`${_}-fullscreen-show`]:E},o,A,w)},Z):Z)};gz.setDefaultIndicator=n=>{mz=n};function eb(n,e,t){return(n-e)/(t-e)}function pR(n,e,t,r){var i=eb(e,t,r),o={};switch(n){case"rtl":o.right="".concat(i*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(i*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(i*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(i*100,"%"),o.transform="translateX(-50%)";break}return o}function Wp(n,e){return Array.isArray(n)?n[e]:n}var hh=R.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Noe=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],JL=R.forwardRef(function(n,e){var t=n.prefixCls,r=n.value,i=n.valueIndex,o=n.onStartMove,s=n.style,a=n.render,l=n.dragging,c=n.onOffsetChange,f=n.onChangeComplete,p=n.onFocus,m=n.onMouseEnter,v=Rs(n,Noe),x=R.useContext(hh),S=x.min,_=x.max,y=x.direction,A=x.disabled,w=x.keyboard,E=x.range,I=x.tabIndex,P=x.ariaLabelForHandle,L=x.ariaLabelledByForHandle,U=x.ariaValueTextFormatterForHandle,F=x.styles,O=x.classNames,G="".concat(t,"-handle"),te=function(pe){A||o(pe,i)},Z=function(pe){p==null||p(pe,i)},ie=function(pe){m(pe,i)},se=function(pe){if(!A&&w){var Me=null;switch(pe.which||pe.keyCode){case Ht.LEFT:Me=y==="ltr"||y==="btt"?-1:1;break;case Ht.RIGHT:Me=y==="ltr"||y==="btt"?1:-1;break;case Ht.UP:Me=y!=="ttb"?1:-1;break;case Ht.DOWN:Me=y!=="ttb"?-1:1;break;case Ht.HOME:Me="min";break;case Ht.END:Me="max";break;case Ht.PAGE_UP:Me=2;break;case Ht.PAGE_DOWN:Me=-2;break}Me!==null&&(pe.preventDefault(),c(Me,i))}},K=function(pe){switch(pe.which||pe.keyCode){case Ht.LEFT:case Ht.RIGHT:case Ht.UP:case Ht.DOWN:case Ht.HOME:case Ht.END:case Ht.PAGE_UP:case Ht.PAGE_DOWN:f==null||f();break}},X=pR(y,r,S,_),N={};if(i!==null){var j;N={tabIndex:A?null:Wp(I,i),role:"slider","aria-valuemin":S,"aria-valuemax":_,"aria-valuenow":r,"aria-disabled":A,"aria-label":Wp(P,i),"aria-labelledby":Wp(L,i),"aria-valuetext":(j=Wp(U,i))===null||j===void 0?void 0:j(r),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:te,onTouchStart:te,onFocus:Z,onMouseEnter:ie,onKeyDown:se,onKeyUp:K}}var J=R.createElement("div",Pr({ref:e,className:Nt(G,Ue(Ue({},"".concat(G,"-").concat(i+1),i!==null&&E),"".concat(G,"-dragging"),l),O.handle),style:$e($e($e({},X),s),F.handle)},N,v));return a&&(J=a(J,{index:i,prefixCls:t,value:r,dragging:l})),J}),Uoe=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],koe=R.forwardRef(function(n,e){var t=n.prefixCls,r=n.style,i=n.onStartMove,o=n.onOffsetChange,s=n.values,a=n.handleRender,l=n.activeHandleRender,c=n.draggingIndex,f=n.onFocus,p=Rs(n,Uoe),m=R.useRef({});R.useImperativeHandle(e,function(){return{focus:function(I){var P;(P=m.current[I])===null||P===void 0||P.focus()}}});var v=R.useState(-1),x=Ct(v,2),S=x[0],_=x[1],y=function(I,P){_(P),f==null||f(I)},A=function(I,P){_(P)},w=$e({prefixCls:t,onStartMove:i,onOffsetChange:o,render:a,onFocus:y,onMouseEnter:A},p);return R.createElement(R.Fragment,null,s.map(function(E,I){return R.createElement(JL,Pr({ref:function(L){L?m.current[I]=L:delete m.current[I]},dragging:c===I,style:Wp(r,I),key:I,value:E,valueIndex:I},w))}),l&&R.createElement(JL,Pr({key:"a11y"},w,{value:s[S],valueIndex:null,dragging:c!==-1,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),zoe=function(e){var t=e.prefixCls,r=e.style,i=e.children,o=e.value,s=e.onClick,a=R.useContext(hh),l=a.min,c=a.max,f=a.direction,p=a.includedStart,m=a.includedEnd,v=a.included,x="".concat(t,"-text"),S=pR(f,o,l,c);return R.createElement("span",{className:Nt(x,Ue({},"".concat(x,"-active"),v&&p<=o&&o<=m)),style:$e($e({},S),r),onMouseDown:function(y){y.stopPropagation()},onClick:function(){s(o)}},i)},Hoe=function(e){var t=e.prefixCls,r=e.marks,i=e.onClick,o="".concat(t,"-mark");return r.length?R.createElement("div",{className:o},r.map(function(s){var a=s.value,l=s.style,c=s.label;return R.createElement(zoe,{key:a,prefixCls:o,style:l,value:a,onClick:i},c)})):null},Goe=function(e){var t=e.prefixCls,r=e.value,i=e.style,o=e.activeStyle,s=R.useContext(hh),a=s.min,l=s.max,c=s.direction,f=s.included,p=s.includedStart,m=s.includedEnd,v="".concat(t,"-dot"),x=f&&p<=r&&r<=m,S=$e($e({},pR(c,r,a,l)),typeof i=="function"?i(r):i);return x&&(S=$e($e({},S),typeof o=="function"?o(r):o)),R.createElement("span",{className:Nt(v,Ue({},"".concat(v,"-active"),x)),style:S})},Voe=function(e){var t=e.prefixCls,r=e.marks,i=e.dots,o=e.style,s=e.activeStyle,a=R.useContext(hh),l=a.min,c=a.max,f=a.step,p=R.useMemo(function(){var m=new Set;if(r.forEach(function(x){m.add(x.value)}),i&&f!==null)for(var v=l;v<=c;)m.add(v),v+=f;return Array.from(m)},[l,c,f,i,r]);return R.createElement("div",{className:"".concat(t,"-step")},p.map(function(m){return R.createElement(Goe,{prefixCls:t,key:m,value:m,style:o,activeStyle:s})}))},YL=function(e){var t=e.prefixCls,r=e.style,i=e.start,o=e.end,s=e.index,a=e.onStartMove,l=e.replaceCls,c=R.useContext(hh),f=c.direction,p=c.min,m=c.max,v=c.disabled,x=c.range,S=c.classNames,_="".concat(t,"-track"),y=eb(i,p,m),A=eb(o,p,m),w=function(L){!v&&a&&a(L,-1)},E={};switch(f){case"rtl":E.right="".concat(y*100,"%"),E.width="".concat(A*100-y*100,"%");break;case"btt":E.bottom="".concat(y*100,"%"),E.height="".concat(A*100-y*100,"%");break;case"ttb":E.top="".concat(y*100,"%"),E.height="".concat(A*100-y*100,"%");break;default:E.left="".concat(y*100,"%"),E.width="".concat(A*100-y*100,"%")}var I=l||Nt(_,Ue(Ue({},"".concat(_,"-").concat(s+1),s!==null&&x),"".concat(t,"-track-draggable"),a),S.track);return R.createElement("div",{className:I,style:$e($e({},E),r),onMouseDown:w,onTouchStart:w})},Woe=function(e){var t=e.prefixCls,r=e.style,i=e.values,o=e.startPoint,s=e.onStartMove,a=R.useContext(hh),l=a.included,c=a.range,f=a.min,p=a.styles,m=a.classNames,v=R.useMemo(function(){if(!c){if(i.length===0)return[];var S=o??f,_=i[0];return[{start:Math.min(S,_),end:Math.max(S,_)}]}for(var y=[],A=0;A<i.length-1;A+=1)y.push({start:i[A],end:i[A+1]});return y},[i,c,o,f]);if(!l)return null;var x=m.tracks||p.tracks?R.createElement(YL,{index:null,prefixCls:t,start:v[0].start,end:v[v.length-1].end,replaceCls:Nt(m.tracks,"".concat(t,"-tracks")),style:p.tracks}):null;return R.createElement(R.Fragment,null,x,v.map(function(S,_){var y=S.start,A=S.end;return R.createElement(YL,{index:_,prefixCls:t,style:$e($e({},Wp(r,_)),p.track),start:y,end:A,key:_,onStartMove:s})}))};function qL(n){var e="touches"in n?n.touches[0]:n;return{pageX:e.pageX,pageY:e.pageY}}function $oe(n,e,t,r,i,o,s,a,l){var c=R.useState(null),f=Ct(c,2),p=f[0],m=f[1],v=R.useState(-1),x=Ct(v,2),S=x[0],_=x[1],y=R.useState(t),A=Ct(y,2),w=A[0],E=A[1],I=R.useState(t),P=Ct(I,2),L=P[0],U=P[1],F=R.useRef(null),O=R.useRef(null);R.useLayoutEffect(function(){S===-1&&E(t)},[t,S]),R.useEffect(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",O.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",O.current)}},[]);var G=function(K,X){w.some(function(N,j){return N!==K[j]})&&(X!==void 0&&m(X),E(K),s(K))},te=qs(function(se,K){if(se===-1){var X=L[0],N=L[L.length-1],j=r-X,J=i-N,re=K*(i-r);re=Math.max(re,j),re=Math.min(re,J);var pe=o(X+re);re=pe-X;var Me=L.map(function(Pe){return Pe+re});G(Me)}else{var de=(i-r)*K,Ce=qt(w);Ce[se]=L[se];var De=l(Ce,de,se,"dist");G(De.values,De.value)}}),Z=function(K,X,N){K.stopPropagation();var j=N||t,J=j[X];_(X),m(J),U(j);var re=qL(K),pe=re.pageX,Me=re.pageY,de=function(Pe){Pe.preventDefault();var lt=qL(Pe),dt=lt.pageX,ht=lt.pageY,oe=dt-pe,Ne=ht-Me,Be=n.current.getBoundingClientRect(),He=Be.width,Fe=Be.height,Ve;switch(e){case"btt":Ve=-Ne/Fe;break;case"ttb":Ve=Ne/Fe;break;case"rtl":Ve=-oe/He;break;default:Ve=oe/He}te(X,Ve)},Ce=function De(Pe){Pe.preventDefault(),document.removeEventListener("mouseup",De),document.removeEventListener("mousemove",de),document.removeEventListener("touchend",De),document.removeEventListener("touchmove",de),F.current=null,O.current=null,_(-1),a()};document.addEventListener("mouseup",Ce),document.addEventListener("mousemove",de),document.addEventListener("touchend",Ce),document.addEventListener("touchmove",de),F.current=de,O.current=Ce},ie=R.useMemo(function(){var se=qt(t).sort(function(X,N){return X-N}),K=qt(w).sort(function(X,N){return X-N});return se.every(function(X,N){return X===K[N]})?w:t},[t,w]);return[S,p,ie,Z]}function joe(n,e,t,r,i,o){var s=R.useCallback(function(v){return Math.max(n,Math.min(e,v))},[n,e]),a=R.useCallback(function(v){if(t!==null){var x=n+Math.round((s(v)-n)/t)*t,S=function(w){return(String(w).split(".")[1]||"").length},_=Math.max(S(t),S(e),S(n)),y=Number(x.toFixed(_));return n<=y&&y<=e?y:null}return null},[t,n,e,s]),l=R.useCallback(function(v){var x=s(v),S=r.map(function(A){return A.value});t!==null&&S.push(a(v)),S.push(n,e);var _=S[0],y=e-n;return S.forEach(function(A){var w=Math.abs(x-A);w<=y&&(_=A,y=w)}),_},[n,e,r,t,s,a]),c=function v(x,S,_){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof S=="number"){var A,w=x[_],E=w+S,I=[];r.forEach(function(O){I.push(O.value)}),I.push(n,e),I.push(a(w));var P=S>0?1:-1;y==="unit"?I.push(a(w+P*t)):I.push(a(E)),I=I.filter(function(O){return O!==null}).filter(function(O){return S<0?O<=w:O>=w}),y==="unit"&&(I=I.filter(function(O){return O!==w}));var L=y==="unit"?w:E;A=I[0];var U=Math.abs(A-L);if(I.forEach(function(O){var G=Math.abs(O-L);G<U&&(A=O,U=G)}),A===void 0)return S<0?n:e;if(y==="dist")return A;if(Math.abs(S)>1){var F=qt(x);return F[_]=A,v(F,S-P,_,y)}return A}else{if(S==="min")return n;if(S==="max")return e}},f=function(x,S,_){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",A=x[_],w=c(x,S,_,y);return{value:w,changed:w!==A}},p=function(x){return o===null&&x===0||typeof o=="number"&&x<o},m=function(x,S,_){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",A=x.map(l),w=A[_],E=c(A,S,_,y);if(A[_]=E,i===!1){var I=o||0;_>0&&A[_-1]!==w&&(A[_]=Math.max(A[_],A[_-1]+I)),_<A.length-1&&A[_+1]!==w&&(A[_]=Math.min(A[_],A[_+1]-I))}else if(typeof o=="number"||o===null){for(var P=_+1;P<A.length;P+=1)for(var L=!0;p(A[P]-A[P-1])&&L;){var U=f(A,1,P);A[P]=U.value,L=U.changed}for(var F=_;F>0;F-=1)for(var O=!0;p(A[F]-A[F-1])&&O;){var G=f(A,-1,F-1);A[F-1]=G.value,O=G.changed}for(var te=A.length-1;te>0;te-=1)for(var Z=!0;p(A[te]-A[te-1])&&Z;){var ie=f(A,-1,te-1);A[te-1]=ie.value,Z=ie.changed}for(var se=0;se<A.length-1;se+=1)for(var K=!0;p(A[se+1]-A[se])&&K;){var X=f(A,1,se+1);A[se+1]=X.value,K=X.changed}}return{value:A[_],values:A}};return[l,m]}var Xoe=R.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-slider":t,i=n.className,o=n.style,s=n.classNames,a=n.styles,l=n.disabled,c=l===void 0?!1:l,f=n.keyboard,p=f===void 0?!0:f,m=n.autoFocus,v=n.onFocus,x=n.onBlur,S=n.min,_=S===void 0?0:S,y=n.max,A=y===void 0?100:y,w=n.step,E=w===void 0?1:w,I=n.value,P=n.defaultValue,L=n.range,U=n.count,F=n.onChange,O=n.onBeforeChange,G=n.onAfterChange,te=n.onChangeComplete,Z=n.allowCross,ie=Z===void 0?!0:Z,se=n.pushable,K=se===void 0?!1:se,X=n.draggableTrack,N=n.reverse,j=n.vertical,J=n.included,re=J===void 0?!0:J,pe=n.startPoint,Me=n.trackStyle,de=n.handleStyle,Ce=n.railStyle,De=n.dotStyle,Pe=n.activeDotStyle,lt=n.marks,dt=n.dots,ht=n.handleRender,oe=n.activeHandleRender,Ne=n.tabIndex,Be=Ne===void 0?0:Ne,He=n.ariaLabelForHandle,Fe=n.ariaLabelledByForHandle,Ve=n.ariaValueTextFormatterForHandle,Ke=R.useRef(null),qe=R.useRef(null),rt=R.useMemo(function(){return j?N?"ttb":"btt":N?"rtl":"ltr"},[N,j]),Q=R.useMemo(function(){return isFinite(_)?_:0},[_]),V=R.useMemo(function(){return isFinite(A)?A:100},[A]),ge=R.useMemo(function(){return E!==null&&E<=0?1:E},[E]),Ae=R.useMemo(function(){return typeof K=="boolean"?K?ge:!1:K>=0?K:!1},[K,ge]),Re=R.useMemo(function(){return Object.keys(lt||{}).map(function(sn){var Wt=lt[sn],T={value:Number(sn)};return Wt&&Vn(Wt)==="object"&&!R.isValidElement(Wt)&&("label"in Wt||"style"in Wt)?(T.style=Wt.style,T.label=Wt.label):T.label=Wt,T}).filter(function(sn){var Wt=sn.label;return Wt||typeof Wt=="number"}).sort(function(sn,Wt){return sn.value-Wt.value})},[lt]),ze=joe(Q,V,ge,Re,ie,Ae),pt=Ct(ze,2),ct=pt[0],st=pt[1],kt=iR(P,{value:I}),Qe=Ct(kt,2),vt=Qe[0],Vt=Qe[1],It=R.useMemo(function(){var sn=vt==null?[]:Array.isArray(vt)?vt:[vt],Wt=Ct(sn,1),T=Wt[0],ce=T===void 0?Q:T,Se=vt===null?[]:[ce];if(L){if(Se=qt(sn),U||vt===void 0){var be=U>=0?U+1:2;for(Se=Se.slice(0,be);Se.length<be;){var _e;Se.push((_e=Se[Se.length-1])!==null&&_e!==void 0?_e:Q)}}Se.sort(function(me,ot){return me-ot})}return Se.forEach(function(me,ot){Se[ot]=ct(me)}),Se},[vt,L,Q,U,ct]),ft=R.useRef(It);ft.current=It;var he=function(Wt){return L?Wt:Wt[0]},Ge=function(Wt){var T=qt(Wt).sort(function(ce,Se){return ce-Se});F&&!MS(T,ft.current,!0)&&F(he(T)),Vt(T)},ut=function(){var Wt=he(ft.current);G==null||G(Wt),ts(!G,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),te==null||te(Wt)},le=$oe(qe,rt,It,Q,V,ct,Ge,ut,st),Ze=Ct(le,4),Oe=Ze[0],je=Ze[1],it=Ze[2],xt=Ze[3],wt=function(Wt,T){if(!c){var ce=0,Se=V-Q;It.forEach(function(ot,At){var Mt=Math.abs(Wt-ot);Mt<=Se&&(Se=Mt,ce=At)});var be=qt(It);if(be[ce]=Wt,L&&!It.length&&U===void 0&&be.push(Wt),O==null||O(he(be)),Ge(be),T){var _e,me;(_e=document.activeElement)===null||_e===void 0||(me=_e.blur)===null||me===void 0||me.call(_e),Ke.current.focus(ce),xt(T,ce,be)}}},St=function(Wt){Wt.preventDefault();var T=qe.current.getBoundingClientRect(),ce=T.width,Se=T.height,be=T.left,_e=T.top,me=T.bottom,ot=T.right,At=Wt.clientX,Mt=Wt.clientY,Ot;switch(rt){case"btt":Ot=(me-Mt)/Se;break;case"ttb":Ot=(Mt-_e)/Se;break;case"rtl":Ot=(ot-At)/ce;break;default:Ot=(At-be)/ce}var _t=Q+Ot*(V-Q);wt(ct(_t),Wt)},en=R.useState(null),on=Ct(en,2),nn=on[0],Kt=on[1],nr=function(Wt,T){if(!c){var ce=st(It,Wt,T);O==null||O(he(It)),Ge(ce.values),Kt(ce.value)}};R.useEffect(function(){if(nn!==null){var sn=It.indexOf(nn);sn>=0&&Ke.current.focus(sn)}Kt(null)},[nn]);var lr=R.useMemo(function(){return X&&ge===null?!1:X},[X,ge]),Br=function(Wt,T){xt(Wt,T),O==null||O(he(ft.current))},fr=Oe!==-1;R.useEffect(function(){if(!fr){var sn=It.lastIndexOf(je);Ke.current.focus(sn)}},[fr]);var _r=R.useMemo(function(){return qt(it).sort(function(sn,Wt){return sn-Wt})},[it]),wr=R.useMemo(function(){return L?[_r[0],_r[_r.length-1]]:[Q,_r[0]]},[_r,L,Q]),mr=Ct(wr,2),mi=mr[0],Wr=mr[1];R.useImperativeHandle(e,function(){return{focus:function(){Ke.current.focus(0)},blur:function(){var Wt,T=document,ce=T.activeElement;(Wt=qe.current)!==null&&Wt!==void 0&&Wt.contains(ce)&&(ce==null||ce.blur())}}}),R.useEffect(function(){m&&Ke.current.focus(0)},[]);var oi=R.useMemo(function(){return{min:Q,max:V,direction:rt,disabled:c,keyboard:p,step:ge,included:re,includedStart:mi,includedEnd:Wr,range:L,tabIndex:Be,ariaLabelForHandle:He,ariaLabelledByForHandle:Fe,ariaValueTextFormatterForHandle:Ve,styles:a||{},classNames:s||{}}},[Q,V,rt,c,p,ge,re,mi,Wr,L,Be,He,Fe,Ve,a,s]);return R.createElement(hh.Provider,{value:oi},R.createElement("div",{ref:qe,className:Nt(r,i,Ue(Ue(Ue(Ue({},"".concat(r,"-disabled"),c),"".concat(r,"-vertical"),j),"".concat(r,"-horizontal"),!j),"".concat(r,"-with-marks"),Re.length)),style:o,onMouseDown:St},R.createElement("div",{className:Nt("".concat(r,"-rail"),s==null?void 0:s.rail),style:$e($e({},Ce),a==null?void 0:a.rail)}),R.createElement(Woe,{prefixCls:r,style:Me,values:_r,startPoint:pe,onStartMove:lr?Br:void 0}),R.createElement(Voe,{prefixCls:r,marks:Re,dots:dt,style:De,activeStyle:Pe}),R.createElement(koe,{ref:Ke,prefixCls:r,style:de,values:it,draggingIndex:Oe,onStartMove:Br,onOffsetChange:nr,onFocus:v,onBlur:x,handleRender:ht,activeHandleRender:oe,onChangeComplete:ut}),R.createElement(Hoe,{prefixCls:r,marks:Re,onClick:wt})))});const QL=R.forwardRef((n,e)=>{const{open:t}=n,r=R.useRef(null),i=R.useRef(null);function o(){za.cancel(i.current),i.current=null}function s(){i.current=za(()=>{var a;(a=r.current)===null||a===void 0||a.forceAlign(),i.current=null})}return R.useEffect(()=>(t?s():o(),o),[t,n.title]),R.createElement(tz,Object.assign({ref:Lm(r,e)},n))}),Koe=n=>{const{componentCls:e,antCls:t,controlSize:r,dotSize:i,marginFull:o,marginPart:s,colorFillContentHover:a,handleColorDisabled:l,calc:c}=n;return{[e]:Object.assign(Object.assign({},zd(n)),{position:"relative",height:r,margin:`${$n(s)} ${$n(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${$n(o)} ${$n(s)}`},[`${e}-rail`]:{position:"absolute",backgroundColor:n.railBg,borderRadius:n.borderRadiusXS,transition:`background-color ${n.motionDurationMid}`},[`${e}-track,${e}-tracks`]:{position:"absolute",transition:`background-color ${n.motionDurationMid}`},[`${e}-track`]:{backgroundColor:n.trackBg,borderRadius:n.borderRadiusXS},[`${e}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${e}-rail`]:{backgroundColor:n.railHoverBg},[`${e}-track`]:{backgroundColor:n.trackHoverBg},[`${e}-dot`]:{borderColor:a},[`${e}-handle::after`]:{boxShadow:`0 0 0 ${$n(n.handleLineWidth)} ${n.colorPrimaryBorderHover}`},[`${e}-dot-active`]:{borderColor:n.dotActiveBorderColor}},[`${e}-handle`]:{position:"absolute",width:n.handleSize,height:n.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:c(n.handleLineWidth).mul(-1).equal(),insetBlockStart:c(n.handleLineWidth).mul(-1).equal(),width:c(n.handleSize).add(c(n.handleLineWidth).mul(2)).equal(),height:c(n.handleSize).add(c(n.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:n.handleSize,height:n.handleSize,backgroundColor:n.colorBgElevated,boxShadow:`0 0 0 ${$n(n.handleLineWidth)} ${n.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${n.motionDurationMid},
            inset-block-start ${n.motionDurationMid},
            width ${n.motionDurationMid},
            height ${n.motionDurationMid},
            box-shadow ${n.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(n.handleSizeHover).sub(n.handleSize).div(2).add(n.handleLineWidthHover).mul(-1).equal(),insetBlockStart:c(n.handleSizeHover).sub(n.handleSize).div(2).add(n.handleLineWidthHover).mul(-1).equal(),width:c(n.handleSizeHover).add(c(n.handleLineWidthHover).mul(2)).equal(),height:c(n.handleSizeHover).add(c(n.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${$n(n.handleLineWidthHover)} ${n.handleActiveColor}`,width:n.handleSizeHover,height:n.handleSizeHover,insetInlineStart:n.calc(n.handleSize).sub(n.handleSizeHover).div(2).equal(),insetBlockStart:n.calc(n.handleSize).sub(n.handleSizeHover).div(2).equal()}}},[`&-lock ${e}-handle`]:{"&::before, &::after":{transition:"none"}},[`${e}-mark`]:{position:"absolute",fontSize:n.fontSize},[`${e}-mark-text`]:{position:"absolute",display:"inline-block",color:n.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:n.colorText}},[`${e}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${e}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:n.colorBgElevated,border:`${$n(n.handleLineWidth)} solid ${n.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:n.dotActiveBorderColor}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-rail`]:{backgroundColor:`${n.railBg} !important`},[`${e}-track`]:{backgroundColor:`${n.trackBgDisabled} !important`},[`
          ${e}-dot
        `]:{backgroundColor:n.colorBgElevated,borderColor:n.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${e}-handle::after`]:{backgroundColor:n.colorBgElevated,cursor:"not-allowed",width:n.handleSize,height:n.handleSize,boxShadow:`0 0 0 ${$n(n.handleLineWidth)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`
          ${e}-mark-text,
          ${e}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${t}-tooltip-inner`]:{minWidth:"unset"}})}},vz=(n,e)=>{const{componentCls:t,railSize:r,handleSize:i,dotSize:o,marginFull:s,calc:a}=n,l=e?"paddingBlock":"paddingInline",c=e?"width":"height",f=e?"height":"width",p=e?"insetBlockStart":"insetInlineStart",m=e?"top":"insetInlineStart",v=a(r).mul(3).sub(i).div(2).equal(),x=a(i).sub(r).div(2).equal(),S=e?{borderWidth:`${$n(x)} 0`,transform:`translateY(${$n(a(x).mul(-1).equal())})`}:{borderWidth:`0 ${$n(x)}`,transform:`translateX(${$n(n.calc(x).mul(-1).equal())})`};return{[l]:r,[f]:a(r).mul(3).equal(),[`${t}-rail`]:{[c]:"100%",[f]:r},[`${t}-track,${t}-tracks`]:{[f]:r},[`${t}-track-draggable`]:Object.assign({},S),[`${t}-handle`]:{[p]:v},[`${t}-mark`]:{insetInlineStart:0,top:0,[m]:a(r).mul(3).add(e?0:s).equal(),[c]:"100%"},[`${t}-step`]:{insetInlineStart:0,top:0,[m]:r,[c]:"100%",[f]:r},[`${t}-dot`]:{position:"absolute",[p]:a(r).sub(o).div(2).equal()}}},Joe=n=>{const{componentCls:e,marginPartWithMark:t}=n;return{[`${e}-horizontal`]:Object.assign(Object.assign({},vz(n,!0)),{[`&${e}-with-marks`]:{marginBottom:t}})}},Yoe=n=>{const{componentCls:e}=n;return{[`${e}-vertical`]:Object.assign(Object.assign({},vz(n,!1)),{height:"100%"})}},qoe=n=>{const t=n.controlHeightLG/4,r=n.controlHeightSM/2,i=n.lineWidth+1,o=n.lineWidth+1*3;return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:o,railBg:n.colorFillTertiary,railHoverBg:n.colorFillSecondary,trackBg:n.colorPrimaryBorder,trackHoverBg:n.colorPrimaryBorderHover,handleColor:n.colorPrimaryBorder,handleActiveColor:n.colorPrimary,handleColorDisabled:new ws(n.colorTextDisabled).onBackground(n.colorBgContainer).toHexShortString(),dotBorderColor:n.colorBorderSecondary,dotActiveBorderColor:n.colorPrimaryBorder,trackBgDisabled:n.colorBgContainerDisabled}},Qoe=qc("Slider",n=>{const e=cs(n,{marginPart:n.calc(n.controlHeight).sub(n.controlSize).div(2).equal(),marginFull:n.calc(n.controlSize).div(2).equal(),marginPartWithMark:n.calc(n.controlHeightLG).sub(n.controlSize).equal()});return[Koe(e),Joe(e),Yoe(e)]},qoe);function Mw(){const[n,e]=R.useState(!1),t=R.useRef(),r=()=>{za.cancel(t.current)},i=o=>{r(),o?e(o):t.current=za(()=>{e(o)})};return R.useEffect(()=>r,[]),[n,i]}var Zoe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function ese(n,e){return n||n===null?n:e||e===null?e:t=>typeof t=="number"?t.toString():""}const tse=Xt.forwardRef((n,e)=>{const{prefixCls:t,range:r,className:i,rootClassName:o,style:s,disabled:a,tooltipPrefixCls:l,tipFormatter:c,tooltipVisible:f,getTooltipPopupContainer:p,tooltipPlacement:m,tooltip:v={},onChangeComplete:x}=n,S=Zoe(n,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:_}=n,{direction:y,slider:A,getPrefixCls:w,getPopupContainer:E}=Xt.useContext(kr),I=Xt.useContext(_m),P=a??I,[L,U]=Mw(),[F,O]=Mw(),G=Object.assign({},v),{open:te,placement:Z,getPopupContainer:ie,prefixCls:se,formatter:K}=G,X=te??f,N=(L||F)&&X!==!1,j=ese(K,c),[J,re]=Mw(),pe=Fe=>{x==null||x(Fe),re(!1)},Me=(Fe,Ve)=>Fe||(Ve?y==="rtl"?"left":"right":"top"),de=w("slider",t),[Ce,De,Pe]=Qoe(de),lt=Nt(i,A==null?void 0:A.className,o,{[`${de}-rtl`]:y==="rtl",[`${de}-lock`]:J},De,Pe);y==="rtl"&&!S.vertical&&(S.reverse=!S.reverse);const[dt,ht]=Xt.useMemo(()=>r?typeof r=="object"?[!0,r.draggableTrack]:[!0,!1]:[!1],[r]);Xt.useEffect(()=>{const Fe=()=>{za(()=>{O(!1)},1)};return document.addEventListener("mouseup",Fe),()=>{document.removeEventListener("mouseup",Fe)}},[]);const oe=dt&&!X,Ne=(Fe,Ve)=>{const{index:Ke}=Ve,qe=Fe.props,rt=Object.assign(Object.assign({},qe),{onMouseEnter:ge=>{var Ae;U(!0),(Ae=qe.onMouseEnter)===null||Ae===void 0||Ae.call(qe,ge)},onMouseLeave:ge=>{var Ae;U(!1),(Ae=qe.onMouseLeave)===null||Ae===void 0||Ae.call(qe,ge)},onMouseDown:ge=>{var Ae;O(!0),re(!0),(Ae=qe.onMouseDown)===null||Ae===void 0||Ae.call(qe,ge)},onFocus:ge=>{var Ae,Re;O(!0),(Ae=S.onFocus)===null||Ae===void 0||Ae.call(S,ge),(Re=qe.onFocus)===null||Re===void 0||Re.call(qe,ge)},onBlur:ge=>{var Ae,Re;O(!1),(Ae=S.onBlur)===null||Ae===void 0||Ae.call(S,ge),(Re=qe.onBlur)===null||Re===void 0||Re.call(qe,ge)}}),Q=Xt.cloneElement(Fe,rt),V=(!!X||N)&&j!==null;return oe?Q:Xt.createElement(QL,Object.assign({},G,{prefixCls:w("tooltip",se??l),title:j?j(Ve.value):"",open:V,placement:Me(Z??m,_),key:Ke,overlayClassName:`${de}-tooltip`,getPopupContainer:ie||p||E}),Q)},Be=oe?(Fe,Ve)=>{const Ke=Xt.cloneElement(Fe,{style:Object.assign(Object.assign({},Fe.props.style),{visibility:"hidden"})});return Xt.createElement(QL,Object.assign({},G,{prefixCls:w("tooltip",se??l),title:j?j(Ve.value):"",open:j!==null&&N,placement:Me(Z??m,_),key:"tooltip",overlayClassName:`${de}-tooltip`,getPopupContainer:ie||p||E}),Ke)}:void 0,He=Object.assign(Object.assign({},A==null?void 0:A.style),s);return Ce(Xt.createElement(Xoe,Object.assign({},S,{step:S.step,range:dt,draggableTrack:ht,className:lt,style:He,disabled:P,ref:e,prefixCls:de,handleRender:Ne,activeHandleRender:Be,onChangeComplete:pe})))});var nse={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},rse=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:nse}))},ise=R.forwardRef(rse),ose={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},sse=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:ose}))},ase=R.forwardRef(sse),lse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"},cse=function(e,t){return R.createElement(Qc,Pr({},e,{ref:t,icon:lse}))},use=R.forwardRef(cse),ao;(function(n){n[n.literal=0]="literal",n[n.argument=1]="argument",n[n.number=2]="number",n[n.date=3]="date",n[n.time=4]="time",n[n.select=5]="select",n[n.plural=6]="plural",n[n.pound=7]="pound"})(ao||(ao={}));function tb(n){return n.type===ao.literal}function fse(n){return n.type===ao.argument}function dse(n){return n.type===ao.number}function hse(n){return n.type===ao.date}function pse(n){return n.type===ao.time}function yz(n){return n.type===ao.select}function xz(n){return n.type===ao.plural}function mse(n){return n.type===ao.pound}function gse(n){return!!(n&&typeof n=="object"&&n.type===0)}function vse(n){return!!(n&&typeof n=="object"&&n.type===1)}var yse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ra=function(){return Ra=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ra.apply(this,arguments)},ww=function(n){yse(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.message=t,s.expected=r,s.found=i,s.location=o,s.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s,e),s}return e.buildMessage=function(t,r){function i(f){return f.charCodeAt(0).toString(16).toUpperCase()}function o(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+i(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+i(p)})}function s(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+i(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+i(p)})}function a(f){switch(f.type){case"literal":return'"'+o(f.text)+'"';case"class":var p=f.parts.map(function(m){return Array.isArray(m)?s(m[0])+"-"+s(m[1]):s(m)});return"["+(f.inverted?"^":"")+p+"]";case"any":return"any character";case"end":return"end of input";case"other":return f.description}}function l(f){var p=f.map(a),m,v;if(p.sort(),p.length>0){for(m=1,v=1;m<p.length;m++)p[m-1]!==p[m]&&(p[v]=p[m],v++);p.length=v}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function c(f){return f?'"'+o(f)+'"':"end of input"}return"Expected "+l(t)+" but "+c(r)+" found."},e}(Error);function xse(n,e){e=e!==void 0?e:{};var t={},r={start:In},i=In,o=function(k){return k.join("")},s=function(k){return Ra({type:ao.literal,value:k},En())},a="#",l=_t("#",!1),c=function(){return Ra({type:ao.pound},En())},f=gn("argumentElement"),p="{",m=_t("{",!1),v="}",x=_t("}",!1),S=function(k){return Ra({type:ao.argument,value:k},En())},_=gn("numberSkeletonId"),y=/^['\/{}]/,A=Bt(["'","/","{","}"],!1,!1),w=Cn(),E=gn("numberSkeletonTokenOption"),I="/",P=_t("/",!1),L=function(k){return k},U=gn("numberSkeletonToken"),F=function(k,ne){return{stem:k,options:ne}},O=function(k){return Ra({type:0,tokens:k},En())},G="::",te=_t("::",!1),Z=function(k){return k},ie=function(){return gi.push("numberArgStyle"),!0},se=function(k){return gi.pop(),k.replace(/\s*$/,"")},K=",",X=_t(",",!1),N="number",j=_t("number",!1),J=function(k,ne,H){return Ra({type:ne==="number"?ao.number:ne==="date"?ao.date:ao.time,style:H&&H[2],value:k},En())},re="'",pe=_t("'",!1),Me=/^[^']/,de=Bt(["'"],!0,!1),Ce=/^[^a-zA-Z'{}]/,De=Bt([["a","z"],["A","Z"],"'","{","}"],!0,!1),Pe=/^[a-zA-Z]/,lt=Bt([["a","z"],["A","Z"]],!1,!1),dt=function(k){return Ra({type:1,pattern:k},En())},ht=function(){return gi.push("dateOrTimeArgStyle"),!0},oe="date",Ne=_t("date",!1),Be="time",He=_t("time",!1),Fe="plural",Ve=_t("plural",!1),Ke="selectordinal",qe=_t("selectordinal",!1),rt="offset:",Q=_t("offset:",!1),V=function(k,ne,H,Y){return Ra({type:ao.plural,pluralType:ne==="plural"?"cardinal":"ordinal",value:k,offset:H?H[2]:0,options:Y.reduce(function(fe,et){var $t=et.id,Rt=et.value,Dn=et.location;return $t in fe&&Ot('Duplicate option "'+$t+'" in plural element: "'+At()+'"',Mt()),fe[$t]={value:Rt,location:Dn},fe},{})},En())},ge="select",Ae=_t("select",!1),Re=function(k,ne){return Ra({type:ao.select,value:k,options:ne.reduce(function(H,Y){var fe=Y.id,et=Y.value,$t=Y.location;return fe in H&&Ot('Duplicate option "'+fe+'" in select element: "'+At()+'"',Mt()),H[fe]={value:et,location:$t},H},{})},En())},ze="=",pt=_t("=",!1),ct=function(k){return gi.push("select"),!0},st=function(k,ne){return gi.pop(),Ra({id:k,value:ne},En())},kt=function(k){return gi.push("plural"),!0},Qe=function(k,ne){return gi.pop(),Ra({id:k,value:ne},En())},vt=gn("whitespace"),Vt=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,It=Bt([["	","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),ft=gn("syntax pattern"),he=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,Ge=Bt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),ut=gn("optional whitespace"),le=gn("number"),Ze="-",Oe=_t("-",!1),je=function(k,ne){return ne?k?-ne:ne:0},it=gn("double apostrophes"),xt="''",wt=_t("''",!1),St=function(){return"'"},en=function(k,ne){return k+ne.replace("''","'")},on=function(k){return k!=="{"&&!(Ri()&&k==="#")&&!(Uo()&&k==="}")},nn=`
`,Kt=_t(`
`,!1),nr=function(k){return k==="{"||k==="}"||Ri()&&k==="#"},lr=gn("argNameOrNumber"),Br=gn("argNumber"),fr="0",_r=_t("0",!1),wr=function(){return 0},mr=/^[1-9]/,mi=Bt([["1","9"]],!1,!1),Wr=/^[0-9]/,oi=Bt([["0","9"]],!1,!1),sn=function(k){return parseInt(k.join(""),10)},Wt=gn("argName"),T=0,ce=0,Se=[{line:1,column:1}],be=0,_e=[],me=0,ot;if(e.startRule!==void 0){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function At(){return n.substring(ce,T)}function Mt(){return tn(ce,T)}function Ot(k,ne){throw ne=ne!==void 0?ne:tn(ce,T),ln(k,ne)}function _t(k,ne){return{type:"literal",text:k,ignoreCase:ne}}function Bt(k,ne,H){return{type:"class",parts:k,inverted:ne,ignoreCase:H}}function Cn(){return{type:"any"}}function Wn(){return{type:"end"}}function gn(k){return{type:"other",description:k}}function cr(k){var ne=Se[k],H;if(ne)return ne;for(H=k-1;!Se[H];)H--;for(ne=Se[H],ne={line:ne.line,column:ne.column};H<k;)n.charCodeAt(H)===10?(ne.line++,ne.column=1):ne.column++,H++;return Se[k]=ne,ne}function tn(k,ne){var H=cr(k),Y=cr(ne);return{start:{offset:k,line:H.line,column:H.column},end:{offset:ne,line:Y.line,column:Y.column}}}function Te(k){T<be||(T>be&&(be=T,_e=[]),_e.push(k))}function ln(k,ne){return new ww(k,[],"",ne)}function xn(k,ne,H){return new ww(ww.buildMessage(k,ne),k,ne,H)}function In(){var k;return k=Yn(),k}function Yn(){var k,ne;for(k=[],ne=gr();ne!==t;)k.push(ne),ne=gr();return k}function gr(){var k;return k=vn(),k===t&&(k=Ni(),k===t&&(k=$a(),k===t&&(k=Sr(),k===t&&(k=So(),k===t&&(k=$r()))))),k}function Cr(){var k,ne,H;if(k=T,ne=[],H=Xi(),H===t&&(H=ds(),H===t&&(H=Dt())),H!==t)for(;H!==t;)ne.push(H),H=Xi(),H===t&&(H=ds(),H===t&&(H=Dt()));else ne=t;return ne!==t&&(ce=k,ne=o(ne)),k=ne,k}function vn(){var k,ne;return k=T,ne=Cr(),ne!==t&&(ce=k,ne=s(ne)),k=ne,k}function $r(){var k,ne;return k=T,n.charCodeAt(T)===35?(ne=a,T++):(ne=t,me===0&&Te(l)),ne!==t&&(ce=k,ne=c()),k=ne,k}function Ni(){var k,ne,H,Y,fe,et;return me++,k=T,n.charCodeAt(T)===123?(ne=p,T++):(ne=t,me===0&&Te(m)),ne!==t?(H=An(),H!==t?(Y=On(),Y!==t?(fe=An(),fe!==t?(n.charCodeAt(T)===125?(et=v,T++):(et=t,me===0&&Te(x)),et!==t?(ce=k,ne=S(Y),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t),me--,k===t&&(ne=t,me===0&&Te(f)),k}function dr(){var k,ne,H,Y,fe;if(me++,k=T,ne=[],H=T,Y=T,me++,fe=Jr(),fe===t&&(y.test(n.charAt(T))?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(A))),me--,fe===t?Y=void 0:(T=Y,Y=t),Y!==t?(n.length>T?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(w)),fe!==t?(Y=[Y,fe],H=Y):(T=H,H=t)):(T=H,H=t),H!==t)for(;H!==t;)ne.push(H),H=T,Y=T,me++,fe=Jr(),fe===t&&(y.test(n.charAt(T))?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(A))),me--,fe===t?Y=void 0:(T=Y,Y=t),Y!==t?(n.length>T?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(w)),fe!==t?(Y=[Y,fe],H=Y):(T=H,H=t)):(T=H,H=t);else ne=t;return ne!==t?k=n.substring(k,T):k=ne,me--,k===t&&(ne=t,me===0&&Te(_)),k}function si(){var k,ne,H;return me++,k=T,n.charCodeAt(T)===47?(ne=I,T++):(ne=t,me===0&&Te(P)),ne!==t?(H=dr(),H!==t?(ce=k,ne=L(H),k=ne):(T=k,k=t)):(T=k,k=t),me--,k===t&&(ne=t,me===0&&Te(E)),k}function _o(){var k,ne,H,Y,fe;if(me++,k=T,ne=An(),ne!==t)if(H=dr(),H!==t){for(Y=[],fe=si();fe!==t;)Y.push(fe),fe=si();Y!==t?(ce=k,ne=F(H,Y),k=ne):(T=k,k=t)}else T=k,k=t;else T=k,k=t;return me--,k===t&&(ne=t,me===0&&Te(U)),k}function zr(){var k,ne,H;if(k=T,ne=[],H=_o(),H!==t)for(;H!==t;)ne.push(H),H=_o();else ne=t;return ne!==t&&(ce=k,ne=O(ne)),k=ne,k}function us(){var k,ne,H;return k=T,n.substr(T,2)===G?(ne=G,T+=2):(ne=t,me===0&&Te(te)),ne!==t?(H=zr(),H!==t?(ce=k,ne=Z(H),k=ne):(T=k,k=t)):(T=k,k=t),k===t&&(k=T,ce=T,ne=ie(),ne?ne=void 0:ne=t,ne!==t?(H=Cr(),H!==t?(ce=k,ne=se(H),k=ne):(T=k,k=t)):(T=k,k=t)),k}function ha(){var k,ne,H,Y,fe,et,$t,Rt,Dn,yt,cn,jt,Mn;return k=T,n.charCodeAt(T)===123?(ne=p,T++):(ne=t,me===0&&Te(m)),ne!==t?(H=An(),H!==t?(Y=On(),Y!==t?(fe=An(),fe!==t?(n.charCodeAt(T)===44?(et=K,T++):(et=t,me===0&&Te(X)),et!==t?($t=An(),$t!==t?(n.substr(T,6)===N?(Rt=N,T+=6):(Rt=t,me===0&&Te(j)),Rt!==t?(Dn=An(),Dn!==t?(yt=T,n.charCodeAt(T)===44?(cn=K,T++):(cn=t,me===0&&Te(X)),cn!==t?(jt=An(),jt!==t?(Mn=us(),Mn!==t?(cn=[cn,jt,Mn],yt=cn):(T=yt,yt=t)):(T=yt,yt=t)):(T=yt,yt=t),yt===t&&(yt=null),yt!==t?(cn=An(),cn!==t?(n.charCodeAt(T)===125?(jt=v,T++):(jt=t,me===0&&Te(x)),jt!==t?(ce=k,ne=J(Y,Rt,yt),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t),k}function Ps(){var k,ne,H,Y;if(k=T,n.charCodeAt(T)===39?(ne=re,T++):(ne=t,me===0&&Te(pe)),ne!==t){if(H=[],Y=Xi(),Y===t&&(Me.test(n.charAt(T))?(Y=n.charAt(T),T++):(Y=t,me===0&&Te(de))),Y!==t)for(;Y!==t;)H.push(Y),Y=Xi(),Y===t&&(Me.test(n.charAt(T))?(Y=n.charAt(T),T++):(Y=t,me===0&&Te(de)));else H=t;H!==t?(n.charCodeAt(T)===39?(Y=re,T++):(Y=t,me===0&&Te(pe)),Y!==t?(ne=[ne,H,Y],k=ne):(T=k,k=t)):(T=k,k=t)}else T=k,k=t;if(k===t)if(k=[],ne=Xi(),ne===t&&(Ce.test(n.charAt(T))?(ne=n.charAt(T),T++):(ne=t,me===0&&Te(De))),ne!==t)for(;ne!==t;)k.push(ne),ne=Xi(),ne===t&&(Ce.test(n.charAt(T))?(ne=n.charAt(T),T++):(ne=t,me===0&&Te(De)));else k=t;return k}function Ui(){var k,ne;if(k=[],Pe.test(n.charAt(T))?(ne=n.charAt(T),T++):(ne=t,me===0&&Te(lt)),ne!==t)for(;ne!==t;)k.push(ne),Pe.test(n.charAt(T))?(ne=n.charAt(T),T++):(ne=t,me===0&&Te(lt));else k=t;return k}function Ei(){var k,ne,H,Y;if(k=T,ne=T,H=[],Y=Ps(),Y===t&&(Y=Ui()),Y!==t)for(;Y!==t;)H.push(Y),Y=Ps(),Y===t&&(Y=Ui());else H=t;return H!==t?ne=n.substring(ne,T):ne=H,ne!==t&&(ce=k,ne=dt(ne)),k=ne,k}function bi(){var k,ne,H;return k=T,n.substr(T,2)===G?(ne=G,T+=2):(ne=t,me===0&&Te(te)),ne!==t?(H=Ei(),H!==t?(ce=k,ne=Z(H),k=ne):(T=k,k=t)):(T=k,k=t),k===t&&(k=T,ce=T,ne=ht(),ne?ne=void 0:ne=t,ne!==t?(H=Cr(),H!==t?(ce=k,ne=se(H),k=ne):(T=k,k=t)):(T=k,k=t)),k}function fs(){var k,ne,H,Y,fe,et,$t,Rt,Dn,yt,cn,jt,Mn;return k=T,n.charCodeAt(T)===123?(ne=p,T++):(ne=t,me===0&&Te(m)),ne!==t?(H=An(),H!==t?(Y=On(),Y!==t?(fe=An(),fe!==t?(n.charCodeAt(T)===44?(et=K,T++):(et=t,me===0&&Te(X)),et!==t?($t=An(),$t!==t?(n.substr(T,4)===oe?(Rt=oe,T+=4):(Rt=t,me===0&&Te(Ne)),Rt===t&&(n.substr(T,4)===Be?(Rt=Be,T+=4):(Rt=t,me===0&&Te(He))),Rt!==t?(Dn=An(),Dn!==t?(yt=T,n.charCodeAt(T)===44?(cn=K,T++):(cn=t,me===0&&Te(X)),cn!==t?(jt=An(),jt!==t?(Mn=bi(),Mn!==t?(cn=[cn,jt,Mn],yt=cn):(T=yt,yt=t)):(T=yt,yt=t)):(T=yt,yt=t),yt===t&&(yt=null),yt!==t?(cn=An(),cn!==t?(n.charCodeAt(T)===125?(jt=v,T++):(jt=t,me===0&&Te(x)),jt!==t?(ce=k,ne=J(Y,Rt,yt),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t),k}function $a(){var k;return k=ha(),k===t&&(k=fs()),k}function Sr(){var k,ne,H,Y,fe,et,$t,Rt,Dn,yt,cn,jt,Mn,Er,rr,hs;if(k=T,n.charCodeAt(T)===123?(ne=p,T++):(ne=t,me===0&&Te(m)),ne!==t)if(H=An(),H!==t)if(Y=On(),Y!==t)if(fe=An(),fe!==t)if(n.charCodeAt(T)===44?(et=K,T++):(et=t,me===0&&Te(X)),et!==t)if($t=An(),$t!==t)if(n.substr(T,6)===Fe?(Rt=Fe,T+=6):(Rt=t,me===0&&Te(Ve)),Rt===t&&(n.substr(T,13)===Ke?(Rt=Ke,T+=13):(Rt=t,me===0&&Te(qe))),Rt!==t)if(Dn=An(),Dn!==t)if(n.charCodeAt(T)===44?(yt=K,T++):(yt=t,me===0&&Te(X)),yt!==t)if(cn=An(),cn!==t)if(jt=T,n.substr(T,7)===rt?(Mn=rt,T+=7):(Mn=t,me===0&&Te(Q)),Mn!==t?(Er=An(),Er!==t?(rr=No(),rr!==t?(Mn=[Mn,Er,rr],jt=Mn):(T=jt,jt=t)):(T=jt,jt=t)):(T=jt,jt=t),jt===t&&(jt=null),jt!==t)if(Mn=An(),Mn!==t){if(Er=[],rr=Ti(),rr!==t)for(;rr!==t;)Er.push(rr),rr=Ti();else Er=t;Er!==t?(rr=An(),rr!==t?(n.charCodeAt(T)===125?(hs=v,T++):(hs=t,me===0&&Te(x)),hs!==t?(ce=k,ne=V(Y,Rt,jt,Er),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)}else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;return k}function So(){var k,ne,H,Y,fe,et,$t,Rt,Dn,yt,cn,jt,Mn,Er;if(k=T,n.charCodeAt(T)===123?(ne=p,T++):(ne=t,me===0&&Te(m)),ne!==t)if(H=An(),H!==t)if(Y=On(),Y!==t)if(fe=An(),fe!==t)if(n.charCodeAt(T)===44?(et=K,T++):(et=t,me===0&&Te(X)),et!==t)if($t=An(),$t!==t)if(n.substr(T,6)===ge?(Rt=ge,T+=6):(Rt=t,me===0&&Te(Ae)),Rt!==t)if(Dn=An(),Dn!==t)if(n.charCodeAt(T)===44?(yt=K,T++):(yt=t,me===0&&Te(X)),yt!==t)if(cn=An(),cn!==t){if(jt=[],Mn=Kr(),Mn!==t)for(;Mn!==t;)jt.push(Mn),Mn=Kr();else jt=t;jt!==t?(Mn=An(),Mn!==t?(n.charCodeAt(T)===125?(Er=v,T++):(Er=t,me===0&&Te(x)),Er!==t?(ce=k,ne=Re(Y,jt),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)}else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;else T=k,k=t;return k}function Fo(){var k,ne,H,Y;return k=T,ne=T,n.charCodeAt(T)===61?(H=ze,T++):(H=t,me===0&&Te(pt)),H!==t?(Y=No(),Y!==t?(H=[H,Y],ne=H):(T=ne,ne=t)):(T=ne,ne=t),ne!==t?k=n.substring(k,T):k=ne,k===t&&(k=Zn()),k}function Kr(){var k,ne,H,Y,fe,et,$t,Rt;return k=T,ne=An(),ne!==t?(H=Zn(),H!==t?(Y=An(),Y!==t?(n.charCodeAt(T)===123?(fe=p,T++):(fe=t,me===0&&Te(m)),fe!==t?(ce=T,et=ct(),et?et=void 0:et=t,et!==t?($t=Yn(),$t!==t?(n.charCodeAt(T)===125?(Rt=v,T++):(Rt=t,me===0&&Te(x)),Rt!==t?(ce=k,ne=st(H,$t),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t),k}function Ti(){var k,ne,H,Y,fe,et,$t,Rt;return k=T,ne=An(),ne!==t?(H=Fo(),H!==t?(Y=An(),Y!==t?(n.charCodeAt(T)===123?(fe=p,T++):(fe=t,me===0&&Te(m)),fe!==t?(ce=T,et=kt(),et?et=void 0:et=t,et!==t?($t=Yn(),$t!==t?(n.charCodeAt(T)===125?(Rt=v,T++):(Rt=t,me===0&&Te(x)),Rt!==t?(ce=k,ne=Qe(H,$t),k=ne):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t)):(T=k,k=t),k}function Jr(){var k;return me++,Vt.test(n.charAt(T))?(k=n.charAt(T),T++):(k=t,me===0&&Te(It)),me--,k===t&&me===0&&Te(vt),k}function _n(){var k;return me++,he.test(n.charAt(T))?(k=n.charAt(T),T++):(k=t,me===0&&Te(Ge)),me--,k===t&&me===0&&Te(ft),k}function An(){var k,ne,H;for(me++,k=T,ne=[],H=Jr();H!==t;)ne.push(H),H=Jr();return ne!==t?k=n.substring(k,T):k=ne,me--,k===t&&(ne=t,me===0&&Te(ut)),k}function No(){var k,ne,H;return me++,k=T,n.charCodeAt(T)===45?(ne=Ze,T++):(ne=t,me===0&&Te(Oe)),ne===t&&(ne=null),ne!==t?(H=Ar(),H!==t?(ce=k,ne=je(ne,H),k=ne):(T=k,k=t)):(T=k,k=t),me--,k===t&&(ne=t,me===0&&Te(le)),k}function Xi(){var k,ne;return me++,k=T,n.substr(T,2)===xt?(ne=xt,T+=2):(ne=t,me===0&&Te(wt)),ne!==t&&(ce=k,ne=St()),k=ne,me--,k===t&&(ne=t,me===0&&Te(it)),k}function ds(){var k,ne,H,Y,fe,et;if(k=T,n.charCodeAt(T)===39?(ne=re,T++):(ne=t,me===0&&Te(pe)),ne!==t)if(H=Et(),H!==t){for(Y=T,fe=[],n.substr(T,2)===xt?(et=xt,T+=2):(et=t,me===0&&Te(wt)),et===t&&(Me.test(n.charAt(T))?(et=n.charAt(T),T++):(et=t,me===0&&Te(de)));et!==t;)fe.push(et),n.substr(T,2)===xt?(et=xt,T+=2):(et=t,me===0&&Te(wt)),et===t&&(Me.test(n.charAt(T))?(et=n.charAt(T),T++):(et=t,me===0&&Te(de)));fe!==t?Y=n.substring(Y,T):Y=fe,Y!==t?(n.charCodeAt(T)===39?(fe=re,T++):(fe=t,me===0&&Te(pe)),fe===t&&(fe=null),fe!==t?(ce=k,ne=en(H,Y),k=ne):(T=k,k=t)):(T=k,k=t)}else T=k,k=t;else T=k,k=t;return k}function Dt(){var k,ne,H,Y;return k=T,ne=T,n.length>T?(H=n.charAt(T),T++):(H=t,me===0&&Te(w)),H!==t?(ce=T,Y=on(H),Y?Y=void 0:Y=t,Y!==t?(H=[H,Y],ne=H):(T=ne,ne=t)):(T=ne,ne=t),ne===t&&(n.charCodeAt(T)===10?(ne=nn,T++):(ne=t,me===0&&Te(Kt))),ne!==t?k=n.substring(k,T):k=ne,k}function Et(){var k,ne,H,Y;return k=T,ne=T,n.length>T?(H=n.charAt(T),T++):(H=t,me===0&&Te(w)),H!==t?(ce=T,Y=nr(H),Y?Y=void 0:Y=t,Y!==t?(H=[H,Y],ne=H):(T=ne,ne=t)):(T=ne,ne=t),ne!==t?k=n.substring(k,T):k=ne,k}function On(){var k,ne;return me++,k=T,ne=Ar(),ne===t&&(ne=Zn()),ne!==t?k=n.substring(k,T):k=ne,me--,k===t&&(ne=t,me===0&&Te(lr)),k}function Ar(){var k,ne,H,Y,fe;if(me++,k=T,n.charCodeAt(T)===48?(ne=fr,T++):(ne=t,me===0&&Te(_r)),ne!==t&&(ce=k,ne=wr()),k=ne,k===t){if(k=T,ne=T,mr.test(n.charAt(T))?(H=n.charAt(T),T++):(H=t,me===0&&Te(mi)),H!==t){for(Y=[],Wr.test(n.charAt(T))?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(oi));fe!==t;)Y.push(fe),Wr.test(n.charAt(T))?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(oi));Y!==t?(H=[H,Y],ne=H):(T=ne,ne=t)}else T=ne,ne=t;ne!==t&&(ce=k,ne=sn(ne)),k=ne}return me--,k===t&&(ne=t,me===0&&Te(Br)),k}function Zn(){var k,ne,H,Y,fe;if(me++,k=T,ne=[],H=T,Y=T,me++,fe=Jr(),fe===t&&(fe=_n()),me--,fe===t?Y=void 0:(T=Y,Y=t),Y!==t?(n.length>T?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(w)),fe!==t?(Y=[Y,fe],H=Y):(T=H,H=t)):(T=H,H=t),H!==t)for(;H!==t;)ne.push(H),H=T,Y=T,me++,fe=Jr(),fe===t&&(fe=_n()),me--,fe===t?Y=void 0:(T=Y,Y=t),Y!==t?(n.length>T?(fe=n.charAt(T),T++):(fe=t,me===0&&Te(w)),fe!==t?(Y=[Y,fe],H=Y):(T=H,H=t)):(T=H,H=t);else ne=t;return ne!==t?k=n.substring(k,T):k=ne,me--,k===t&&(ne=t,me===0&&Te(Wt)),k}var gi=["root"];function Uo(){return gi.length>1}function Ri(){return gi[gi.length-1]==="plural"}function En(){return e&&e.captureLocation?{location:Mt()}:{}}if(ot=i(),ot!==t&&T===n.length)return ot;throw ot!==t&&T<n.length&&Te(Wn()),xn(_e,be<n.length?n.charAt(be):null,be<n.length?tn(be,be+1):tn(be,be))}var _z=xse,_se=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},ZL=/(^|[^\\])#/g;function Sz(n){n.forEach(function(e){!xz(e)&&!yz(e)||Object.keys(e.options).forEach(function(t){for(var r,i=e.options[t],o=-1,s=void 0,a=0;a<i.value.length;a++){var l=i.value[a];if(tb(l)&&ZL.test(l.value)){o=a,s=l;break}}if(s){var c=s.value.replace(ZL,"$1{"+e.value+", number}"),f=_z(c);(r=i.value).splice.apply(r,_se([o,1],f))}Sz(i.value)})})}var oo=function(){return oo=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},oo.apply(this,arguments)},Sse=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Ase(n){var e={};return n.replace(Sse,function(t){var r=t.length;switch(t[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""}),e}function Mse(n){return n.replace(/^(.*?)-/,"")}var eO=/^\.(?:(0+)(\+|#+)?)?$/g,Az=/^(@+)?(\+|#+)?$/g;function tO(n){var e={};return n.replace(Az,function(t,r,i){return typeof i!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):i==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),e}function Mz(n){switch(n){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function nO(n){var e={},t=Mz(n);return t||e}function wse(n){for(var e={},t=0,r=n;t<r.length;t++){var i=r[t];switch(i.stem){case"percent":e.style="percent";continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":e.useGrouping=!1;continue;case"precision-integer":e.maximumFractionDigits=0;continue;case"measure-unit":e.style="unit",e.unit=Mse(i.options[0]);continue;case"compact-short":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=oo(oo(oo({},e),{notation:"scientific"}),i.options.reduce(function(s,a){return oo(oo({},s),nO(a))},{}));continue;case"engineering":e=oo(oo(oo({},e),{notation:"engineering"}),i.options.reduce(function(s,a){return oo(oo({},s),nO(a))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue}if(eO.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(eO,function(s,a,l){return s==="."?e.maximumFractionDigits=0:l==="+"?e.minimumFractionDigits=l.length:a[0]==="#"?e.maximumFractionDigits=a.length:(e.minimumFractionDigits=a.length,e.maximumFractionDigits=a.length+(typeof l=="string"?l.length:0)),""}),i.options.length&&(e=oo(oo({},e),tO(i.options[0])));continue}if(Az.test(i.stem)){e=oo(oo({},e),tO(i.stem));continue}var o=Mz(i.stem);o&&(e=oo(oo({},e),o))}return e}function Cse(n,e){var t=_z(n,e);return(!e||e.normalizeHashtagInPlural!==!1)&&Sz(t),t}var Ese=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};function bse(n){return JSON.stringify(n.map(function(e){return e&&typeof e=="object"?Tse(e):e}))}function Tse(n){return Object.keys(n).sort().map(function(e){var t;return t={},t[e]=n[e],t})}var Cw=function(n,e){return e===void 0&&(e={}),function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=bse(r),s=o&&e[o];return s||(s=new((t=n).bind.apply(t,Ese([void 0],r))),o&&(e[o]=s)),s}},Rse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pse=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Rd=function(n){Rse(e,n);function e(t,r){var i=n.call(this,t)||this;return i.variableId=r,i}return e}(Error);function Ise(n){return n.length<2?n:n.reduce(function(e,t){var r=e[e.length-1];return!r||r.type!==0||t.type!==0?e.push(t):r.value+=t.value,e},[])}function l0(n,e,t,r,i,o,s){if(n.length===1&&tb(n[0]))return[{type:0,value:n[0].value}];for(var a=[],l=0,c=n;l<c.length;l++){var f=c[l];if(tb(f)){a.push({type:0,value:f.value});continue}if(mse(f)){typeof o=="number"&&a.push({type:0,value:t.getNumberFormat(e).format(o)});continue}var p=f.value;if(!(i&&p in i))throw new Rd('The intl string context variable "'+p+'" was not provided to the string "'+s+'"');var m=i[p];if(fse(f)){(!m||typeof m=="string"||typeof m=="number")&&(m=typeof m=="string"||typeof m=="number"?String(m):""),a.push({type:1,value:m});continue}if(hse(f)){var v=typeof f.style=="string"?r.date[f.style]:void 0;a.push({type:0,value:t.getDateTimeFormat(e,v).format(m)});continue}if(pse(f)){var v=typeof f.style=="string"?r.time[f.style]:vse(f.style)?Ase(f.style.pattern):void 0;a.push({type:0,value:t.getDateTimeFormat(e,v).format(m)});continue}if(dse(f)){var v=typeof f.style=="string"?r.number[f.style]:gse(f.style)?wse(f.style.tokens):void 0;a.push({type:0,value:t.getNumberFormat(e,v).format(m)});continue}if(yz(f)){var x=f.options[m]||f.options.other;if(!x)throw new RangeError('Invalid values for "'+f.value+'": "'+m+'". Options are "'+Object.keys(f.options).join('", "')+'"');a.push.apply(a,l0(x.value,e,t,r,i));continue}if(xz(f)){var x=f.options["="+m];if(!x){if(!Intl.PluralRules)throw new Rd(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`);var S=t.getPluralRules(e,{type:f.pluralType}).select(m-(f.offset||0));x=f.options[S]||f.options.other}if(!x)throw new RangeError('Invalid values for "'+f.value+'": "'+m+'". Options are "'+Object.keys(f.options).join('", "')+'"');a.push.apply(a,l0(x.value,e,t,r,i,m-(f.offset||0)));continue}}return Ise(a)}function Bse(n,e,t,r,i,o){var s=l0(n,e,t,r,i,void 0,o);return s.length===1?s[0].value:s.reduce(function(a,l){return a+=l.value},"")}var Ew,rO="@@",Lse=/@@(\d+_\d+)@@/g,Ose=0;function Dse(){return Date.now()+"_"+ ++Ose}function nb(n,e){return n.split(Lse).filter(Boolean).map(function(t){return e[t]!=null?e[t]:t}).reduce(function(t,r){return t.length&&typeof r=="string"&&typeof t[t.length-1]=="string"?t[t.length-1]+=r:t.push(r),t},[])}var Fse=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,iO=Date.now()+"@@",Nse=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function wz(n,e,t){var r=n.tagName,i=n.outerHTML,o=n.textContent,s=n.childNodes;if(!r)return nb(o||"",e);r=r.toLowerCase();var a=~Nse.indexOf(r),l=t[r];if(l&&a)throw new Rd(r+" is a self-closing tag and can not be used, please use another tag name.");if(!s.length)return[i];var c=Array.prototype.slice.call(s).reduce(function(f,p){return f.concat(wz(p,e,t))},[]);return l?typeof l=="function"?[l.apply(void 0,c)]:[l]:Pse(["<"+r+">"],c,["</"+r+">"])}function Use(n,e,t,r,i,o){var s=l0(n,e,t,r,i,void 0,o),a={},l=s.reduce(function(m,v){if(v.type===0)return m+=v.value;var x=Dse();return a[x]=v.value,m+=""+rO+x+rO},"");if(!Fse.test(l))return nb(l,a);if(!i)throw new Rd("Message has placeholders but no values was given");if(typeof DOMParser>"u")throw new Rd("Cannot format XML message without DOMParser");Ew||(Ew=new DOMParser);var c=Ew.parseFromString('<formatted-message id="'+iO+'">'+l+"</formatted-message>","text/html").getElementById(iO);if(!c)throw new Rd("Malformed HTML message "+l);var f=Object.keys(i).filter(function(m){return!!c.getElementsByTagName(m).length});if(!f.length)return nb(l,a);var p=f.filter(function(m){return m!==m.toLowerCase()});if(p.length)throw new Rd("HTML tag must be lowercased but the following tags are not: "+p.join(", "));return Array.prototype.slice.call(c.childNodes).reduce(function(m,v){return m.concat(wz(v,a,i))},[])}var Gu=function(){return Gu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gu.apply(this,arguments)};function kse(n,e){return e?Gu(Gu(Gu({},n||{}),e||{}),Object.keys(n).reduce(function(t,r){return t[r]=Gu(Gu({},n[r]),e[r]||{}),t},{})):n}function zse(n,e){return e?Object.keys(n).reduce(function(t,r){return t[r]=kse(n[r],e[r]),t},Gu({},n)):n}function Hse(n){return n===void 0&&(n={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Cw(Intl.NumberFormat,n.number),getDateTimeFormat:Cw(Intl.DateTimeFormat,n.dateTime),getPluralRules:Cw(Intl.PluralRules,n.pluralRules)}}var Gse=function(){function n(e,t,r,i){var o=this;if(t===void 0&&(t=n.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(s){return Bse(o.ast,o.locales,o.formatters,o.formats,s,o.message)},this.formatToParts=function(s){return l0(o.ast,o.locales,o.formatters,o.formats,s,void 0,o.message)},this.formatHTMLMessage=function(s){return Use(o.ast,o.locales,o.formatters,o.formats,s,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},typeof e=="string"){if(this.message=e,!n.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=n.__parse(e,{normalizeHashtagInPlural:!1})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=zse(n.formats,r),this.locales=t,this.formatters=i&&i.formatters||Hse(this.formatterCache)}return n.defaultLocale=new Intl.NumberFormat().resolvedOptions().locale,n.__parse=Cse,n.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},n}();/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Vse=/["'&<>]/,Wse=$se;function $se(n){var e=""+n,t=Vse.exec(e);if(!t)return e;var r,i="",o=0,s=0;for(o=t.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==o&&(i+=e.substring(s,o)),s=o+1,i+=r}return s!==o?i+e.substring(s,o):i}const jse=uf(Wse);var mR={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */mR.parse=Yse;mR.serialize=qse;var Xse=decodeURIComponent,Kse=encodeURIComponent,Jse=/; */,a_=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Yse(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},i=n.split(Jse),o=r.decode||Xse,s=0;s<i.length;s++){var a=i[s],l=a.indexOf("=");if(!(l<0)){var c=a.substr(0,l).trim(),f=a.substr(++l,a.length).trim();f[0]=='"'&&(f=f.slice(1,-1)),t[c]==null&&(t[c]=Qse(f,o))}}return t}function qse(n,e,t){var r=t||{},i=r.encode||Kse;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!a_.test(n))throw new TypeError("argument name is invalid");var o=i(e);if(o&&!a_.test(o))throw new TypeError("argument val is invalid");var s=n+"="+o;if(r.maxAge!=null){var a=r.maxAge-0;if(isNaN(a))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!a_.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!a_.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return s}function Qse(n,e){try{return e(n)}catch{return n}}var Zse=function(n,e,t,r,i,o,s,a){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,r,i,o,s,a],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},eae=Zse;const bw=uf(eae);var IS={exports:{}};IS.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Function]",x="[object GeneratorFunction]",S="[object Map]",_="[object Number]",y="[object Null]",A="[object Object]",w="[object Proxy]",E="[object RegExp]",I="[object Set]",P="[object String]",L="[object Undefined]",U="[object WeakMap]",F="[object ArrayBuffer]",O="[object DataView]",G="[object Float32Array]",te="[object Float64Array]",Z="[object Int8Array]",ie="[object Int16Array]",se="[object Int32Array]",K="[object Uint8Array]",X="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,Me={};Me[G]=Me[te]=Me[Z]=Me[ie]=Me[se]=Me[K]=Me[X]=Me[N]=Me[j]=!0,Me[a]=Me[l]=Me[F]=Me[f]=Me[O]=Me[p]=Me[m]=Me[v]=Me[S]=Me[_]=Me[A]=Me[E]=Me[I]=Me[P]=Me[U]=!1;var de=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc,Ce=typeof self=="object"&&self&&self.Object===Object&&self,De=de||Ce||Function("return this")(),Pe=e&&!e.nodeType&&e,lt=Pe&&!0&&n&&!n.nodeType&&n,dt=lt&&lt.exports===Pe,ht=dt&&de.process,oe=function(){try{var H=lt&&lt.require&&lt.require("util").types;return H||ht&&ht.binding&&ht.binding("util")}catch{}}(),Ne=oe&&oe.isTypedArray;function Be(H,Y,fe){switch(fe.length){case 0:return H.call(Y);case 1:return H.call(Y,fe[0]);case 2:return H.call(Y,fe[0],fe[1]);case 3:return H.call(Y,fe[0],fe[1],fe[2])}return H.apply(Y,fe)}function He(H,Y){for(var fe=-1,et=Array(H);++fe<H;)et[fe]=Y(fe);return et}function Fe(H){return function(Y){return H(Y)}}function Ve(H,Y){return H==null?void 0:H[Y]}function Ke(H,Y){return function(fe){return H(Y(fe))}}var qe=Array.prototype,rt=Function.prototype,Q=Object.prototype,V=De["__core-js_shared__"],ge=rt.toString,Ae=Q.hasOwnProperty,Re=function(){var H=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),ze=Q.toString,pt=ge.call(Object),ct=RegExp("^"+ge.call(Ae).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),st=dt?De.Buffer:void 0,kt=De.Symbol,Qe=De.Uint8Array;st&&st.allocUnsafe;var vt=Ke(Object.getPrototypeOf,Object),Vt=Object.create,It=Q.propertyIsEnumerable,ft=qe.splice,he=kt?kt.toStringTag:void 0,Ge=function(){try{var H=si(Object,"defineProperty");return H({},"",{}),H}catch{}}(),ut=st?st.isBuffer:void 0,le=Math.max,Ze=Date.now,Oe=si(De,"Map"),je=si(Object,"create"),it=function(){function H(){}return function(Y){if(!Et(Y))return{};if(Vt)return Vt(Y);H.prototype=Y;var fe=new H;return H.prototype=void 0,fe}}();function xt(H){var Y=-1,fe=H==null?0:H.length;for(this.clear();++Y<fe;){var et=H[Y];this.set(et[0],et[1])}}function wt(){this.__data__=je?je(null):{},this.size=0}function St(H){var Y=this.has(H)&&delete this.__data__[H];return this.size-=Y?1:0,Y}function en(H){var Y=this.__data__;if(je){var fe=Y[H];return fe===r?void 0:fe}return Ae.call(Y,H)?Y[H]:void 0}function on(H){var Y=this.__data__;return je?Y[H]!==void 0:Ae.call(Y,H)}function nn(H,Y){var fe=this.__data__;return this.size+=this.has(H)?0:1,fe[H]=je&&Y===void 0?r:Y,this}xt.prototype.clear=wt,xt.prototype.delete=St,xt.prototype.get=en,xt.prototype.has=on,xt.prototype.set=nn;function Kt(H){var Y=-1,fe=H==null?0:H.length;for(this.clear();++Y<fe;){var et=H[Y];this.set(et[0],et[1])}}function nr(){this.__data__=[],this.size=0}function lr(H){var Y=this.__data__,fe=Mt(Y,H);if(fe<0)return!1;var et=Y.length-1;return fe==et?Y.pop():ft.call(Y,fe,1),--this.size,!0}function Br(H){var Y=this.__data__,fe=Mt(Y,H);return fe<0?void 0:Y[fe][1]}function fr(H){return Mt(this.__data__,H)>-1}function _r(H,Y){var fe=this.__data__,et=Mt(fe,H);return et<0?(++this.size,fe.push([H,Y])):fe[et][1]=Y,this}Kt.prototype.clear=nr,Kt.prototype.delete=lr,Kt.prototype.get=Br,Kt.prototype.has=fr,Kt.prototype.set=_r;function wr(H){var Y=-1,fe=H==null?0:H.length;for(this.clear();++Y<fe;){var et=H[Y];this.set(et[0],et[1])}}function mr(){this.size=0,this.__data__={hash:new xt,map:new(Oe||Kt),string:new xt}}function mi(H){var Y=dr(this,H).delete(H);return this.size-=Y?1:0,Y}function Wr(H){return dr(this,H).get(H)}function oi(H){return dr(this,H).has(H)}function sn(H,Y){var fe=dr(this,H),et=fe.size;return fe.set(H,Y),this.size+=fe.size==et?0:1,this}wr.prototype.clear=mr,wr.prototype.delete=mi,wr.prototype.get=Wr,wr.prototype.has=oi,wr.prototype.set=sn;function Wt(H){var Y=this.__data__=new Kt(H);this.size=Y.size}function T(){this.__data__=new Kt,this.size=0}function ce(H){var Y=this.__data__,fe=Y.delete(H);return this.size=Y.size,fe}function Se(H){return this.__data__.get(H)}function be(H){return this.__data__.has(H)}function _e(H,Y){var fe=this.__data__;if(fe instanceof Kt){var et=fe.__data__;if(!Oe||et.length<t-1)return et.push([H,Y]),this.size=++fe.size,this;fe=this.__data__=new wr(et)}return fe.set(H,Y),this.size=fe.size,this}Wt.prototype.clear=T,Wt.prototype.delete=ce,Wt.prototype.get=Se,Wt.prototype.has=be,Wt.prototype.set=_e;function me(H,Y){var fe=_n(H),et=!fe&&Jr(H),$t=!fe&&!et&&Xi(H),Rt=!fe&&!et&&!$t&&Zn(H),Dn=fe||et||$t||Rt,yt=Dn?He(H.length,String):[],cn=yt.length;for(var jt in H)Dn&&(jt=="length"||$t&&(jt=="offset"||jt=="parent")||Rt&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||us(jt,cn))||yt.push(jt);return yt}function ot(H,Y,fe){(fe!==void 0&&!Ti(H[Y],fe)||fe===void 0&&!(Y in H))&&Ot(H,Y,fe)}function At(H,Y,fe){var et=H[Y];(!(Ae.call(H,Y)&&Ti(et,fe))||fe===void 0&&!(Y in H))&&Ot(H,Y,fe)}function Mt(H,Y){for(var fe=H.length;fe--;)if(Ti(H[fe][0],Y))return fe;return-1}function Ot(H,Y,fe){Y=="__proto__"&&Ge?Ge(H,Y,{configurable:!0,enumerable:!0,value:fe,writable:!0}):H[Y]=fe}var _t=Ni();function Bt(H){return H==null?H===void 0?L:y:he&&he in Object(H)?_o(H):fs(H)}function Cn(H){return On(H)&&Bt(H)==a}function Wn(H){if(!Et(H)||Ui(H))return!1;var Y=ds(H)?ct:re;return Y.test(Kr(H))}function gn(H){return On(H)&&Dt(H.length)&&!!Me[Bt(H)]}function cr(H){if(!Et(H))return bi(H);var Y=Ei(H),fe=[];for(var et in H)et=="constructor"&&(Y||!Ae.call(H,et))||fe.push(et);return fe}function tn(H,Y,fe,et,$t){H!==Y&&_t(Y,function(Rt,Dn){if($t||($t=new Wt),Et(Rt))Te(H,Y,Dn,fe,tn,et,$t);else{var yt=et?et(Sr(H,Dn),Rt,Dn+"",H,Y,$t):void 0;yt===void 0&&(yt=Rt),ot(H,Dn,yt)}},Uo)}function Te(H,Y,fe,et,$t,Rt,Dn){var yt=Sr(H,fe),cn=Sr(Y,fe),jt=Dn.get(cn);if(jt){ot(H,fe,jt);return}var Mn=Rt?Rt(yt,cn,fe+"",H,Y,Dn):void 0,Er=Mn===void 0;if(Er){var rr=_n(cn),hs=!rr&&Xi(cn),ec=!rr&&!hs&&Zn(cn);Mn=cn,rr||hs||ec?_n(yt)?Mn=yt:No(yt)?Mn=Cr(yt):hs?(Er=!1,Mn=In(cn)):ec?(Er=!1,Mn=gr(cn)):Mn=[]:Ar(cn)||Jr(cn)?(Mn=yt,Jr(yt)?Mn=gi(yt):(!Et(yt)||ds(yt))&&(Mn=zr(cn))):Er=!1}Er&&(Dn.set(cn,Mn),$t(Mn,cn,et,Rt,Dn),Dn.delete(cn)),ot(H,fe,Mn)}function ln(H,Y){return So($a(H,Y,k),H+"")}var xn=Ge?function(H,Y){return Ge(H,"toString",{configurable:!0,enumerable:!1,value:En(Y),writable:!0})}:k;function In(H,Y){return H.slice()}function Yn(H){var Y=new H.constructor(H.byteLength);return new Qe(Y).set(new Qe(H)),Y}function gr(H,Y){var fe=Yn(H.buffer);return new H.constructor(fe,H.byteOffset,H.length)}function Cr(H,Y){var fe=-1,et=H.length;for(Y||(Y=Array(et));++fe<et;)Y[fe]=H[fe];return Y}function vn(H,Y,fe,et){var $t=!fe;fe||(fe={});for(var Rt=-1,Dn=Y.length;++Rt<Dn;){var yt=Y[Rt],cn=void 0;cn===void 0&&(cn=H[yt]),$t?Ot(fe,yt,cn):At(fe,yt,cn)}return fe}function $r(H){return ln(function(Y,fe){var et=-1,$t=fe.length,Rt=$t>1?fe[$t-1]:void 0,Dn=$t>2?fe[2]:void 0;for(Rt=H.length>3&&typeof Rt=="function"?($t--,Rt):void 0,Dn&&ha(fe[0],fe[1],Dn)&&(Rt=$t<3?void 0:Rt,$t=1),Y=Object(Y);++et<$t;){var yt=fe[et];yt&&H(Y,yt,et,Rt)}return Y})}function Ni(H){return function(Y,fe,et){for(var $t=-1,Rt=Object(Y),Dn=et(Y),yt=Dn.length;yt--;){var cn=Dn[++$t];if(fe(Rt[cn],cn,Rt)===!1)break}return Y}}function dr(H,Y){var fe=H.__data__;return Ps(Y)?fe[typeof Y=="string"?"string":"hash"]:fe.map}function si(H,Y){var fe=Ve(H,Y);return Wn(fe)?fe:void 0}function _o(H){var Y=Ae.call(H,he),fe=H[he];try{H[he]=void 0;var et=!0}catch{}var $t=ze.call(H);return et&&(Y?H[he]=fe:delete H[he]),$t}function zr(H){return typeof H.constructor=="function"&&!Ei(H)?it(vt(H)):{}}function us(H,Y){var fe=typeof H;return Y=Y??s,!!Y&&(fe=="number"||fe!="symbol"&&pe.test(H))&&H>-1&&H%1==0&&H<Y}function ha(H,Y,fe){if(!Et(fe))return!1;var et=typeof Y;return(et=="number"?An(fe)&&us(Y,fe.length):et=="string"&&Y in fe)?Ti(fe[Y],H):!1}function Ps(H){var Y=typeof H;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?H!=="__proto__":H===null}function Ui(H){return!!Re&&Re in H}function Ei(H){var Y=H&&H.constructor,fe=typeof Y=="function"&&Y.prototype||Q;return H===fe}function bi(H){var Y=[];if(H!=null)for(var fe in Object(H))Y.push(fe);return Y}function fs(H){return ze.call(H)}function $a(H,Y,fe){return Y=le(Y===void 0?H.length-1:Y,0),function(){for(var et=arguments,$t=-1,Rt=le(et.length-Y,0),Dn=Array(Rt);++$t<Rt;)Dn[$t]=et[Y+$t];$t=-1;for(var yt=Array(Y+1);++$t<Y;)yt[$t]=et[$t];return yt[Y]=fe(Dn),Be(H,this,yt)}}function Sr(H,Y){if(!(Y==="constructor"&&typeof H[Y]=="function")&&Y!="__proto__")return H[Y]}var So=Fo(xn);function Fo(H){var Y=0,fe=0;return function(){var et=Ze(),$t=o-(et-fe);if(fe=et,$t>0){if(++Y>=i)return arguments[0]}else Y=0;return H.apply(void 0,arguments)}}function Kr(H){if(H!=null){try{return ge.call(H)}catch{}try{return H+""}catch{}}return""}function Ti(H,Y){return H===Y||H!==H&&Y!==Y}var Jr=Cn(function(){return arguments}())?Cn:function(H){return On(H)&&Ae.call(H,"callee")&&!It.call(H,"callee")},_n=Array.isArray;function An(H){return H!=null&&Dt(H.length)&&!ds(H)}function No(H){return On(H)&&An(H)}var Xi=ut||ne;function ds(H){if(!Et(H))return!1;var Y=Bt(H);return Y==v||Y==x||Y==c||Y==w}function Dt(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function Et(H){var Y=typeof H;return H!=null&&(Y=="object"||Y=="function")}function On(H){return H!=null&&typeof H=="object"}function Ar(H){if(!On(H)||Bt(H)!=A)return!1;var Y=vt(H);if(Y===null)return!0;var fe=Ae.call(Y,"constructor")&&Y.constructor;return typeof fe=="function"&&fe instanceof fe&&ge.call(fe)==pt}var Zn=Ne?Fe(Ne):gn;function gi(H){return vn(H,Uo(H))}function Uo(H){return An(H)?me(H):cr(H)}var Ri=$r(function(H,Y,fe){tn(H,Y,fe)});function En(H){return function(){return H}}function k(H){return H}function ne(){return!1}n.exports=Ri})(IS,IS.exports);var tae=IS.exports;const nae=uf(tae);var Tw=["AFN","EUR","ALL","DZD","USD","AOA","XCD","ARS","AMD","AWG","AUD","AZN","BSD","BHD","BDT","BBD","BYN","BZD","XOF","BMD","INR","BTN","BOB","BOV","BAM","BWP","NOK","BRL","BND","BGN","BIF","CVE","KHR","XAF","CAD","KYD","CLP","CLF","CNY","COP","COU","KMF","CDF","NZD","CRC","HRK","CUP","CUC","ANG","CZK","DKK","DJF","DOP","EGP","SVC","ERN","ETB","FKP","FJD","XPF","GMD","GEL","GHS","GIP","GTQ","GBP","GNF","GYD","HTG","HNL","HKD","HUF","ISK","IDR","XDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KPW","KRW","KWD","KGS","LAK","LBP","LSL","ZAR","LRD","LYD","CHF","MOP","MKD","MGA","MWK","MYR","MVR","MRO","MUR","XUA","MXN","MXV","MDL","MNT","MAD","MZN","MMK","NAD","NPR","NIO","NGN","OMR","PKR","PAB","PGK","PYG","PEN","PHP","PLN","QAR","RON","RUB","RWF","SHP","WST","STD","SAR","RSD","SCR","SLL","SGD","XSU","SBD","SOS","SSP","LKR","SDG","SRD","SZL","SEK","CHE","CHW","SYP","TWD","TJS","TZS","THB","TOP","TTD","TND","TRY","TMT","UGX","UAH","AED","USN","UYU","UYI","UZS","VUV","VEF","VND","YER","ZMW","ZWL","XBA","XBB","XBC","XBD","XTS","XXX","XAU","XPD","XPT","XAG"],Cz={};for(var l_=0;l_<Tw.length;l_++)Cz[Tw[l_]]={style:"currency",currency:Tw[l_]};var rae={number:Cz},iae=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},oae=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();String.prototype.defaultMessage=String.prototype.d=function(n){return this||n||""};var Ez=function(){function n(){iae(this,n),this.options={currentLocale:null,locales:{},warningHandler:function(){var t;(t=console).warn.apply(t,arguments)},escapeHtml:!0,fallbackLocale:null,debug:!1,dataKey:"data-i18n-key"}}return oae(n,[{key:"_getFormattedMessage",value:function(t,r){if(this.options.intlGetHook)try{this.options.intlGetHook(t,this.options.currentLocale)}catch(x){console.log("intl get hook error: ",x)}bw(t,"key is required");var i=this.options,o=i.locales,s=i.currentLocale,a=i.formats;if(!o||!o[s]){var l='react-intl-universal locales data "'+s+'" not exists.';return s||(l+=" More info: https://github.com/alibaba/react-intl-universal/issues/144#issuecomment-1345193138"),this.options.warningHandler(l),""}var c=this.getDescendantProp(o[s],t);if(c==null)if(this.options.fallbackLocale){if(c=this.getDescendantProp(o[this.options.fallbackLocale],t),c==null)return this.options.warningHandler('react-intl-universal key "'+t+'" not defined in '+s+" or the fallback locale, "+this.options.fallbackLocale),""}else return this.options.warningHandler('react-intl-universal key "'+t+'" not defined in '+s),"";if(r){r=Object.assign({},r);for(var f in r){var p=r[f];this.options.escapeHtml===!0&&(typeof p=="string"||p instanceof String)&&p.indexOf("<")>=0&&(p=jse(p)),r[f]=p}}try{var m=void 0;if(r){var v=new Gse(c,s,a);m=v.format(r)}else m=c;return m}catch(x){return this.options.warningHandler("react-intl-universal format message failed for key='"+t+"'.",x.message),c}}},{key:"get",value:function(t,r){var i=this._getFormattedMessage(t,r);return this.options.debug?this._getSpanElementMessage(t,i):i}},{key:"getHTML",value:function(t,r){var i=this._getFormattedMessage(t,r);return i?this._getSpanElementMessage(t,i):""}},{key:"formatMessage",value:function(t,r){var i=t.id,o=t.defaultMessage;return this.get(i,r).defaultMessage(o)}},{key:"formatHTMLMessage",value:function(t,r){var i=t.id,o=t.defaultMessage;return this.getHTML(i,r).defaultMessage(o)}},{key:"determineLocale",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getLocaleFromURL(t)||this.getLocaleFromCookie(t)||this.getLocaleFromLocalStorage(t)||this.getLocaleFromBrowser()}},{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bw(t.currentLocale,"options.currentLocale is required"),bw(t.locales,"options.locales is required"),Object.assign(this.options,t),this.options.formats=Object.assign({},this.options.formats,rae),new Promise(function(r,i){r()})}},{key:"getInitOptions",value:function(){return this.options}},{key:"load",value:function(t){nae(this.options.locales,t)}},{key:"getLocaleFromCookie",value:function(t){var r=t.cookieLocaleKey;if(r){var i=mR.parse(document.cookie);return i&&i[r]}}},{key:"getLocaleFromLocalStorage",value:function(t){var r=t.localStorageLocaleKey;if(r&&window.localStorage)return localStorage.getItem(r)}},{key:"getLocaleFromURL",value:function(t){var r=t.urlLocaleKey;if(r){var i=location.search.split("?");if(i.length>=2){var o=new URLSearchParams(i[1]);if(o.has(r))return o.get(r)}}}},{key:"getDescendantProp",value:function(t,r){if(t[r])return t[r];var i=r.split(".").reduce(function(o,s){return o!=null?o[s]:o},t);return i}},{key:"getLocaleFromBrowser",value:function(){return navigator.language||navigator.userLanguage}},{key:"_getSpanElementMessage",value:function(t,r){var i={dangerouslySetInnerHTML:{__html:r}};this.options.debug&&(i[this.options.dataKey]=t);var o=Xt.createElement("span",i),s=function(){return o};return Object.assign({defaultMessage:s,d:s},o)}}]),n}(),Tn=new Ez;Tn.ReactIntlUniversal=Ez;Tn.get.bind(Tn);Tn.getHTML.bind(Tn);Tn.formatMessage.bind(Tn);Tn.formatHTMLMessage.bind(Tn);Tn.determineLocale.bind(Tn);Tn.init.bind(Tn);Tn.getInitOptions.bind(Tn);Tn.load.bind(Tn);Tn.getLocaleFromCookie.bind(Tn);Tn.getLocaleFromLocalStorage.bind(Tn);Tn.getLocaleFromURL.bind(Tn);Tn.getDescendantProp.bind(Tn);Tn.getLocaleFromBrowser.bind(Tn);var BS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */BS.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",p=1,m=2,v=4,x=1,S=2,_=1,y=2,A=4,w=8,E=16,I=32,P=64,L=128,U=256,F=512,O=30,G="...",te=800,Z=16,ie=1,se=2,K=3,X=1/0,N=9007199254740991,j=17976931348623157e292,J=NaN,re=4294967295,pe=re-1,Me=re>>>1,de=[["ary",L],["bind",_],["bindKey",y],["curry",w],["curryRight",E],["flip",F],["partial",I],["partialRight",P],["rearg",U]],Ce="[object Arguments]",De="[object Array]",Pe="[object AsyncFunction]",lt="[object Boolean]",dt="[object Date]",ht="[object DOMException]",oe="[object Error]",Ne="[object Function]",Be="[object GeneratorFunction]",He="[object Map]",Fe="[object Number]",Ve="[object Null]",Ke="[object Object]",qe="[object Promise]",rt="[object Proxy]",Q="[object RegExp]",V="[object Set]",ge="[object String]",Ae="[object Symbol]",Re="[object Undefined]",ze="[object WeakMap]",pt="[object WeakSet]",ct="[object ArrayBuffer]",st="[object DataView]",kt="[object Float32Array]",Qe="[object Float64Array]",vt="[object Int8Array]",Vt="[object Int16Array]",It="[object Int32Array]",ft="[object Uint8Array]",he="[object Uint8ClampedArray]",Ge="[object Uint16Array]",ut="[object Uint32Array]",le=/\b__p \+= '';/g,Ze=/\b(__p \+=) '' \+/g,Oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,je=/&(?:amp|lt|gt|quot|#39);/g,it=/[&<>"']/g,xt=RegExp(je.source),wt=RegExp(it.source),St=/<%-([\s\S]+?)%>/g,en=/<%([\s\S]+?)%>/g,on=/<%=([\s\S]+?)%>/g,nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kt=/^\w*$/,nr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,Br=RegExp(lr.source),fr=/^\s+/,_r=/\s/,wr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mr=/\{\n\/\* \[wrapped with (.+)\] \*/,mi=/,? & /,Wr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oi=/[()=,{}\[\]\/\s]/,sn=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,ce=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,At=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,Ot="\\ud800-\\udfff",_t="\\u0300-\\u036f",Bt="\\ufe20-\\ufe2f",Cn="\\u20d0-\\u20ff",Wn=_t+Bt+Cn,gn="\\u2700-\\u27bf",cr="a-z\\xdf-\\xf6\\xf8-\\xff",tn="\\xac\\xb1\\xd7\\xf7",Te="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",xn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",In="A-Z\\xc0-\\xd6\\xd8-\\xde",Yn="\\ufe0e\\ufe0f",gr=tn+Te+ln+xn,Cr="['’]",vn="["+Ot+"]",$r="["+gr+"]",Ni="["+Wn+"]",dr="\\d+",si="["+gn+"]",_o="["+cr+"]",zr="[^"+Ot+gr+dr+gn+cr+In+"]",us="\\ud83c[\\udffb-\\udfff]",ha="(?:"+Ni+"|"+us+")",Ps="[^"+Ot+"]",Ui="(?:\\ud83c[\\udde6-\\uddff]){2}",Ei="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+In+"]",fs="\\u200d",$a="(?:"+_o+"|"+zr+")",Sr="(?:"+bi+"|"+zr+")",So="(?:"+Cr+"(?:d|ll|m|re|s|t|ve))?",Fo="(?:"+Cr+"(?:D|LL|M|RE|S|T|VE))?",Kr=ha+"?",Ti="["+Yn+"]?",Jr="(?:"+fs+"(?:"+[Ps,Ui,Ei].join("|")+")"+Ti+Kr+")*",_n="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",An="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",No=Ti+Kr+Jr,Xi="(?:"+[si,Ui,Ei].join("|")+")"+No,ds="(?:"+[Ps+Ni+"?",Ni,Ui,Ei,vn].join("|")+")",Dt=RegExp(Cr,"g"),Et=RegExp(Ni,"g"),On=RegExp(us+"(?="+us+")|"+ds+No,"g"),Ar=RegExp([bi+"?"+_o+"+"+So+"(?="+[$r,bi,"$"].join("|")+")",Sr+"+"+Fo+"(?="+[$r,bi+$a,"$"].join("|")+")",bi+"?"+$a+"+"+So,bi+"+"+Fo,An,_n,dr,Xi].join("|"),"g"),Zn=RegExp("["+fs+Ot+Wn+Yn+"]"),gi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Uo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ri=-1,En={};En[kt]=En[Qe]=En[vt]=En[Vt]=En[It]=En[ft]=En[he]=En[Ge]=En[ut]=!0,En[Ce]=En[De]=En[ct]=En[lt]=En[st]=En[dt]=En[oe]=En[Ne]=En[He]=En[Fe]=En[Ke]=En[Q]=En[V]=En[ge]=En[ze]=!1;var k={};k[Ce]=k[De]=k[ct]=k[st]=k[lt]=k[dt]=k[kt]=k[Qe]=k[vt]=k[Vt]=k[It]=k[He]=k[Fe]=k[Ke]=k[Q]=k[V]=k[ge]=k[Ae]=k[ft]=k[he]=k[Ge]=k[ut]=!0,k[oe]=k[Ne]=k[ze]=!1;var ne={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},et=parseFloat,$t=parseInt,Rt=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc,Dn=typeof self=="object"&&self&&self.Object===Object&&self,yt=Rt||Dn||Function("return this")(),cn=e&&!e.nodeType&&e,jt=cn&&!0&&n&&!n.nodeType&&n,Mn=jt&&jt.exports===cn,Er=Mn&&Rt.process,rr=function(){try{var ye=jt&&jt.require&&jt.require("util").types;return ye||Er&&Er.binding&&Er.binding("util")}catch{}}(),hs=rr&&rr.isArrayBuffer,ec=rr&&rr.isDate,km=rr&&rr.isMap,ph=rr&&rr.isRegExp,mh=rr&&rr.isSet,tc=rr&&rr.isTypedArray;function Lr(ye,Je,ke){switch(ke.length){case 0:return ye.call(Je);case 1:return ye.call(Je,ke[0]);case 2:return ye.call(Je,ke[0],ke[1]);case 3:return ye.call(Je,ke[0],ke[1],ke[2])}return ye.apply(Je,ke)}function pa(ye,Je,ke,Ut){for(var yn=-1,Rn=ye==null?0:ye.length;++yn<Rn;){var Or=ye[yn];Je(Ut,Or,ke(Or),ye)}return Ut}function vi(ye,Je){for(var ke=-1,Ut=ye==null?0:ye.length;++ke<Ut&&Je(ye[ke],ke,ye)!==!1;);return ye}function zm(ye,Je){for(var ke=ye==null?0:ye.length;ke--&&Je(ye[ke],ke,ye)!==!1;);return ye}function Hm(ye,Je){for(var ke=-1,Ut=ye==null?0:ye.length;++ke<Ut;)if(!Je(ye[ke],ke,ye))return!1;return!0}function Ki(ye,Je){for(var ke=-1,Ut=ye==null?0:ye.length,yn=0,Rn=[];++ke<Ut;){var Or=ye[ke];Je(Or,ke,ye)&&(Rn[yn++]=Or)}return Rn}function Is(ye,Je){var ke=ye==null?0:ye.length;return!!ke&&Ls(ye,Je,0)>-1}function Zc(ye,Je,ke){for(var Ut=-1,yn=ye==null?0:ye.length;++Ut<yn;)if(ke(Je,ye[Ut]))return!0;return!1}function br(ye,Je){for(var ke=-1,Ut=ye==null?0:ye.length,yn=Array(Ut);++ke<Ut;)yn[ke]=Je(ye[ke],ke,ye);return yn}function Bs(ye,Je){for(var ke=-1,Ut=Je.length,yn=ye.length;++ke<Ut;)ye[yn+ke]=Je[ke];return ye}function gh(ye,Je,ke,Ut){var yn=-1,Rn=ye==null?0:ye.length;for(Ut&&Rn&&(ke=ye[++yn]);++yn<Rn;)ke=Je(ke,ye[yn],yn,ye);return ke}function O0(ye,Je,ke,Ut){var yn=ye==null?0:ye.length;for(Ut&&yn&&(ke=ye[--yn]);yn--;)ke=Je(ke,ye[yn],yn,ye);return ke}function yf(ye,Je){for(var ke=-1,Ut=ye==null?0:ye.length;++ke<Ut;)if(Je(ye[ke],ke,ye))return!0;return!1}var vh=Ao("length");function D0(ye){return ye.split("")}function F0(ye){return ye.match(Wr)||[]}function Gm(ye,Je,ke){var Ut;return ke(ye,function(yn,Rn,Or){if(Je(yn,Rn,Or))return Ut=Rn,!1}),Ut}function eu(ye,Je,ke,Ut){for(var yn=ye.length,Rn=ke+(Ut?1:-1);Ut?Rn--:++Rn<yn;)if(Je(ye[Rn],Rn,ye))return Rn;return-1}function Ls(ye,Je,ke){return Je===Je?ou(ye,Je,ke):eu(ye,xf,ke)}function tu(ye,Je,ke,Ut){for(var yn=ke-1,Rn=ye.length;++yn<Rn;)if(Ut(ye[yn],Je))return yn;return-1}function xf(ye){return ye!==ye}function _f(ye,Je){var ke=ye==null?0:ye.length;return ke?Os(ye,Je)/ke:J}function Ao(ye){return function(Je){return Je==null?t:Je[ye]}}function Mo(ye){return function(Je){return ye==null?t:ye[Je]}}function Ml(ye,Je,ke,Ut,yn){return yn(ye,function(Rn,Or,hn){ke=Ut?(Ut=!1,Rn):Je(ke,Rn,Or,hn)}),ke}function ja(ye,Je){var ke=ye.length;for(ye.sort(Je);ke--;)ye[ke]=ye[ke].value;return ye}function Os(ye,Je){for(var ke,Ut=-1,yn=ye.length;++Ut<yn;){var Rn=Je(ye[Ut]);Rn!==t&&(ke=ke===t?Rn:ke+Rn)}return ke}function Xa(ye,Je){for(var ke=-1,Ut=Array(ye);++ke<ye;)Ut[ke]=Je(ke);return Ut}function N0(ye,Je){return br(Je,function(ke){return[ke,ye[ke]]})}function yh(ye){return ye&&ye.slice(0,su(ye)+1).replace(fr,"")}function fo(ye){return function(Je){return ye(Je)}}function ho(ye,Je){return br(Je,function(ke){return ye[ke]})}function ki(ye,Je){return ye.has(Je)}function Tr(ye,Je){for(var ke=-1,Ut=ye.length;++ke<Ut&&Ls(Je,ye[ke],0)>-1;);return ke}function nu(ye,Je){for(var ke=ye.length;ke--&&Ls(Je,ye[ke],0)>-1;);return ke}function Ds(ye,Je){for(var ke=ye.length,Ut=0;ke--;)ye[ke]===Je&&++Ut;return Ut}var U0=Mo(ne),k0=Mo(H);function Vm(ye){return"\\"+fe[ye]}function Wm(ye,Je){return ye==null?t:ye[Je]}function nc(ye){return Zn.test(ye)}function Sf(ye){return gi.test(ye)}function ru(ye){for(var Je,ke=[];!(Je=ye.next()).done;)ke.push(Je.value);return ke}function Af(ye){var Je=-1,ke=Array(ye.size);return ye.forEach(function(Ut,yn){ke[++Je]=[yn,Ut]}),ke}function iu(ye,Je){return function(ke){return ye(Je(ke))}}function Fs(ye,Je){for(var ke=-1,Ut=ye.length,yn=0,Rn=[];++ke<Ut;){var Or=ye[ke];(Or===Je||Or===f)&&(ye[ke]=f,Rn[yn++]=ke)}return Rn}function Mf(ye){var Je=-1,ke=Array(ye.size);return ye.forEach(function(Ut){ke[++Je]=Ut}),ke}function z0(ye){var Je=-1,ke=Array(ye.size);return ye.forEach(function(Ut){ke[++Je]=[Ut,Ut]}),ke}function ou(ye,Je,ke){for(var Ut=ke-1,yn=ye.length;++Ut<yn;)if(ye[Ut]===Je)return Ut;return-1}function H0(ye,Je,ke){for(var Ut=ke+1;Ut--;)if(ye[Ut]===Je)return Ut;return Ut}function ma(ye){return nc(ye)?ga(ye):vh(ye)}function jr(ye){return nc(ye)?$m(ye):D0(ye)}function su(ye){for(var Je=ye.length;Je--&&_r.test(ye.charAt(Je)););return Je}var au=Mo(Y);function ga(ye){for(var Je=On.lastIndex=0;On.test(ye);)++Je;return Je}function $m(ye){return ye.match(On)||[]}function lu(ye){return ye.match(Ar)||[]}var G0=function ye(Je){Je=Je==null?yt:wl.defaults(yt.Object(),Je,wl.pick(yt,Uo));var ke=Je.Array,Ut=Je.Date,yn=Je.Error,Rn=Je.Function,Or=Je.Math,hn=Je.Object,Pi=Je.RegExp,Ii=Je.String,po=Je.TypeError,Cl=ke.prototype,wf=Rn.prototype,cu=hn.prototype,yi=Je["__core-js_shared__"],uu=wf.toString,sr=cu.hasOwnProperty,jm=0,va=function(){var u=/[^.]+$/.exec(yi&&yi.keys&&yi.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ko=cu.toString,rc=uu.call(hn),xh=yt._,_h=Pi("^"+uu.call(sr).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cf=Mn?Je.Buffer:t,Ka=Je.Symbol,Ef=Je.Uint8Array,Xm=Cf?Cf.allocUnsafe:t,bf=iu(hn.getPrototypeOf,hn),Km=hn.create,Sh=cu.propertyIsEnumerable,El=Cl.splice,Jm=Ka?Ka.isConcatSpreadable:t,bl=Ka?Ka.iterator:t,ya=Ka?Ka.toStringTag:t,fu=function(){try{var u=jf(hn,"defineProperty");return u({},"",{}),u}catch{}}(),Tf=Je.clearTimeout!==yt.clearTimeout&&Je.clearTimeout,V0=Ut&&Ut.now!==yt.Date.now&&Ut.now,W0=Je.setTimeout!==yt.setTimeout&&Je.setTimeout,Rf=Or.ceil,Pf=Or.floor,If=hn.getOwnPropertySymbols,$0=Cf?Cf.isBuffer:t,Ym=Je.isFinite,K1=Cl.join,j0=iu(hn.keys,hn),xi=Or.max,Ji=Or.min,X0=Ut.now,K0=Je.parseInt,qm=Or.random,J0=Cl.reverse,du=jf(Je,"DataView"),Bf=jf(Je,"Map"),Qm=jf(Je,"Promise"),hu=jf(Je,"Set"),ic=jf(Je,"WeakMap"),oc=jf(hn,"create"),Ah=ic&&new ic,sc={},Y0=Xf(du),q0=Xf(Bf),Q0=Xf(Qm),Z0=Xf(hu),xa=Xf(ic),Lf=Ka?Ka.prototype:t,Ja=Lf?Lf.valueOf:t,pu=Lf?Lf.toString:t;function $(u){if(ui(u)&&!Bn(u)&&!(u instanceof fn)){if(u instanceof Yi)return u;if(sr.call(u,"__wrapped__"))return TR(u)}return new Yi(u)}var Ya=function(){function u(){}return function(g){if(!Zr(g))return{};if(Km)return Km(g);u.prototype=g;var C=new u;return u.prototype=t,C}}();function Of(){}function Yi(u,g){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=t}$.templateSettings={escape:St,evaluate:en,interpolate:on,variable:"",imports:{_:$}},$.prototype=Of.prototype,$.prototype.constructor=$,Yi.prototype=Ya(Of.prototype),Yi.prototype.constructor=Yi;function fn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function J1(){var u=new fn(this.__wrapped__);return u.__actions__=to(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=to(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=to(this.__views__),u}function Y1(){if(this.__filtered__){var u=new fn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function zo(){var u=this.__wrapped__.value(),g=this.__dir__,C=Bn(u),D=g<0,W=C?u.length:0,q=Uz(0,W,this.__views__),ue=q.start,ve=q.end,Ee=ve-ue,tt=D?ve:ue-1,nt=this.__iteratees__,at=nt.length,Lt=0,Zt=Ji(Ee,this.__takeCount__);if(!C||!D&&W==Ee&&Zt==Ee)return Ll(u,this.__actions__);var pn=[];e:for(;Ee--&&Lt<Zt;){tt+=g;for(var Gn=-1,mn=u[tt];++Gn<at;){var Xn=nt[Gn],er=Xn.iteratee,Vs=Xn.type,Xo=er(mn);if(Vs==se)mn=Xo;else if(!Xo){if(Vs==ie)continue e;break e}}pn[Lt++]=mn}return pn}fn.prototype=Ya(Of.prototype),fn.prototype.constructor=fn;function Yr(u){var g=-1,C=u==null?0:u.length;for(this.clear();++g<C;){var D=u[g];this.set(D[0],D[1])}}function ey(){this.__data__=oc?oc(null):{},this.size=0}function ty(u){var g=this.has(u)&&delete this.__data__[u];return this.size-=g?1:0,g}function ny(u){var g=this.__data__;if(oc){var C=g[u];return C===l?t:C}return sr.call(g,u)?g[u]:t}function ry(u){var g=this.__data__;return oc?g[u]!==t:sr.call(g,u)}function iy(u,g){var C=this.__data__;return this.size+=this.has(u)?0:1,C[u]=oc&&g===t?l:g,this}Yr.prototype.clear=ey,Yr.prototype.delete=ty,Yr.prototype.get=ny,Yr.prototype.has=ry,Yr.prototype.set=iy;function Ns(u){var g=-1,C=u==null?0:u.length;for(this.clear();++g<C;){var D=u[g];this.set(D[0],D[1])}}function oy(){this.__data__=[],this.size=0}function Zm(u){var g=this.__data__,C=Rl(g,u);if(C<0)return!1;var D=g.length-1;return C==D?g.pop():El.call(g,C,1),--this.size,!0}function sy(u){var g=this.__data__,C=Rl(g,u);return C<0?t:g[C][1]}function ay(u){return Rl(this.__data__,u)>-1}function Mh(u,g){var C=this.__data__,D=Rl(C,u);return D<0?(++this.size,C.push([u,g])):C[D][1]=g,this}Ns.prototype.clear=oy,Ns.prototype.delete=Zm,Ns.prototype.get=sy,Ns.prototype.has=ay,Ns.prototype.set=Mh;function ps(u){var g=-1,C=u==null?0:u.length;for(this.clear();++g<C;){var D=u[g];this.set(D[0],D[1])}}function ly(){this.size=0,this.__data__={hash:new Yr,map:new(Bf||Ns),string:new Yr}}function eg(u){var g=Cy(this,u).delete(u);return this.size-=g?1:0,g}function cy(u){return Cy(this,u).get(u)}function uy(u){return Cy(this,u).has(u)}function wh(u,g){var C=Cy(this,u),D=C.size;return C.set(u,g),this.size+=C.size==D?0:1,this}ps.prototype.clear=ly,ps.prototype.delete=eg,ps.prototype.get=cy,ps.prototype.has=uy,ps.prototype.set=wh;function Tl(u){var g=-1,C=u==null?0:u.length;for(this.__data__=new ps;++g<C;)this.add(u[g])}function tg(u){return this.__data__.set(u,l),this}function fy(u){return this.__data__.has(u)}Tl.prototype.add=Tl.prototype.push=tg,Tl.prototype.has=fy;function _i(u){var g=this.__data__=new Ns(u);this.size=g.size}function q1(){this.__data__=new Ns,this.size=0}function Q1(u){var g=this.__data__,C=g.delete(u);return this.size=g.size,C}function Ch(u){return this.__data__.get(u)}function ac(u){return this.__data__.has(u)}function Z1(u,g){var C=this.__data__;if(C instanceof Ns){var D=C.__data__;if(!Bf||D.length<i-1)return D.push([u,g]),this.size=++C.size,this;C=this.__data__=new ps(D)}return C.set(u,g),this.size=C.size,this}_i.prototype.clear=q1,_i.prototype.delete=Q1,_i.prototype.get=Ch,_i.prototype.has=ac,_i.prototype.set=Z1;function Tt(u,g){var C=Bn(u),D=!C&&Kf(u),W=!C&&!D&&wu(u),q=!C&&!D&&!W&&Gh(u),ue=C||D||W||q,ve=ue?Xa(u.length,Ii):[],Ee=ve.length;for(var tt in u)(g||sr.call(u,tt))&&!(ue&&(tt=="length"||W&&(tt=="offset"||tt=="parent")||q&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||hc(tt,Ee)))&&ve.push(tt);return ve}function Df(u){var g=u.length;return g?u[Sa(0,g-1)]:t}function ng(u,g){return Ey(to(u),Pl(g,0,u.length))}function dy(u){return Ey(to(u))}function rg(u,g,C){(C!==t&&!Za(u[g],C)||C===t&&!(g in u))&&_a(u,g,C)}function Us(u,g,C){var D=u[g];(!(sr.call(u,g)&&Za(D,C))||C===t&&!(g in u))&&_a(u,g,C)}function Rl(u,g){for(var C=u.length;C--;)if(Za(u[C][0],g))return C;return-1}function ig(u,g,C,D){return ks(u,function(W,q,ue){g(D,W,C(W),ue)}),D}function og(u,g){return u&&vs(g,ro(g),u)}function hy(u,g){return u&&vs(g,xs(g),u)}function _a(u,g,C){g=="__proto__"&&fu?fu(u,g,{configurable:!0,enumerable:!0,value:C,writable:!0}):u[g]=C}function Eh(u,g){for(var C=-1,D=g.length,W=ke(D),q=u==null;++C<D;)W[C]=q?t:vA(u,g[C]);return W}function Pl(u,g,C){return u===u&&(C!==t&&(u=u<=C?u:C),g!==t&&(u=u>=g?u:g)),u}function Ho(u,g,C,D,W,q){var ue,ve=g&p,Ee=g&m,tt=g&v;if(C&&(ue=W?C(u,D,W,q):C(u)),ue!==t)return ue;if(!Zr(u))return u;var nt=Bn(u);if(nt){if(ue=zz(u),!ve)return to(u,ue)}else{var at=wo(u),Lt=at==Ne||at==Be;if(wu(u))return xg(u,ve);if(at==Ke||at==Ce||Lt&&!W){if(ue=Ee||Lt?{}:xR(u),!ve)return Ee?My(u,hy(ue,u)):rA(u,og(ue,u))}else{if(!k[at])return W?u:{};ue=Hz(u,at,ve)}}q||(q=new _i);var Zt=q.get(u);if(Zt)return Zt;q.set(u,ue),KR(u)?u.forEach(function(mn){ue.add(Ho(mn,g,C,mn,u,q))}):jR(u)&&u.forEach(function(mn,Xn){ue.set(Xn,Ho(mn,g,C,Xn,u,q))});var pn=tt?Ee?qn:ci:Ee?xs:ro,Gn=nt?t:pn(u);return vi(Gn||u,function(mn,Xn){Gn&&(Xn=mn,mn=u[Xn]),Us(ue,Xn,Ho(mn,g,C,Xn,u,q))}),ue}function sg(u){var g=ro(u);return function(C){return bh(C,u,g)}}function bh(u,g,C){var D=C.length;if(u==null)return!D;for(u=hn(u);D--;){var W=C[D],q=g[W],ue=u[W];if(ue===t&&!(W in u)||!q(ue))return!1}return!0}function ag(u,g,C){if(typeof u!="function")throw new po(s);return Mg(function(){u.apply(t,C)},g)}function lc(u,g,C,D){var W=-1,q=Is,ue=!0,ve=u.length,Ee=[],tt=g.length;if(!ve)return Ee;C&&(g=br(g,fo(C))),D?(q=Zc,ue=!1):g.length>=i&&(q=ki,ue=!1,g=new Tl(g));e:for(;++W<ve;){var nt=u[W],at=C==null?nt:C(nt);if(nt=D||nt!==0?nt:0,ue&&at===at){for(var Lt=tt;Lt--;)if(g[Lt]===at)continue e;Ee.push(nt)}else q(g,at,D)||Ee.push(nt)}return Ee}var ks=Sg(Go),py=Sg(gu,!0);function eA(u,g){var C=!0;return ks(u,function(D,W,q){return C=!!g(D,W,q),C}),C}function Ff(u,g,C){for(var D=-1,W=u.length;++D<W;){var q=u[D],ue=g(q);if(ue!=null&&(ve===t?ue===ue&&!Gs(ue):C(ue,ve)))var ve=ue,Ee=q}return Ee}function my(u,g,C,D){var W=u.length;for(C=zn(C),C<0&&(C=-C>W?0:W+C),D=D===t||D>W?W:zn(D),D<0&&(D+=W),D=C>D?0:YR(D);C<D;)u[C++]=g;return u}function lg(u,g){var C=[];return ks(u,function(D,W,q){g(D,W,q)&&C.push(D)}),C}function Bi(u,g,C,D,W){var q=-1,ue=u.length;for(C||(C=Vz),W||(W=[]);++q<ue;){var ve=u[q];g>0&&C(ve)?g>1?Bi(ve,g-1,C,D,W):Bs(W,ve):D||(W[W.length]=ve)}return W}var mu=kh(),Nf=kh(!0);function Go(u,g){return u&&mu(u,g,ro)}function gu(u,g){return u&&Nf(u,g,ro)}function cc(u,g){return Ki(g,function(C){return pc(u[C])})}function zs(u,g){g=Dl(g,u);for(var C=0,D=g.length;u!=null&&C<D;)u=u[Ul(g[C++])];return C&&C==D?u:t}function Th(u,g,C){var D=g(u);return Bn(u)?D:Bs(D,C(u))}function zi(u){return u==null?u===t?Re:Ve:ya&&ya in hn(u)?Nz(u):Yz(u)}function Uf(u,g){return u>g}function gy(u,g){return u!=null&&sr.call(u,g)}function cg(u,g){return u!=null&&g in hn(u)}function tA(u,g,C){return u>=Ji(g,C)&&u<xi(g,C)}function vu(u,g,C){for(var D=C?Zc:Is,W=u[0].length,q=u.length,ue=q,ve=ke(q),Ee=1/0,tt=[];ue--;){var nt=u[ue];ue&&g&&(nt=br(nt,fo(g))),Ee=Ji(nt.length,Ee),ve[ue]=!C&&(g||W>=120&&nt.length>=120)?new Tl(ue&&nt):t}nt=u[0];var at=-1,Lt=ve[0];e:for(;++at<W&&tt.length<Ee;){var Zt=nt[at],pn=g?g(Zt):Zt;if(Zt=C||Zt!==0?Zt:0,!(Lt?ki(Lt,pn):D(tt,pn,C))){for(ue=q;--ue;){var Gn=ve[ue];if(!(Gn?ki(Gn,pn):D(u[ue],pn,C)))continue e}Lt&&Lt.push(pn),tt.push(Zt)}}return tt}function ug(u,g,C,D){return Go(u,function(W,q,ue){g(D,C(W),q,ue)}),D}function Rr(u,g,C){g=Dl(g,u),u=MR(u,g);var D=u==null?u:u[Ul(wa(g))];return D==null?t:Lr(D,u,C)}function Fn(u){return ui(u)&&zi(u)==Ce}function ai(u){return ui(u)&&zi(u)==ct}function li(u){return ui(u)&&zi(u)==dt}function qr(u,g,C,D,W){return u===g?!0:u==null||g==null||!ui(u)&&!ui(g)?u!==u&&g!==g:Vo(u,g,C,D,qr,W)}function Vo(u,g,C,D,W,q){var ue=Bn(u),ve=Bn(g),Ee=ue?De:wo(u),tt=ve?De:wo(g);Ee=Ee==Ce?Ke:Ee,tt=tt==Ce?Ke:tt;var nt=Ee==Ke,at=tt==Ke,Lt=Ee==tt;if(Lt&&wu(u)){if(!wu(g))return!1;ue=!0,nt=!1}if(Lt&&!nt)return q||(q=new _i),ue||Gh(u)?Yt(u,g,C,D,W,q):Nn(u,g,Ee,C,D,W,q);if(!(C&x)){var Zt=nt&&sr.call(u,"__wrapped__"),pn=at&&sr.call(g,"__wrapped__");if(Zt||pn){var Gn=Zt?u.value():u,mn=pn?g.value():g;return q||(q=new _i),W(Gn,mn,C,D,q)}}return Lt?(q||(q=new _i),bn(u,g,C,D,W,q)):!1}function yu(u){return ui(u)&&wo(u)==He}function Qr(u,g,C,D){var W=C.length,q=W,ue=!D;if(u==null)return!q;for(u=hn(u);W--;){var ve=C[W];if(ue&&ve[2]?ve[1]!==u[ve[0]]:!(ve[0]in u))return!1}for(;++W<q;){ve=C[W];var Ee=ve[0],tt=u[Ee],nt=ve[1];if(ue&&ve[2]){if(tt===t&&!(Ee in u))return!1}else{var at=new _i;if(D)var Lt=D(tt,nt,Ee,u,g,at);if(!(Lt===t?qr(nt,tt,x|S,D,at):Lt))return!1}}return!0}function xu(u){if(!Zr(u)||$z(u))return!1;var g=pc(u)?_h:be;return g.test(Xf(u))}function _u(u){return ui(u)&&zi(u)==Q}function Rh(u){return ui(u)&&wo(u)==V}function fg(u){return ui(u)&&By(u.length)&&!!En[zi(u)]}function Su(u){return typeof u=="function"?u:u==null?_s:typeof u=="object"?Bn(u)?Ph(u[0],u[1]):zf(u):aP(u)}function qi(u){if(!Ag(u))return j0(u);var g=[];for(var C in hn(u))sr.call(u,C)&&C!="constructor"&&g.push(C);return g}function dg(u){if(!Zr(u))return Jz(u);var g=Ag(u),C=[];for(var D in u)D=="constructor"&&(g||!sr.call(u,D))||C.push(D);return C}function kf(u,g){return u<g}function uc(u,g){var C=-1,D=ys(u)?ke(u.length):[];return ks(u,function(W,q,ue){D[++C]=g(W,q,ue)}),D}function zf(u){var g=oA(u);return g.length==1&&g[0][2]?SR(g[0][0],g[0][1]):function(C){return C===u||Qr(C,u,g)}}function Ph(u,g){return aA(u)&&_R(g)?SR(Ul(u),g):function(C){var D=vA(C,u);return D===t&&D===g?yA(C,u):qr(g,D,x|S)}}function Hs(u,g,C,D,W){u!==g&&mu(g,function(q,ue){if(W||(W=new _i),Zr(q))Ih(u,g,ue,C,Hs,D,W);else{var ve=D?D(cA(u,ue),q,ue+"",u,g,W):t;ve===t&&(ve=q),rg(u,ue,ve)}},xs)}function Ih(u,g,C,D,W,q,ue){var ve=cA(u,C),Ee=cA(g,C),tt=ue.get(Ee);if(tt){rg(u,C,tt);return}var nt=q?q(ve,Ee,C+"",u,g,ue):t,at=nt===t;if(at){var Lt=Bn(Ee),Zt=!Lt&&wu(Ee),pn=!Lt&&!Zt&&Gh(Ee);nt=Ee,Lt||Zt||pn?Bn(ve)?nt=ve:Si(ve)?nt=to(ve):Zt?(at=!1,nt=xg(Ee,!0)):pn?(at=!1,nt=Ay(Ee,!0)):nt=[]:wg(Ee)||Kf(Ee)?(nt=ve,Kf(ve)?nt=qR(ve):(!Zr(ve)||pc(ve))&&(nt=xR(Ee))):at=!1}at&&(ue.set(Ee,nt),W(nt,Ee,D,q,ue),ue.delete(Ee)),rg(u,C,nt)}function qa(u,g){var C=u.length;if(C)return g+=g<0?C:0,hc(g,C)?u[g]:t}function Hf(u,g,C){g.length?g=br(g,function(q){return Bn(q)?function(ue){return zs(ue,q.length===1?q[0]:q)}:q}):g=[_s];var D=-1;g=br(g,fo(dn()));var W=uc(u,function(q,ue,ve){var Ee=br(g,function(tt){return tt(q)});return{criteria:Ee,index:++D,value:q}});return ja(W,function(q,ue){return Uh(q,ue,C)})}function Gf(u,g){return Bh(u,g,function(C,D){return yA(u,D)})}function Bh(u,g,C){for(var D=-1,W=g.length,q={};++D<W;){var ue=g[D],ve=zs(u,ue);C(ve,ue)&&fc(q,Dl(ue,u),ve)}return q}function Lh(u){return function(g){return zs(g,u)}}function Au(u,g,C,D){var W=D?tu:Ls,q=-1,ue=g.length,ve=u;for(u===g&&(g=to(g)),C&&(ve=br(u,fo(C)));++q<ue;)for(var Ee=0,tt=g[q],nt=C?C(tt):tt;(Ee=W(ve,nt,Ee,D))>-1;)ve!==u&&El.call(ve,Ee,1),El.call(u,Ee,1);return u}function Qi(u,g){for(var C=u?g.length:0,D=C-1;C--;){var W=g[C];if(C==D||W!==q){var q=W;hc(W)?El.call(u,W,1):gg(u,W)}}return u}function Sa(u,g){return u+Pf(qm()*(g-u+1))}function ms(u,g,C,D){for(var W=-1,q=xi(Rf((g-u)/(C||1)),0),ue=ke(q);q--;)ue[D?q:++W]=u,u+=C;return ue}function Mu(u,g){var C="";if(!u||g<1||g>N)return C;do g%2&&(C+=u),g=Pf(g/2),g&&(u+=u);while(g);return C}function un(u,g){return uA(AR(u,g,_s),u+"")}function vy(u){return Df(Vh(u))}function hg(u,g){var C=Vh(u);return Ey(C,Pl(g,0,C.length))}function fc(u,g,C,D){if(!Zr(u))return u;g=Dl(g,u);for(var W=-1,q=g.length,ue=q-1,ve=u;ve!=null&&++W<q;){var Ee=Ul(g[W]),tt=C;if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return u;if(W!=ue){var nt=ve[Ee];tt=D?D(nt,Ee,ve):t,tt===t&&(tt=Zr(nt)?nt:hc(g[W+1])?[]:{})}Us(ve,Ee,tt),ve=ve[Ee]}return u}var yy=Ah?function(u,g){return Ah.set(u,g),u}:_s,Il=fu?function(u,g){return fu(u,"toString",{configurable:!0,enumerable:!1,value:_A(g),writable:!0})}:_s;function xy(u){return Ey(Vh(u))}function Wo(u,g,C){var D=-1,W=u.length;g<0&&(g=-g>W?0:W+g),C=C>W?W:C,C<0&&(C+=W),W=g>C?0:C-g>>>0,g>>>=0;for(var q=ke(W);++D<W;)q[D]=u[D+g];return q}function pg(u,g){var C;return ks(u,function(D,W,q){return C=g(D,W,q),!C}),!!C}function Aa(u,g,C){var D=0,W=u==null?D:u.length;if(typeof g=="number"&&g===g&&W<=Me){for(;D<W;){var q=D+W>>>1,ue=u[q];ue!==null&&!Gs(ue)&&(C?ue<=g:ue<g)?D=q+1:W=q}return W}return Oh(u,g,_s,C)}function Oh(u,g,C,D){var W=0,q=u==null?0:u.length;if(q===0)return 0;g=C(g);for(var ue=g!==g,ve=g===null,Ee=Gs(g),tt=g===t;W<q;){var nt=Pf((W+q)/2),at=C(u[nt]),Lt=at!==t,Zt=at===null,pn=at===at,Gn=Gs(at);if(ue)var mn=D||pn;else tt?mn=pn&&(D||Lt):ve?mn=pn&&Lt&&(D||!Zt):Ee?mn=pn&&Lt&&!Zt&&(D||!Gn):Zt||Gn?mn=!1:mn=D?at<=g:at<g;mn?W=nt+1:q=nt}return Ji(q,pe)}function mg(u,g){for(var C=-1,D=u.length,W=0,q=[];++C<D;){var ue=u[C],ve=g?g(ue):ue;if(!C||!Za(ve,Ee)){var Ee=ve;q[W++]=ue===0?0:ue}}return q}function Dh(u){return typeof u=="number"?u:Gs(u)?J:+u}function Zi(u){if(typeof u=="string")return u;if(Bn(u))return br(u,Zi)+"";if(Gs(u))return pu?pu.call(u):"";var g=u+"";return g=="0"&&1/u==-X?"-0":g}function Bl(u,g,C){var D=-1,W=Is,q=u.length,ue=!0,ve=[],Ee=ve;if(C)ue=!1,W=Zc;else if(q>=i){var tt=g?null:no(u);if(tt)return Mf(tt);ue=!1,W=ki,Ee=new Tl}else Ee=g?[]:ve;e:for(;++D<q;){var nt=u[D],at=g?g(nt):nt;if(nt=C||nt!==0?nt:0,ue&&at===at){for(var Lt=Ee.length;Lt--;)if(Ee[Lt]===at)continue e;g&&Ee.push(at),ve.push(nt)}else W(Ee,at,C)||(Ee!==ve&&Ee.push(at),ve.push(nt))}return ve}function gg(u,g){return g=Dl(g,u),u=MR(u,g),u==null||delete u[Ul(wa(g))]}function vg(u,g,C,D){return fc(u,g,C(zs(u,g)),D)}function Vf(u,g,C,D){for(var W=u.length,q=D?W:-1;(D?q--:++q<W)&&g(u[q],q,u););return C?Wo(u,D?0:q,D?q+1:W):Wo(u,D?q+1:0,D?W:q)}function Ll(u,g){var C=u;return C instanceof fn&&(C=C.value()),gh(g,function(D,W){return W.func.apply(W.thisArg,Bs([D],W.args))},C)}function yg(u,g,C){var D=u.length;if(D<2)return D?Bl(u[0]):[];for(var W=-1,q=ke(D);++W<D;)for(var ue=u[W],ve=-1;++ve<D;)ve!=W&&(q[W]=lc(q[W]||ue,u[ve],g,C));return Bl(Bi(q,1),g,C)}function Ol(u,g,C){for(var D=-1,W=u.length,q=g.length,ue={};++D<W;){var ve=D<q?g[D]:t;C(ue,u[D],ve)}return ue}function Fh(u){return Si(u)?u:[]}function eo(u){return typeof u=="function"?u:_s}function Dl(u,g){return Bn(u)?u:aA(u,g)?[u]:bR(pr(u))}var _y=un;function Fl(u,g,C){var D=u.length;return C=C===t?D:C,!g&&C>=D?u:Wo(u,g,C)}var Sy=Tf||function(u){return yt.clearTimeout(u)};function xg(u,g){if(g)return u.slice();var C=u.length,D=Xm?Xm(C):new u.constructor(C);return u.copy(D),D}function Nh(u){var g=new u.constructor(u.byteLength);return new Ef(g).set(new Ef(u)),g}function nA(u,g){var C=g?Nh(u.buffer):u.buffer;return new u.constructor(C,u.byteOffset,u.byteLength)}function gs(u){var g=new u.constructor(u.source,T.exec(u));return g.lastIndex=u.lastIndex,g}function _g(u){return Ja?hn(Ja.call(u)):{}}function Ay(u,g){var C=g?Nh(u.buffer):u.buffer;return new u.constructor(C,u.byteOffset,u.length)}function Qa(u,g){if(u!==g){var C=u!==t,D=u===null,W=u===u,q=Gs(u),ue=g!==t,ve=g===null,Ee=g===g,tt=Gs(g);if(!ve&&!tt&&!q&&u>g||q&&ue&&Ee&&!ve&&!tt||D&&ue&&Ee||!C&&Ee||!W)return 1;if(!D&&!q&&!tt&&u<g||tt&&C&&W&&!D&&!q||ve&&C&&W||!ue&&W||!Ee)return-1}return 0}function Uh(u,g,C){for(var D=-1,W=u.criteria,q=g.criteria,ue=W.length,ve=C.length;++D<ue;){var Ee=Qa(W[D],q[D]);if(Ee){if(D>=ve)return Ee;var tt=C[D];return Ee*(tt=="desc"?-1:1)}}return u.index-g.index}function Nl(u,g,C,D){for(var W=-1,q=u.length,ue=C.length,ve=-1,Ee=g.length,tt=xi(q-ue,0),nt=ke(Ee+tt),at=!D;++ve<Ee;)nt[ve]=g[ve];for(;++W<ue;)(at||W<q)&&(nt[C[W]]=u[W]);for(;tt--;)nt[ve++]=u[W++];return nt}function Wf(u,g,C,D){for(var W=-1,q=u.length,ue=-1,ve=C.length,Ee=-1,tt=g.length,nt=xi(q-ve,0),at=ke(nt+tt),Lt=!D;++W<nt;)at[W]=u[W];for(var Zt=W;++Ee<tt;)at[Zt+Ee]=g[Ee];for(;++ue<ve;)(Lt||W<q)&&(at[Zt+C[ue]]=u[W++]);return at}function to(u,g){var C=-1,D=u.length;for(g||(g=ke(D));++C<D;)g[C]=u[C];return g}function vs(u,g,C,D){var W=!C;C||(C={});for(var q=-1,ue=g.length;++q<ue;){var ve=g[q],Ee=D?D(C[ve],u[ve],ve,C,u):t;Ee===t&&(Ee=u[ve]),W?_a(C,ve,Ee):Us(C,ve,Ee)}return C}function rA(u,g){return vs(u,sA(u),g)}function My(u,g){return vs(u,vR(u),g)}function $f(u,g){return function(C,D){var W=Bn(C)?pa:ig,q=g?g():{};return W(C,u,dn(D,2),q)}}function dc(u){return un(function(g,C){var D=-1,W=C.length,q=W>1?C[W-1]:t,ue=W>2?C[2]:t;for(q=u.length>3&&typeof q=="function"?(W--,q):t,ue&&jo(C[0],C[1],ue)&&(q=W<3?t:q,W=1),g=hn(g);++D<W;){var ve=C[D];ve&&u(g,ve,D,q)}return g})}function Sg(u,g){return function(C,D){if(C==null)return C;if(!ys(C))return u(C,D);for(var W=C.length,q=g?W:-1,ue=hn(C);(g?q--:++q<W)&&D(ue[q],q,ue)!==!1;);return C}}function kh(u){return function(g,C,D){for(var W=-1,q=hn(g),ue=D(g),ve=ue.length;ve--;){var Ee=ue[u?ve:++W];if(C(q[Ee],Ee,q)===!1)break}return g}}function iA(u,g,C){var D=g&_,W=h(u);function q(){var ue=this&&this!==yt&&this instanceof q?W:u;return ue.apply(D?C:this,arguments)}return q}function wy(u){return function(g){g=pr(g);var C=nc(g)?jr(g):t,D=C?C[0]:g.charAt(0),W=C?Fl(C,1).join(""):g.slice(1);return D[u]()+W}}function d(u){return function(g){return gh(oP(iP(g).replace(Dt,"")),u,"")}}function h(u){return function(){var g=arguments;switch(g.length){case 0:return new u;case 1:return new u(g[0]);case 2:return new u(g[0],g[1]);case 3:return new u(g[0],g[1],g[2]);case 4:return new u(g[0],g[1],g[2],g[3]);case 5:return new u(g[0],g[1],g[2],g[3],g[4]);case 6:return new u(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new u(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var C=Ya(u.prototype),D=u.apply(C,g);return Zr(D)?D:C}}function M(u,g,C){var D=h(u);function W(){for(var q=arguments.length,ue=ke(q),ve=q,Ee=Hh(W);ve--;)ue[ve]=arguments[ve];var tt=q<3&&ue[0]!==Ee&&ue[q-1]!==Ee?[]:Fs(ue,Ee);if(q-=tt.length,q<C)return hr(u,g,z,W.placeholder,t,ue,tt,t,t,C-q);var nt=this&&this!==yt&&this instanceof W?D:u;return Lr(nt,this,ue)}return W}function b(u){return function(g,C,D){var W=hn(g);if(!ys(g)){var q=dn(C,3);g=ro(g),C=function(ve){return q(W[ve],ve,W)}}var ue=u(g,C,D);return ue>-1?W[q?g[ue]:ue]:t}}function B(u){return Un(function(g){var C=g.length,D=C,W=Yi.prototype.thru;for(u&&g.reverse();D--;){var q=g[D];if(typeof q!="function")throw new po(s);if(W&&!ue&&zh(q)=="wrapper")var ue=new Yi([],!0)}for(D=ue?D:C;++D<C;){q=g[D];var ve=zh(q),Ee=ve=="wrapper"?Ma(q):t;Ee&&lA(Ee[0])&&Ee[1]==(L|w|I|U)&&!Ee[4].length&&Ee[9]==1?ue=ue[zh(Ee[0])].apply(ue,Ee[3]):ue=q.length==1&&lA(q)?ue[ve]():ue.thru(q)}return function(){var tt=arguments,nt=tt[0];if(ue&&tt.length==1&&Bn(nt))return ue.plant(nt).value();for(var at=0,Lt=C?g[at].apply(this,tt):nt;++at<C;)Lt=g[at].call(this,Lt);return Lt}})}function z(u,g,C,D,W,q,ue,ve,Ee,tt){var nt=g&L,at=g&_,Lt=g&y,Zt=g&(w|E),pn=g&F,Gn=Lt?t:h(u);function mn(){for(var Xn=arguments.length,er=ke(Xn),Vs=Xn;Vs--;)er[Vs]=arguments[Vs];if(Zt)var Xo=Hh(mn),Ws=Ds(er,Xo);if(D&&(er=Nl(er,D,W,Zt)),q&&(er=Wf(er,q,ue,Zt)),Xn-=Ws,Zt&&Xn<tt){var Ai=Fs(er,Xo);return hr(u,g,z,mn.placeholder,C,er,Ai,ve,Ee,tt-Xn)}var el=at?C:this,gc=Lt?el[u]:u;return Xn=er.length,ve?er=qz(er,ve):pn&&Xn>1&&er.reverse(),nt&&Ee<Xn&&(er.length=Ee),this&&this!==yt&&this instanceof mn&&(gc=Gn||h(gc)),gc.apply(el,er)}return mn}function ae(u,g){return function(C,D){return ug(C,u,g(D),{})}}function xe(u,g){return function(C,D){var W;if(C===t&&D===t)return g;if(C!==t&&(W=C),D!==t){if(W===t)return D;typeof C=="string"||typeof D=="string"?(C=Zi(C),D=Zi(D)):(C=Dh(C),D=Dh(D)),W=u(C,D)}return W}}function Xe(u){return Un(function(g){return g=br(g,fo(dn())),un(function(C){var D=this;return u(g,function(W){return Lr(W,D,C)})})})}function mt(u,g){g=g===t?" ":Zi(g);var C=g.length;if(C<2)return C?Mu(g,u):g;var D=Mu(g,Rf(u/ma(g)));return nc(g)?Fl(jr(D),0,u).join(""):D.slice(0,u)}function zt(u,g,C,D){var W=g&_,q=h(u);function ue(){for(var ve=-1,Ee=arguments.length,tt=-1,nt=D.length,at=ke(nt+Ee),Lt=this&&this!==yt&&this instanceof ue?q:u;++tt<nt;)at[tt]=D[tt];for(;Ee--;)at[tt++]=arguments[++ve];return Lr(Lt,W?C:this,at)}return ue}function wn(u){return function(g,C,D){return D&&typeof D!="number"&&jo(g,C,D)&&(C=D=t),g=mc(g),C===t?(C=g,g=0):C=mc(C),D=D===t?g<C?1:-1:mc(D),ms(g,C,D,u)}}function rn(u){return function(g,C){return typeof g=="string"&&typeof C=="string"||(g=Ca(g),C=Ca(C)),u(g,C)}}function hr(u,g,C,D,W,q,ue,ve,Ee,tt){var nt=g&w,at=nt?ue:t,Lt=nt?t:ue,Zt=nt?q:t,pn=nt?t:q;g|=nt?I:P,g&=~(nt?P:I),g&A||(g&=~(_|y));var Gn=[u,g,W,Zt,at,pn,Lt,ve,Ee,tt],mn=C.apply(t,Gn);return lA(u)&&wR(mn,Gn),mn.placeholder=D,CR(mn,u,g)}function Jt(u){var g=Or[u];return function(C,D){if(C=Ca(C),D=D==null?0:Ji(zn(D),292),D&&Ym(C)){var W=(pr(C)+"e").split("e"),q=g(W[0]+"e"+(+W[1]+D));return W=(pr(q)+"e").split("e"),+(W[0]+"e"+(+W[1]-D))}return g(C)}}var no=hu&&1/Mf(new hu([,-0]))[1]==X?function(u){return new hu(u)}:MA;function $o(u){return function(g){var C=wo(g);return C==He?Af(g):C==V?z0(g):N0(g,u(g))}}function Ie(u,g,C,D,W,q,ue,ve){var Ee=g&y;if(!Ee&&typeof u!="function")throw new po(s);var tt=D?D.length:0;if(tt||(g&=~(I|P),D=W=t),ue=ue===t?ue:xi(zn(ue),0),ve=ve===t?ve:zn(ve),tt-=W?W.length:0,g&P){var nt=D,at=W;D=W=t}var Lt=Ee?t:Ma(u),Zt=[u,g,C,D,W,nt,at,q,ue,ve];if(Lt&&Kz(Zt,Lt),u=Zt[0],g=Zt[1],C=Zt[2],D=Zt[3],W=Zt[4],ve=Zt[9]=Zt[9]===t?Ee?0:u.length:xi(Zt[9]-tt,0),!ve&&g&(w|E)&&(g&=~(w|E)),!g||g==_)var pn=iA(u,g,C);else g==w||g==E?pn=M(u,g,ve):(g==I||g==(_|I))&&!W.length?pn=zt(u,g,C,D):pn=z.apply(t,Zt);var Gn=Lt?yy:wR;return CR(Gn(pn,Zt),u,g)}function we(u,g,C,D){return u===t||Za(u,cu[C])&&!sr.call(D,C)?g:u}function We(u,g,C,D,W,q){return Zr(u)&&Zr(g)&&(q.set(g,u),Hs(u,g,t,We,q),q.delete(g)),u}function Ft(u){return wg(u)?t:u}function Yt(u,g,C,D,W,q){var ue=C&x,ve=u.length,Ee=g.length;if(ve!=Ee&&!(ue&&Ee>ve))return!1;var tt=q.get(u),nt=q.get(g);if(tt&&nt)return tt==g&&nt==u;var at=-1,Lt=!0,Zt=C&S?new Tl:t;for(q.set(u,g),q.set(g,u);++at<ve;){var pn=u[at],Gn=g[at];if(D)var mn=ue?D(Gn,pn,at,g,u,q):D(pn,Gn,at,u,g,q);if(mn!==t){if(mn)continue;Lt=!1;break}if(Zt){if(!yf(g,function(Xn,er){if(!ki(Zt,er)&&(pn===Xn||W(pn,Xn,C,D,q)))return Zt.push(er)})){Lt=!1;break}}else if(!(pn===Gn||W(pn,Gn,C,D,q))){Lt=!1;break}}return q.delete(u),q.delete(g),Lt}function Nn(u,g,C,D,W,q,ue){switch(C){case st:if(u.byteLength!=g.byteLength||u.byteOffset!=g.byteOffset)return!1;u=u.buffer,g=g.buffer;case ct:return!(u.byteLength!=g.byteLength||!q(new Ef(u),new Ef(g)));case lt:case dt:case Fe:return Za(+u,+g);case oe:return u.name==g.name&&u.message==g.message;case Q:case ge:return u==g+"";case He:var ve=Af;case V:var Ee=D&x;if(ve||(ve=Mf),u.size!=g.size&&!Ee)return!1;var tt=ue.get(u);if(tt)return tt==g;D|=S,ue.set(u,g);var nt=Yt(ve(u),ve(g),D,W,q,ue);return ue.delete(u),nt;case Ae:if(Ja)return Ja.call(u)==Ja.call(g)}return!1}function bn(u,g,C,D,W,q){var ue=C&x,ve=ci(u),Ee=ve.length,tt=ci(g),nt=tt.length;if(Ee!=nt&&!ue)return!1;for(var at=Ee;at--;){var Lt=ve[at];if(!(ue?Lt in g:sr.call(g,Lt)))return!1}var Zt=q.get(u),pn=q.get(g);if(Zt&&pn)return Zt==g&&pn==u;var Gn=!0;q.set(u,g),q.set(g,u);for(var mn=ue;++at<Ee;){Lt=ve[at];var Xn=u[Lt],er=g[Lt];if(D)var Vs=ue?D(er,Xn,Lt,g,u,q):D(Xn,er,Lt,u,g,q);if(!(Vs===t?Xn===er||W(Xn,er,C,D,q):Vs)){Gn=!1;break}mn||(mn=Lt=="constructor")}if(Gn&&!mn){var Xo=u.constructor,Ws=g.constructor;Xo!=Ws&&"constructor"in u&&"constructor"in g&&!(typeof Xo=="function"&&Xo instanceof Xo&&typeof Ws=="function"&&Ws instanceof Ws)&&(Gn=!1)}return q.delete(u),q.delete(g),Gn}function Un(u){return uA(AR(u,t,IR),u+"")}function ci(u){return Th(u,ro,sA)}function qn(u){return Th(u,xs,vR)}var Ma=Ah?function(u){return Ah.get(u)}:MA;function zh(u){for(var g=u.name+"",C=sc[g],D=sr.call(sc,g)?C.length:0;D--;){var W=C[D],q=W.func;if(q==null||q==u)return W.name}return g}function Hh(u){var g=sr.call($,"placeholder")?$:u;return g.placeholder}function dn(){var u=$.iteratee||SA;return u=u===SA?Su:u,arguments.length?u(arguments[0],arguments[1]):u}function Cy(u,g){var C=u.__data__;return Wz(g)?C[typeof g=="string"?"string":"hash"]:C.map}function oA(u){for(var g=ro(u),C=g.length;C--;){var D=g[C],W=u[D];g[C]=[D,W,_R(W)]}return g}function jf(u,g){var C=Wm(u,g);return xu(C)?C:t}function Nz(u){var g=sr.call(u,ya),C=u[ya];try{u[ya]=t;var D=!0}catch{}var W=ko.call(u);return D&&(g?u[ya]=C:delete u[ya]),W}var sA=If?function(u){return u==null?[]:(u=hn(u),Ki(If(u),function(g){return Sh.call(u,g)}))}:wA,vR=If?function(u){for(var g=[];u;)Bs(g,sA(u)),u=bf(u);return g}:wA,wo=zi;(du&&wo(new du(new ArrayBuffer(1)))!=st||Bf&&wo(new Bf)!=He||Qm&&wo(Qm.resolve())!=qe||hu&&wo(new hu)!=V||ic&&wo(new ic)!=ze)&&(wo=function(u){var g=zi(u),C=g==Ke?u.constructor:t,D=C?Xf(C):"";if(D)switch(D){case Y0:return st;case q0:return He;case Q0:return qe;case Z0:return V;case xa:return ze}return g});function Uz(u,g,C){for(var D=-1,W=C.length;++D<W;){var q=C[D],ue=q.size;switch(q.type){case"drop":u+=ue;break;case"dropRight":g-=ue;break;case"take":g=Ji(g,u+ue);break;case"takeRight":u=xi(u,g-ue);break}}return{start:u,end:g}}function kz(u){var g=u.match(mr);return g?g[1].split(mi):[]}function yR(u,g,C){g=Dl(g,u);for(var D=-1,W=g.length,q=!1;++D<W;){var ue=Ul(g[D]);if(!(q=u!=null&&C(u,ue)))break;u=u[ue]}return q||++D!=W?q:(W=u==null?0:u.length,!!W&&By(W)&&hc(ue,W)&&(Bn(u)||Kf(u)))}function zz(u){var g=u.length,C=new u.constructor(g);return g&&typeof u[0]=="string"&&sr.call(u,"index")&&(C.index=u.index,C.input=u.input),C}function xR(u){return typeof u.constructor=="function"&&!Ag(u)?Ya(bf(u)):{}}function Hz(u,g,C){var D=u.constructor;switch(g){case ct:return Nh(u);case lt:case dt:return new D(+u);case st:return nA(u,C);case kt:case Qe:case vt:case Vt:case It:case ft:case he:case Ge:case ut:return Ay(u,C);case He:return new D;case Fe:case ge:return new D(u);case Q:return gs(u);case V:return new D;case Ae:return _g(u)}}function Gz(u,g){var C=g.length;if(!C)return u;var D=C-1;return g[D]=(C>1?"& ":"")+g[D],g=g.join(C>2?", ":" "),u.replace(wr,`{
/* [wrapped with `+g+`] */
`)}function Vz(u){return Bn(u)||Kf(u)||!!(Jm&&u&&u[Jm])}function hc(u,g){var C=typeof u;return g=g??N,!!g&&(C=="number"||C!="symbol"&&me.test(u))&&u>-1&&u%1==0&&u<g}function jo(u,g,C){if(!Zr(C))return!1;var D=typeof g;return(D=="number"?ys(C)&&hc(g,C.length):D=="string"&&g in C)?Za(C[g],u):!1}function aA(u,g){if(Bn(u))return!1;var C=typeof u;return C=="number"||C=="symbol"||C=="boolean"||u==null||Gs(u)?!0:Kt.test(u)||!nn.test(u)||g!=null&&u in hn(g)}function Wz(u){var g=typeof u;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?u!=="__proto__":u===null}function lA(u){var g=zh(u),C=$[g];if(typeof C!="function"||!(g in fn.prototype))return!1;if(u===C)return!0;var D=Ma(C);return!!D&&u===D[0]}function $z(u){return!!va&&va in u}var jz=yi?pc:CA;function Ag(u){var g=u&&u.constructor,C=typeof g=="function"&&g.prototype||cu;return u===C}function _R(u){return u===u&&!Zr(u)}function SR(u,g){return function(C){return C==null?!1:C[u]===g&&(g!==t||u in hn(C))}}function Xz(u){var g=Py(u,function(D){return C.size===c&&C.clear(),D}),C=g.cache;return g}function Kz(u,g){var C=u[1],D=g[1],W=C|D,q=W<(_|y|L),ue=D==L&&C==w||D==L&&C==U&&u[7].length<=g[8]||D==(L|U)&&g[7].length<=g[8]&&C==w;if(!(q||ue))return u;D&_&&(u[2]=g[2],W|=C&_?0:A);var ve=g[3];if(ve){var Ee=u[3];u[3]=Ee?Nl(Ee,ve,g[4]):ve,u[4]=Ee?Fs(u[3],f):g[4]}return ve=g[5],ve&&(Ee=u[5],u[5]=Ee?Wf(Ee,ve,g[6]):ve,u[6]=Ee?Fs(u[5],f):g[6]),ve=g[7],ve&&(u[7]=ve),D&L&&(u[8]=u[8]==null?g[8]:Ji(u[8],g[8])),u[9]==null&&(u[9]=g[9]),u[0]=g[0],u[1]=W,u}function Jz(u){var g=[];if(u!=null)for(var C in hn(u))g.push(C);return g}function Yz(u){return ko.call(u)}function AR(u,g,C){return g=xi(g===t?u.length-1:g,0),function(){for(var D=arguments,W=-1,q=xi(D.length-g,0),ue=ke(q);++W<q;)ue[W]=D[g+W];W=-1;for(var ve=ke(g+1);++W<g;)ve[W]=D[W];return ve[g]=C(ue),Lr(u,this,ve)}}function MR(u,g){return g.length<2?u:zs(u,Wo(g,0,-1))}function qz(u,g){for(var C=u.length,D=Ji(g.length,C),W=to(u);D--;){var q=g[D];u[D]=hc(q,C)?W[q]:t}return u}function cA(u,g){if(!(g==="constructor"&&typeof u[g]=="function")&&g!="__proto__")return u[g]}var wR=ER(yy),Mg=W0||function(u,g){return yt.setTimeout(u,g)},uA=ER(Il);function CR(u,g,C){var D=g+"";return uA(u,Gz(D,Qz(kz(D),C)))}function ER(u){var g=0,C=0;return function(){var D=X0(),W=Z-(D-C);if(C=D,W>0){if(++g>=te)return arguments[0]}else g=0;return u.apply(t,arguments)}}function Ey(u,g){var C=-1,D=u.length,W=D-1;for(g=g===t?D:g;++C<g;){var q=Sa(C,W),ue=u[q];u[q]=u[C],u[C]=ue}return u.length=g,u}var bR=Xz(function(u){var g=[];return u.charCodeAt(0)===46&&g.push(""),u.replace(nr,function(C,D,W,q){g.push(W?q.replace(sn,"$1"):D||C)}),g});function Ul(u){if(typeof u=="string"||Gs(u))return u;var g=u+"";return g=="0"&&1/u==-X?"-0":g}function Xf(u){if(u!=null){try{return uu.call(u)}catch{}try{return u+""}catch{}}return""}function Qz(u,g){return vi(de,function(C){var D="_."+C[0];g&C[1]&&!Is(u,D)&&u.push(D)}),u.sort()}function TR(u){if(u instanceof fn)return u.clone();var g=new Yi(u.__wrapped__,u.__chain__);return g.__actions__=to(u.__actions__),g.__index__=u.__index__,g.__values__=u.__values__,g}function Zz(u,g,C){(C?jo(u,g,C):g===t)?g=1:g=xi(zn(g),0);var D=u==null?0:u.length;if(!D||g<1)return[];for(var W=0,q=0,ue=ke(Rf(D/g));W<D;)ue[q++]=Wo(u,W,W+=g);return ue}function eH(u){for(var g=-1,C=u==null?0:u.length,D=0,W=[];++g<C;){var q=u[g];q&&(W[D++]=q)}return W}function tH(){var u=arguments.length;if(!u)return[];for(var g=ke(u-1),C=arguments[0],D=u;D--;)g[D-1]=arguments[D];return Bs(Bn(C)?to(C):[C],Bi(g,1))}var nH=un(function(u,g){return Si(u)?lc(u,Bi(g,1,Si,!0)):[]}),rH=un(function(u,g){var C=wa(g);return Si(C)&&(C=t),Si(u)?lc(u,Bi(g,1,Si,!0),dn(C,2)):[]}),iH=un(function(u,g){var C=wa(g);return Si(C)&&(C=t),Si(u)?lc(u,Bi(g,1,Si,!0),t,C):[]});function oH(u,g,C){var D=u==null?0:u.length;return D?(g=C||g===t?1:zn(g),Wo(u,g<0?0:g,D)):[]}function sH(u,g,C){var D=u==null?0:u.length;return D?(g=C||g===t?1:zn(g),g=D-g,Wo(u,0,g<0?0:g)):[]}function aH(u,g){return u&&u.length?Vf(u,dn(g,3),!0,!0):[]}function lH(u,g){return u&&u.length?Vf(u,dn(g,3),!0):[]}function cH(u,g,C,D){var W=u==null?0:u.length;return W?(C&&typeof C!="number"&&jo(u,g,C)&&(C=0,D=W),my(u,g,C,D)):[]}function RR(u,g,C){var D=u==null?0:u.length;if(!D)return-1;var W=C==null?0:zn(C);return W<0&&(W=xi(D+W,0)),eu(u,dn(g,3),W)}function PR(u,g,C){var D=u==null?0:u.length;if(!D)return-1;var W=D-1;return C!==t&&(W=zn(C),W=C<0?xi(D+W,0):Ji(W,D-1)),eu(u,dn(g,3),W,!0)}function IR(u){var g=u==null?0:u.length;return g?Bi(u,1):[]}function uH(u){var g=u==null?0:u.length;return g?Bi(u,X):[]}function fH(u,g){var C=u==null?0:u.length;return C?(g=g===t?1:zn(g),Bi(u,g)):[]}function dH(u){for(var g=-1,C=u==null?0:u.length,D={};++g<C;){var W=u[g];D[W[0]]=W[1]}return D}function BR(u){return u&&u.length?u[0]:t}function hH(u,g,C){var D=u==null?0:u.length;if(!D)return-1;var W=C==null?0:zn(C);return W<0&&(W=xi(D+W,0)),Ls(u,g,W)}function pH(u){var g=u==null?0:u.length;return g?Wo(u,0,-1):[]}var mH=un(function(u){var g=br(u,Fh);return g.length&&g[0]===u[0]?vu(g):[]}),gH=un(function(u){var g=wa(u),C=br(u,Fh);return g===wa(C)?g=t:C.pop(),C.length&&C[0]===u[0]?vu(C,dn(g,2)):[]}),vH=un(function(u){var g=wa(u),C=br(u,Fh);return g=typeof g=="function"?g:t,g&&C.pop(),C.length&&C[0]===u[0]?vu(C,t,g):[]});function yH(u,g){return u==null?"":K1.call(u,g)}function wa(u){var g=u==null?0:u.length;return g?u[g-1]:t}function xH(u,g,C){var D=u==null?0:u.length;if(!D)return-1;var W=D;return C!==t&&(W=zn(C),W=W<0?xi(D+W,0):Ji(W,D-1)),g===g?H0(u,g,W):eu(u,xf,W,!0)}function _H(u,g){return u&&u.length?qa(u,zn(g)):t}var SH=un(LR);function LR(u,g){return u&&u.length&&g&&g.length?Au(u,g):u}function AH(u,g,C){return u&&u.length&&g&&g.length?Au(u,g,dn(C,2)):u}function MH(u,g,C){return u&&u.length&&g&&g.length?Au(u,g,t,C):u}var wH=Un(function(u,g){var C=u==null?0:u.length,D=Eh(u,g);return Qi(u,br(g,function(W){return hc(W,C)?+W:W}).sort(Qa)),D});function CH(u,g){var C=[];if(!(u&&u.length))return C;var D=-1,W=[],q=u.length;for(g=dn(g,3);++D<q;){var ue=u[D];g(ue,D,u)&&(C.push(ue),W.push(D))}return Qi(u,W),C}function fA(u){return u==null?u:J0.call(u)}function EH(u,g,C){var D=u==null?0:u.length;return D?(C&&typeof C!="number"&&jo(u,g,C)?(g=0,C=D):(g=g==null?0:zn(g),C=C===t?D:zn(C)),Wo(u,g,C)):[]}function bH(u,g){return Aa(u,g)}function TH(u,g,C){return Oh(u,g,dn(C,2))}function RH(u,g){var C=u==null?0:u.length;if(C){var D=Aa(u,g);if(D<C&&Za(u[D],g))return D}return-1}function PH(u,g){return Aa(u,g,!0)}function IH(u,g,C){return Oh(u,g,dn(C,2),!0)}function BH(u,g){var C=u==null?0:u.length;if(C){var D=Aa(u,g,!0)-1;if(Za(u[D],g))return D}return-1}function LH(u){return u&&u.length?mg(u):[]}function OH(u,g){return u&&u.length?mg(u,dn(g,2)):[]}function DH(u){var g=u==null?0:u.length;return g?Wo(u,1,g):[]}function FH(u,g,C){return u&&u.length?(g=C||g===t?1:zn(g),Wo(u,0,g<0?0:g)):[]}function NH(u,g,C){var D=u==null?0:u.length;return D?(g=C||g===t?1:zn(g),g=D-g,Wo(u,g<0?0:g,D)):[]}function UH(u,g){return u&&u.length?Vf(u,dn(g,3),!1,!0):[]}function kH(u,g){return u&&u.length?Vf(u,dn(g,3)):[]}var zH=un(function(u){return Bl(Bi(u,1,Si,!0))}),HH=un(function(u){var g=wa(u);return Si(g)&&(g=t),Bl(Bi(u,1,Si,!0),dn(g,2))}),GH=un(function(u){var g=wa(u);return g=typeof g=="function"?g:t,Bl(Bi(u,1,Si,!0),t,g)});function VH(u){return u&&u.length?Bl(u):[]}function WH(u,g){return u&&u.length?Bl(u,dn(g,2)):[]}function $H(u,g){return g=typeof g=="function"?g:t,u&&u.length?Bl(u,t,g):[]}function dA(u){if(!(u&&u.length))return[];var g=0;return u=Ki(u,function(C){if(Si(C))return g=xi(C.length,g),!0}),Xa(g,function(C){return br(u,Ao(C))})}function OR(u,g){if(!(u&&u.length))return[];var C=dA(u);return g==null?C:br(C,function(D){return Lr(g,t,D)})}var jH=un(function(u,g){return Si(u)?lc(u,g):[]}),XH=un(function(u){return yg(Ki(u,Si))}),KH=un(function(u){var g=wa(u);return Si(g)&&(g=t),yg(Ki(u,Si),dn(g,2))}),JH=un(function(u){var g=wa(u);return g=typeof g=="function"?g:t,yg(Ki(u,Si),t,g)}),YH=un(dA);function qH(u,g){return Ol(u||[],g||[],Us)}function QH(u,g){return Ol(u||[],g||[],fc)}var ZH=un(function(u){var g=u.length,C=g>1?u[g-1]:t;return C=typeof C=="function"?(u.pop(),C):t,OR(u,C)});function DR(u){var g=$(u);return g.__chain__=!0,g}function e4(u,g){return g(u),u}function by(u,g){return g(u)}var t4=Un(function(u){var g=u.length,C=g?u[0]:0,D=this.__wrapped__,W=function(q){return Eh(q,u)};return g>1||this.__actions__.length||!(D instanceof fn)||!hc(C)?this.thru(W):(D=D.slice(C,+C+(g?1:0)),D.__actions__.push({func:by,args:[W],thisArg:t}),new Yi(D,this.__chain__).thru(function(q){return g&&!q.length&&q.push(t),q}))});function n4(){return DR(this)}function r4(){return new Yi(this.value(),this.__chain__)}function i4(){this.__values__===t&&(this.__values__=JR(this.value()));var u=this.__index__>=this.__values__.length,g=u?t:this.__values__[this.__index__++];return{done:u,value:g}}function o4(){return this}function s4(u){for(var g,C=this;C instanceof Of;){var D=TR(C);D.__index__=0,D.__values__=t,g?W.__wrapped__=D:g=D;var W=D;C=C.__wrapped__}return W.__wrapped__=u,g}function a4(){var u=this.__wrapped__;if(u instanceof fn){var g=u;return this.__actions__.length&&(g=new fn(this)),g=g.reverse(),g.__actions__.push({func:by,args:[fA],thisArg:t}),new Yi(g,this.__chain__)}return this.thru(fA)}function l4(){return Ll(this.__wrapped__,this.__actions__)}var c4=$f(function(u,g,C){sr.call(u,C)?++u[C]:_a(u,C,1)});function u4(u,g,C){var D=Bn(u)?Hm:eA;return C&&jo(u,g,C)&&(g=t),D(u,dn(g,3))}function f4(u,g){var C=Bn(u)?Ki:lg;return C(u,dn(g,3))}var d4=b(RR),h4=b(PR);function p4(u,g){return Bi(Ty(u,g),1)}function m4(u,g){return Bi(Ty(u,g),X)}function g4(u,g,C){return C=C===t?1:zn(C),Bi(Ty(u,g),C)}function FR(u,g){var C=Bn(u)?vi:ks;return C(u,dn(g,3))}function NR(u,g){var C=Bn(u)?zm:py;return C(u,dn(g,3))}var v4=$f(function(u,g,C){sr.call(u,C)?u[C].push(g):_a(u,C,[g])});function y4(u,g,C,D){u=ys(u)?u:Vh(u),C=C&&!D?zn(C):0;var W=u.length;return C<0&&(C=xi(W+C,0)),Ly(u)?C<=W&&u.indexOf(g,C)>-1:!!W&&Ls(u,g,C)>-1}var x4=un(function(u,g,C){var D=-1,W=typeof g=="function",q=ys(u)?ke(u.length):[];return ks(u,function(ue){q[++D]=W?Lr(g,ue,C):Rr(ue,g,C)}),q}),_4=$f(function(u,g,C){_a(u,C,g)});function Ty(u,g){var C=Bn(u)?br:uc;return C(u,dn(g,3))}function S4(u,g,C,D){return u==null?[]:(Bn(g)||(g=g==null?[]:[g]),C=D?t:C,Bn(C)||(C=C==null?[]:[C]),Hf(u,g,C))}var A4=$f(function(u,g,C){u[C?0:1].push(g)},function(){return[[],[]]});function M4(u,g,C){var D=Bn(u)?gh:Ml,W=arguments.length<3;return D(u,dn(g,4),C,W,ks)}function w4(u,g,C){var D=Bn(u)?O0:Ml,W=arguments.length<3;return D(u,dn(g,4),C,W,py)}function C4(u,g){var C=Bn(u)?Ki:lg;return C(u,Iy(dn(g,3)))}function E4(u){var g=Bn(u)?Df:vy;return g(u)}function b4(u,g,C){(C?jo(u,g,C):g===t)?g=1:g=zn(g);var D=Bn(u)?ng:hg;return D(u,g)}function T4(u){var g=Bn(u)?dy:xy;return g(u)}function R4(u){if(u==null)return 0;if(ys(u))return Ly(u)?ma(u):u.length;var g=wo(u);return g==He||g==V?u.size:qi(u).length}function P4(u,g,C){var D=Bn(u)?yf:pg;return C&&jo(u,g,C)&&(g=t),D(u,dn(g,3))}var I4=un(function(u,g){if(u==null)return[];var C=g.length;return C>1&&jo(u,g[0],g[1])?g=[]:C>2&&jo(g[0],g[1],g[2])&&(g=[g[0]]),Hf(u,Bi(g,1),[])}),Ry=V0||function(){return yt.Date.now()};function B4(u,g){if(typeof g!="function")throw new po(s);return u=zn(u),function(){if(--u<1)return g.apply(this,arguments)}}function UR(u,g,C){return g=C?t:g,g=u&&g==null?u.length:g,Ie(u,L,t,t,t,t,g)}function kR(u,g){var C;if(typeof g!="function")throw new po(s);return u=zn(u),function(){return--u>0&&(C=g.apply(this,arguments)),u<=1&&(g=t),C}}var hA=un(function(u,g,C){var D=_;if(C.length){var W=Fs(C,Hh(hA));D|=I}return Ie(u,D,g,C,W)}),zR=un(function(u,g,C){var D=_|y;if(C.length){var W=Fs(C,Hh(zR));D|=I}return Ie(g,D,u,C,W)});function HR(u,g,C){g=C?t:g;var D=Ie(u,w,t,t,t,t,t,g);return D.placeholder=HR.placeholder,D}function GR(u,g,C){g=C?t:g;var D=Ie(u,E,t,t,t,t,t,g);return D.placeholder=GR.placeholder,D}function VR(u,g,C){var D,W,q,ue,ve,Ee,tt=0,nt=!1,at=!1,Lt=!0;if(typeof u!="function")throw new po(s);g=Ca(g)||0,Zr(C)&&(nt=!!C.leading,at="maxWait"in C,q=at?xi(Ca(C.maxWait)||0,g):q,Lt="trailing"in C?!!C.trailing:Lt);function Zt(Ai){var el=D,gc=W;return D=W=t,tt=Ai,ue=u.apply(gc,el),ue}function pn(Ai){return tt=Ai,ve=Mg(Xn,g),nt?Zt(Ai):ue}function Gn(Ai){var el=Ai-Ee,gc=Ai-tt,lP=g-el;return at?Ji(lP,q-gc):lP}function mn(Ai){var el=Ai-Ee,gc=Ai-tt;return Ee===t||el>=g||el<0||at&&gc>=q}function Xn(){var Ai=Ry();if(mn(Ai))return er(Ai);ve=Mg(Xn,Gn(Ai))}function er(Ai){return ve=t,Lt&&D?Zt(Ai):(D=W=t,ue)}function Vs(){ve!==t&&Sy(ve),tt=0,D=Ee=W=ve=t}function Xo(){return ve===t?ue:er(Ry())}function Ws(){var Ai=Ry(),el=mn(Ai);if(D=arguments,W=this,Ee=Ai,el){if(ve===t)return pn(Ee);if(at)return Sy(ve),ve=Mg(Xn,g),Zt(Ee)}return ve===t&&(ve=Mg(Xn,g)),ue}return Ws.cancel=Vs,Ws.flush=Xo,Ws}var L4=un(function(u,g){return ag(u,1,g)}),O4=un(function(u,g,C){return ag(u,Ca(g)||0,C)});function D4(u){return Ie(u,F)}function Py(u,g){if(typeof u!="function"||g!=null&&typeof g!="function")throw new po(s);var C=function(){var D=arguments,W=g?g.apply(this,D):D[0],q=C.cache;if(q.has(W))return q.get(W);var ue=u.apply(this,D);return C.cache=q.set(W,ue)||q,ue};return C.cache=new(Py.Cache||ps),C}Py.Cache=ps;function Iy(u){if(typeof u!="function")throw new po(s);return function(){var g=arguments;switch(g.length){case 0:return!u.call(this);case 1:return!u.call(this,g[0]);case 2:return!u.call(this,g[0],g[1]);case 3:return!u.call(this,g[0],g[1],g[2])}return!u.apply(this,g)}}function F4(u){return kR(2,u)}var N4=_y(function(u,g){g=g.length==1&&Bn(g[0])?br(g[0],fo(dn())):br(Bi(g,1),fo(dn()));var C=g.length;return un(function(D){for(var W=-1,q=Ji(D.length,C);++W<q;)D[W]=g[W].call(this,D[W]);return Lr(u,this,D)})}),pA=un(function(u,g){var C=Fs(g,Hh(pA));return Ie(u,I,t,g,C)}),WR=un(function(u,g){var C=Fs(g,Hh(WR));return Ie(u,P,t,g,C)}),U4=Un(function(u,g){return Ie(u,U,t,t,t,g)});function k4(u,g){if(typeof u!="function")throw new po(s);return g=g===t?g:zn(g),un(u,g)}function z4(u,g){if(typeof u!="function")throw new po(s);return g=g==null?0:xi(zn(g),0),un(function(C){var D=C[g],W=Fl(C,0,g);return D&&Bs(W,D),Lr(u,this,W)})}function H4(u,g,C){var D=!0,W=!0;if(typeof u!="function")throw new po(s);return Zr(C)&&(D="leading"in C?!!C.leading:D,W="trailing"in C?!!C.trailing:W),VR(u,g,{leading:D,maxWait:g,trailing:W})}function G4(u){return UR(u,1)}function V4(u,g){return pA(eo(g),u)}function W4(){if(!arguments.length)return[];var u=arguments[0];return Bn(u)?u:[u]}function $4(u){return Ho(u,v)}function j4(u,g){return g=typeof g=="function"?g:t,Ho(u,v,g)}function X4(u){return Ho(u,p|v)}function K4(u,g){return g=typeof g=="function"?g:t,Ho(u,p|v,g)}function J4(u,g){return g==null||bh(u,g,ro(g))}function Za(u,g){return u===g||u!==u&&g!==g}var Y4=rn(Uf),q4=rn(function(u,g){return u>=g}),Kf=Fn(function(){return arguments}())?Fn:function(u){return ui(u)&&sr.call(u,"callee")&&!Sh.call(u,"callee")},Bn=ke.isArray,Q4=hs?fo(hs):ai;function ys(u){return u!=null&&By(u.length)&&!pc(u)}function Si(u){return ui(u)&&ys(u)}function Z4(u){return u===!0||u===!1||ui(u)&&zi(u)==lt}var wu=$0||CA,eG=ec?fo(ec):li;function tG(u){return ui(u)&&u.nodeType===1&&!wg(u)}function nG(u){if(u==null)return!0;if(ys(u)&&(Bn(u)||typeof u=="string"||typeof u.splice=="function"||wu(u)||Gh(u)||Kf(u)))return!u.length;var g=wo(u);if(g==He||g==V)return!u.size;if(Ag(u))return!qi(u).length;for(var C in u)if(sr.call(u,C))return!1;return!0}function rG(u,g){return qr(u,g)}function iG(u,g,C){C=typeof C=="function"?C:t;var D=C?C(u,g):t;return D===t?qr(u,g,t,C):!!D}function mA(u){if(!ui(u))return!1;var g=zi(u);return g==oe||g==ht||typeof u.message=="string"&&typeof u.name=="string"&&!wg(u)}function oG(u){return typeof u=="number"&&Ym(u)}function pc(u){if(!Zr(u))return!1;var g=zi(u);return g==Ne||g==Be||g==Pe||g==rt}function $R(u){return typeof u=="number"&&u==zn(u)}function By(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=N}function Zr(u){var g=typeof u;return u!=null&&(g=="object"||g=="function")}function ui(u){return u!=null&&typeof u=="object"}var jR=km?fo(km):yu;function sG(u,g){return u===g||Qr(u,g,oA(g))}function aG(u,g,C){return C=typeof C=="function"?C:t,Qr(u,g,oA(g),C)}function lG(u){return XR(u)&&u!=+u}function cG(u){if(jz(u))throw new yn(o);return xu(u)}function uG(u){return u===null}function fG(u){return u==null}function XR(u){return typeof u=="number"||ui(u)&&zi(u)==Fe}function wg(u){if(!ui(u)||zi(u)!=Ke)return!1;var g=bf(u);if(g===null)return!0;var C=sr.call(g,"constructor")&&g.constructor;return typeof C=="function"&&C instanceof C&&uu.call(C)==rc}var gA=ph?fo(ph):_u;function dG(u){return $R(u)&&u>=-N&&u<=N}var KR=mh?fo(mh):Rh;function Ly(u){return typeof u=="string"||!Bn(u)&&ui(u)&&zi(u)==ge}function Gs(u){return typeof u=="symbol"||ui(u)&&zi(u)==Ae}var Gh=tc?fo(tc):fg;function hG(u){return u===t}function pG(u){return ui(u)&&wo(u)==ze}function mG(u){return ui(u)&&zi(u)==pt}var gG=rn(kf),vG=rn(function(u,g){return u<=g});function JR(u){if(!u)return[];if(ys(u))return Ly(u)?jr(u):to(u);if(bl&&u[bl])return ru(u[bl]());var g=wo(u),C=g==He?Af:g==V?Mf:Vh;return C(u)}function mc(u){if(!u)return u===0?u:0;if(u=Ca(u),u===X||u===-X){var g=u<0?-1:1;return g*j}return u===u?u:0}function zn(u){var g=mc(u),C=g%1;return g===g?C?g-C:g:0}function YR(u){return u?Pl(zn(u),0,re):0}function Ca(u){if(typeof u=="number")return u;if(Gs(u))return J;if(Zr(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=Zr(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=yh(u);var C=Se.test(u);return C||_e.test(u)?$t(u.slice(2),C?2:8):ce.test(u)?J:+u}function qR(u){return vs(u,xs(u))}function yG(u){return u?Pl(zn(u),-N,N):u===0?u:0}function pr(u){return u==null?"":Zi(u)}var xG=dc(function(u,g){if(Ag(g)||ys(g)){vs(g,ro(g),u);return}for(var C in g)sr.call(g,C)&&Us(u,C,g[C])}),QR=dc(function(u,g){vs(g,xs(g),u)}),Oy=dc(function(u,g,C,D){vs(g,xs(g),u,D)}),_G=dc(function(u,g,C,D){vs(g,ro(g),u,D)}),SG=Un(Eh);function AG(u,g){var C=Ya(u);return g==null?C:og(C,g)}var MG=un(function(u,g){u=hn(u);var C=-1,D=g.length,W=D>2?g[2]:t;for(W&&jo(g[0],g[1],W)&&(D=1);++C<D;)for(var q=g[C],ue=xs(q),ve=-1,Ee=ue.length;++ve<Ee;){var tt=ue[ve],nt=u[tt];(nt===t||Za(nt,cu[tt])&&!sr.call(u,tt))&&(u[tt]=q[tt])}return u}),wG=un(function(u){return u.push(t,We),Lr(ZR,t,u)});function CG(u,g){return Gm(u,dn(g,3),Go)}function EG(u,g){return Gm(u,dn(g,3),gu)}function bG(u,g){return u==null?u:mu(u,dn(g,3),xs)}function TG(u,g){return u==null?u:Nf(u,dn(g,3),xs)}function RG(u,g){return u&&Go(u,dn(g,3))}function PG(u,g){return u&&gu(u,dn(g,3))}function IG(u){return u==null?[]:cc(u,ro(u))}function BG(u){return u==null?[]:cc(u,xs(u))}function vA(u,g,C){var D=u==null?t:zs(u,g);return D===t?C:D}function LG(u,g){return u!=null&&yR(u,g,gy)}function yA(u,g){return u!=null&&yR(u,g,cg)}var OG=ae(function(u,g,C){g!=null&&typeof g.toString!="function"&&(g=ko.call(g)),u[g]=C},_A(_s)),DG=ae(function(u,g,C){g!=null&&typeof g.toString!="function"&&(g=ko.call(g)),sr.call(u,g)?u[g].push(C):u[g]=[C]},dn),FG=un(Rr);function ro(u){return ys(u)?Tt(u):qi(u)}function xs(u){return ys(u)?Tt(u,!0):dg(u)}function NG(u,g){var C={};return g=dn(g,3),Go(u,function(D,W,q){_a(C,g(D,W,q),D)}),C}function UG(u,g){var C={};return g=dn(g,3),Go(u,function(D,W,q){_a(C,W,g(D,W,q))}),C}var kG=dc(function(u,g,C){Hs(u,g,C)}),ZR=dc(function(u,g,C,D){Hs(u,g,C,D)}),zG=Un(function(u,g){var C={};if(u==null)return C;var D=!1;g=br(g,function(q){return q=Dl(q,u),D||(D=q.length>1),q}),vs(u,qn(u),C),D&&(C=Ho(C,p|m|v,Ft));for(var W=g.length;W--;)gg(C,g[W]);return C});function HG(u,g){return eP(u,Iy(dn(g)))}var GG=Un(function(u,g){return u==null?{}:Gf(u,g)});function eP(u,g){if(u==null)return{};var C=br(qn(u),function(D){return[D]});return g=dn(g),Bh(u,C,function(D,W){return g(D,W[0])})}function VG(u,g,C){g=Dl(g,u);var D=-1,W=g.length;for(W||(W=1,u=t);++D<W;){var q=u==null?t:u[Ul(g[D])];q===t&&(D=W,q=C),u=pc(q)?q.call(u):q}return u}function WG(u,g,C){return u==null?u:fc(u,g,C)}function $G(u,g,C,D){return D=typeof D=="function"?D:t,u==null?u:fc(u,g,C,D)}var tP=$o(ro),nP=$o(xs);function jG(u,g,C){var D=Bn(u),W=D||wu(u)||Gh(u);if(g=dn(g,4),C==null){var q=u&&u.constructor;W?C=D?new q:[]:Zr(u)?C=pc(q)?Ya(bf(u)):{}:C={}}return(W?vi:Go)(u,function(ue,ve,Ee){return g(C,ue,ve,Ee)}),C}function XG(u,g){return u==null?!0:gg(u,g)}function KG(u,g,C){return u==null?u:vg(u,g,eo(C))}function JG(u,g,C,D){return D=typeof D=="function"?D:t,u==null?u:vg(u,g,eo(C),D)}function Vh(u){return u==null?[]:ho(u,ro(u))}function YG(u){return u==null?[]:ho(u,xs(u))}function qG(u,g,C){return C===t&&(C=g,g=t),C!==t&&(C=Ca(C),C=C===C?C:0),g!==t&&(g=Ca(g),g=g===g?g:0),Pl(Ca(u),g,C)}function QG(u,g,C){return g=mc(g),C===t?(C=g,g=0):C=mc(C),u=Ca(u),tA(u,g,C)}function ZG(u,g,C){if(C&&typeof C!="boolean"&&jo(u,g,C)&&(g=C=t),C===t&&(typeof g=="boolean"?(C=g,g=t):typeof u=="boolean"&&(C=u,u=t)),u===t&&g===t?(u=0,g=1):(u=mc(u),g===t?(g=u,u=0):g=mc(g)),u>g){var D=u;u=g,g=D}if(C||u%1||g%1){var W=qm();return Ji(u+W*(g-u+et("1e-"+((W+"").length-1))),g)}return Sa(u,g)}var e5=d(function(u,g,C){return g=g.toLowerCase(),u+(C?rP(g):g)});function rP(u){return xA(pr(u).toLowerCase())}function iP(u){return u=pr(u),u&&u.replace(ot,U0).replace(Et,"")}function t5(u,g,C){u=pr(u),g=Zi(g);var D=u.length;C=C===t?D:Pl(zn(C),0,D);var W=C;return C-=g.length,C>=0&&u.slice(C,W)==g}function n5(u){return u=pr(u),u&&wt.test(u)?u.replace(it,k0):u}function r5(u){return u=pr(u),u&&Br.test(u)?u.replace(lr,"\\$&"):u}var i5=d(function(u,g,C){return u+(C?"-":"")+g.toLowerCase()}),o5=d(function(u,g,C){return u+(C?" ":"")+g.toLowerCase()}),s5=wy("toLowerCase");function a5(u,g,C){u=pr(u),g=zn(g);var D=g?ma(u):0;if(!g||D>=g)return u;var W=(g-D)/2;return mt(Pf(W),C)+u+mt(Rf(W),C)}function l5(u,g,C){u=pr(u),g=zn(g);var D=g?ma(u):0;return g&&D<g?u+mt(g-D,C):u}function c5(u,g,C){u=pr(u),g=zn(g);var D=g?ma(u):0;return g&&D<g?mt(g-D,C)+u:u}function u5(u,g,C){return C||g==null?g=0:g&&(g=+g),K0(pr(u).replace(fr,""),g||0)}function f5(u,g,C){return(C?jo(u,g,C):g===t)?g=1:g=zn(g),Mu(pr(u),g)}function d5(){var u=arguments,g=pr(u[0]);return u.length<3?g:g.replace(u[1],u[2])}var h5=d(function(u,g,C){return u+(C?"_":"")+g.toLowerCase()});function p5(u,g,C){return C&&typeof C!="number"&&jo(u,g,C)&&(g=C=t),C=C===t?re:C>>>0,C?(u=pr(u),u&&(typeof g=="string"||g!=null&&!gA(g))&&(g=Zi(g),!g&&nc(u))?Fl(jr(u),0,C):u.split(g,C)):[]}var m5=d(function(u,g,C){return u+(C?" ":"")+xA(g)});function g5(u,g,C){return u=pr(u),C=C==null?0:Pl(zn(C),0,u.length),g=Zi(g),u.slice(C,C+g.length)==g}function v5(u,g,C){var D=$.templateSettings;C&&jo(u,g,C)&&(g=t),u=pr(u),g=Oy({},g,D,we);var W=Oy({},g.imports,D.imports,we),q=ro(W),ue=ho(W,q),ve,Ee,tt=0,nt=g.interpolate||At,at="__p += '",Lt=Pi((g.escape||At).source+"|"+nt.source+"|"+(nt===on?Wt:At).source+"|"+(g.evaluate||At).source+"|$","g"),Zt="//# sourceURL="+(sr.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ri+"]")+`
`;u.replace(Lt,function(mn,Xn,er,Vs,Xo,Ws){return er||(er=Vs),at+=u.slice(tt,Ws).replace(Mt,Vm),Xn&&(ve=!0,at+=`' +
__e(`+Xn+`) +
'`),Xo&&(Ee=!0,at+=`';
`+Xo+`;
__p += '`),er&&(at+=`' +
((__t = (`+er+`)) == null ? '' : __t) +
'`),tt=Ws+mn.length,mn}),at+=`';
`;var pn=sr.call(g,"variable")&&g.variable;if(!pn)at=`with (obj) {
`+at+`
}
`;else if(oi.test(pn))throw new yn(a);at=(Ee?at.replace(le,""):at).replace(Ze,"$1").replace(Oe,"$1;"),at="function("+(pn||"obj")+`) {
`+(pn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+at+`return __p
}`;var Gn=sP(function(){return Rn(q,Zt+"return "+at).apply(t,ue)});if(Gn.source=at,mA(Gn))throw Gn;return Gn}function y5(u){return pr(u).toLowerCase()}function x5(u){return pr(u).toUpperCase()}function _5(u,g,C){if(u=pr(u),u&&(C||g===t))return yh(u);if(!u||!(g=Zi(g)))return u;var D=jr(u),W=jr(g),q=Tr(D,W),ue=nu(D,W)+1;return Fl(D,q,ue).join("")}function S5(u,g,C){if(u=pr(u),u&&(C||g===t))return u.slice(0,su(u)+1);if(!u||!(g=Zi(g)))return u;var D=jr(u),W=nu(D,jr(g))+1;return Fl(D,0,W).join("")}function A5(u,g,C){if(u=pr(u),u&&(C||g===t))return u.replace(fr,"");if(!u||!(g=Zi(g)))return u;var D=jr(u),W=Tr(D,jr(g));return Fl(D,W).join("")}function M5(u,g){var C=O,D=G;if(Zr(g)){var W="separator"in g?g.separator:W;C="length"in g?zn(g.length):C,D="omission"in g?Zi(g.omission):D}u=pr(u);var q=u.length;if(nc(u)){var ue=jr(u);q=ue.length}if(C>=q)return u;var ve=C-ma(D);if(ve<1)return D;var Ee=ue?Fl(ue,0,ve).join(""):u.slice(0,ve);if(W===t)return Ee+D;if(ue&&(ve+=Ee.length-ve),gA(W)){if(u.slice(ve).search(W)){var tt,nt=Ee;for(W.global||(W=Pi(W.source,pr(T.exec(W))+"g")),W.lastIndex=0;tt=W.exec(nt);)var at=tt.index;Ee=Ee.slice(0,at===t?ve:at)}}else if(u.indexOf(Zi(W),ve)!=ve){var Lt=Ee.lastIndexOf(W);Lt>-1&&(Ee=Ee.slice(0,Lt))}return Ee+D}function w5(u){return u=pr(u),u&&xt.test(u)?u.replace(je,au):u}var C5=d(function(u,g,C){return u+(C?" ":"")+g.toUpperCase()}),xA=wy("toUpperCase");function oP(u,g,C){return u=pr(u),g=C?t:g,g===t?Sf(u)?lu(u):F0(u):u.match(g)||[]}var sP=un(function(u,g){try{return Lr(u,t,g)}catch(C){return mA(C)?C:new yn(C)}}),E5=Un(function(u,g){return vi(g,function(C){C=Ul(C),_a(u,C,hA(u[C],u))}),u});function b5(u){var g=u==null?0:u.length,C=dn();return u=g?br(u,function(D){if(typeof D[1]!="function")throw new po(s);return[C(D[0]),D[1]]}):[],un(function(D){for(var W=-1;++W<g;){var q=u[W];if(Lr(q[0],this,D))return Lr(q[1],this,D)}})}function T5(u){return sg(Ho(u,p))}function _A(u){return function(){return u}}function R5(u,g){return u==null||u!==u?g:u}var P5=B(),I5=B(!0);function _s(u){return u}function SA(u){return Su(typeof u=="function"?u:Ho(u,p))}function B5(u){return zf(Ho(u,p))}function L5(u,g){return Ph(u,Ho(g,p))}var O5=un(function(u,g){return function(C){return Rr(C,u,g)}}),D5=un(function(u,g){return function(C){return Rr(u,C,g)}});function AA(u,g,C){var D=ro(g),W=cc(g,D);C==null&&!(Zr(g)&&(W.length||!D.length))&&(C=g,g=u,u=this,W=cc(g,ro(g)));var q=!(Zr(C)&&"chain"in C)||!!C.chain,ue=pc(u);return vi(W,function(ve){var Ee=g[ve];u[ve]=Ee,ue&&(u.prototype[ve]=function(){var tt=this.__chain__;if(q||tt){var nt=u(this.__wrapped__),at=nt.__actions__=to(this.__actions__);return at.push({func:Ee,args:arguments,thisArg:u}),nt.__chain__=tt,nt}return Ee.apply(u,Bs([this.value()],arguments))})}),u}function F5(){return yt._===this&&(yt._=xh),this}function MA(){}function N5(u){return u=zn(u),un(function(g){return qa(g,u)})}var U5=Xe(br),k5=Xe(Hm),z5=Xe(yf);function aP(u){return aA(u)?Ao(Ul(u)):Lh(u)}function H5(u){return function(g){return u==null?t:zs(u,g)}}var G5=wn(),V5=wn(!0);function wA(){return[]}function CA(){return!1}function W5(){return{}}function $5(){return""}function j5(){return!0}function X5(u,g){if(u=zn(u),u<1||u>N)return[];var C=re,D=Ji(u,re);g=dn(g),u-=re;for(var W=Xa(D,g);++C<u;)g(C);return W}function K5(u){return Bn(u)?br(u,Ul):Gs(u)?[u]:to(bR(pr(u)))}function J5(u){var g=++jm;return pr(u)+g}var Y5=xe(function(u,g){return u+g},0),q5=Jt("ceil"),Q5=xe(function(u,g){return u/g},1),Z5=Jt("floor");function e8(u){return u&&u.length?Ff(u,_s,Uf):t}function t8(u,g){return u&&u.length?Ff(u,dn(g,2),Uf):t}function n8(u){return _f(u,_s)}function r8(u,g){return _f(u,dn(g,2))}function i8(u){return u&&u.length?Ff(u,_s,kf):t}function o8(u,g){return u&&u.length?Ff(u,dn(g,2),kf):t}var s8=xe(function(u,g){return u*g},1),a8=Jt("round"),l8=xe(function(u,g){return u-g},0);function c8(u){return u&&u.length?Os(u,_s):0}function u8(u,g){return u&&u.length?Os(u,dn(g,2)):0}return $.after=B4,$.ary=UR,$.assign=xG,$.assignIn=QR,$.assignInWith=Oy,$.assignWith=_G,$.at=SG,$.before=kR,$.bind=hA,$.bindAll=E5,$.bindKey=zR,$.castArray=W4,$.chain=DR,$.chunk=Zz,$.compact=eH,$.concat=tH,$.cond=b5,$.conforms=T5,$.constant=_A,$.countBy=c4,$.create=AG,$.curry=HR,$.curryRight=GR,$.debounce=VR,$.defaults=MG,$.defaultsDeep=wG,$.defer=L4,$.delay=O4,$.difference=nH,$.differenceBy=rH,$.differenceWith=iH,$.drop=oH,$.dropRight=sH,$.dropRightWhile=aH,$.dropWhile=lH,$.fill=cH,$.filter=f4,$.flatMap=p4,$.flatMapDeep=m4,$.flatMapDepth=g4,$.flatten=IR,$.flattenDeep=uH,$.flattenDepth=fH,$.flip=D4,$.flow=P5,$.flowRight=I5,$.fromPairs=dH,$.functions=IG,$.functionsIn=BG,$.groupBy=v4,$.initial=pH,$.intersection=mH,$.intersectionBy=gH,$.intersectionWith=vH,$.invert=OG,$.invertBy=DG,$.invokeMap=x4,$.iteratee=SA,$.keyBy=_4,$.keys=ro,$.keysIn=xs,$.map=Ty,$.mapKeys=NG,$.mapValues=UG,$.matches=B5,$.matchesProperty=L5,$.memoize=Py,$.merge=kG,$.mergeWith=ZR,$.method=O5,$.methodOf=D5,$.mixin=AA,$.negate=Iy,$.nthArg=N5,$.omit=zG,$.omitBy=HG,$.once=F4,$.orderBy=S4,$.over=U5,$.overArgs=N4,$.overEvery=k5,$.overSome=z5,$.partial=pA,$.partialRight=WR,$.partition=A4,$.pick=GG,$.pickBy=eP,$.property=aP,$.propertyOf=H5,$.pull=SH,$.pullAll=LR,$.pullAllBy=AH,$.pullAllWith=MH,$.pullAt=wH,$.range=G5,$.rangeRight=V5,$.rearg=U4,$.reject=C4,$.remove=CH,$.rest=k4,$.reverse=fA,$.sampleSize=b4,$.set=WG,$.setWith=$G,$.shuffle=T4,$.slice=EH,$.sortBy=I4,$.sortedUniq=LH,$.sortedUniqBy=OH,$.split=p5,$.spread=z4,$.tail=DH,$.take=FH,$.takeRight=NH,$.takeRightWhile=UH,$.takeWhile=kH,$.tap=e4,$.throttle=H4,$.thru=by,$.toArray=JR,$.toPairs=tP,$.toPairsIn=nP,$.toPath=K5,$.toPlainObject=qR,$.transform=jG,$.unary=G4,$.union=zH,$.unionBy=HH,$.unionWith=GH,$.uniq=VH,$.uniqBy=WH,$.uniqWith=$H,$.unset=XG,$.unzip=dA,$.unzipWith=OR,$.update=KG,$.updateWith=JG,$.values=Vh,$.valuesIn=YG,$.without=jH,$.words=oP,$.wrap=V4,$.xor=XH,$.xorBy=KH,$.xorWith=JH,$.zip=YH,$.zipObject=qH,$.zipObjectDeep=QH,$.zipWith=ZH,$.entries=tP,$.entriesIn=nP,$.extend=QR,$.extendWith=Oy,AA($,$),$.add=Y5,$.attempt=sP,$.camelCase=e5,$.capitalize=rP,$.ceil=q5,$.clamp=qG,$.clone=$4,$.cloneDeep=X4,$.cloneDeepWith=K4,$.cloneWith=j4,$.conformsTo=J4,$.deburr=iP,$.defaultTo=R5,$.divide=Q5,$.endsWith=t5,$.eq=Za,$.escape=n5,$.escapeRegExp=r5,$.every=u4,$.find=d4,$.findIndex=RR,$.findKey=CG,$.findLast=h4,$.findLastIndex=PR,$.findLastKey=EG,$.floor=Z5,$.forEach=FR,$.forEachRight=NR,$.forIn=bG,$.forInRight=TG,$.forOwn=RG,$.forOwnRight=PG,$.get=vA,$.gt=Y4,$.gte=q4,$.has=LG,$.hasIn=yA,$.head=BR,$.identity=_s,$.includes=y4,$.indexOf=hH,$.inRange=QG,$.invoke=FG,$.isArguments=Kf,$.isArray=Bn,$.isArrayBuffer=Q4,$.isArrayLike=ys,$.isArrayLikeObject=Si,$.isBoolean=Z4,$.isBuffer=wu,$.isDate=eG,$.isElement=tG,$.isEmpty=nG,$.isEqual=rG,$.isEqualWith=iG,$.isError=mA,$.isFinite=oG,$.isFunction=pc,$.isInteger=$R,$.isLength=By,$.isMap=jR,$.isMatch=sG,$.isMatchWith=aG,$.isNaN=lG,$.isNative=cG,$.isNil=fG,$.isNull=uG,$.isNumber=XR,$.isObject=Zr,$.isObjectLike=ui,$.isPlainObject=wg,$.isRegExp=gA,$.isSafeInteger=dG,$.isSet=KR,$.isString=Ly,$.isSymbol=Gs,$.isTypedArray=Gh,$.isUndefined=hG,$.isWeakMap=pG,$.isWeakSet=mG,$.join=yH,$.kebabCase=i5,$.last=wa,$.lastIndexOf=xH,$.lowerCase=o5,$.lowerFirst=s5,$.lt=gG,$.lte=vG,$.max=e8,$.maxBy=t8,$.mean=n8,$.meanBy=r8,$.min=i8,$.minBy=o8,$.stubArray=wA,$.stubFalse=CA,$.stubObject=W5,$.stubString=$5,$.stubTrue=j5,$.multiply=s8,$.nth=_H,$.noConflict=F5,$.noop=MA,$.now=Ry,$.pad=a5,$.padEnd=l5,$.padStart=c5,$.parseInt=u5,$.random=ZG,$.reduce=M4,$.reduceRight=w4,$.repeat=f5,$.replace=d5,$.result=VG,$.round=a8,$.runInContext=ye,$.sample=E4,$.size=R4,$.snakeCase=h5,$.some=P4,$.sortedIndex=bH,$.sortedIndexBy=TH,$.sortedIndexOf=RH,$.sortedLastIndex=PH,$.sortedLastIndexBy=IH,$.sortedLastIndexOf=BH,$.startCase=m5,$.startsWith=g5,$.subtract=l8,$.sum=c8,$.sumBy=u8,$.template=v5,$.times=X5,$.toFinite=mc,$.toInteger=zn,$.toLength=YR,$.toLower=y5,$.toNumber=Ca,$.toSafeInteger=yG,$.toString=pr,$.toUpper=x5,$.trim=_5,$.trimEnd=S5,$.trimStart=A5,$.truncate=M5,$.unescape=w5,$.uniqueId=J5,$.upperCase=C5,$.upperFirst=xA,$.each=FR,$.eachRight=NR,$.first=BR,AA($,function(){var u={};return Go($,function(g,C){sr.call($.prototype,C)||(u[C]=g)}),u}(),{chain:!1}),$.VERSION=r,vi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){$[u].placeholder=$}),vi(["drop","take"],function(u,g){fn.prototype[u]=function(C){C=C===t?1:xi(zn(C),0);var D=this.__filtered__&&!g?new fn(this):this.clone();return D.__filtered__?D.__takeCount__=Ji(C,D.__takeCount__):D.__views__.push({size:Ji(C,re),type:u+(D.__dir__<0?"Right":"")}),D},fn.prototype[u+"Right"]=function(C){return this.reverse()[u](C).reverse()}}),vi(["filter","map","takeWhile"],function(u,g){var C=g+1,D=C==ie||C==K;fn.prototype[u]=function(W){var q=this.clone();return q.__iteratees__.push({iteratee:dn(W,3),type:C}),q.__filtered__=q.__filtered__||D,q}}),vi(["head","last"],function(u,g){var C="take"+(g?"Right":"");fn.prototype[u]=function(){return this[C](1).value()[0]}}),vi(["initial","tail"],function(u,g){var C="drop"+(g?"":"Right");fn.prototype[u]=function(){return this.__filtered__?new fn(this):this[C](1)}}),fn.prototype.compact=function(){return this.filter(_s)},fn.prototype.find=function(u){return this.filter(u).head()},fn.prototype.findLast=function(u){return this.reverse().find(u)},fn.prototype.invokeMap=un(function(u,g){return typeof u=="function"?new fn(this):this.map(function(C){return Rr(C,u,g)})}),fn.prototype.reject=function(u){return this.filter(Iy(dn(u)))},fn.prototype.slice=function(u,g){u=zn(u);var C=this;return C.__filtered__&&(u>0||g<0)?new fn(C):(u<0?C=C.takeRight(-u):u&&(C=C.drop(u)),g!==t&&(g=zn(g),C=g<0?C.dropRight(-g):C.take(g-u)),C)},fn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},fn.prototype.toArray=function(){return this.take(re)},Go(fn.prototype,function(u,g){var C=/^(?:filter|find|map|reject)|While$/.test(g),D=/^(?:head|last)$/.test(g),W=$[D?"take"+(g=="last"?"Right":""):g],q=D||/^find/.test(g);W&&($.prototype[g]=function(){var ue=this.__wrapped__,ve=D?[1]:arguments,Ee=ue instanceof fn,tt=ve[0],nt=Ee||Bn(ue),at=function(Xn){var er=W.apply($,Bs([Xn],ve));return D&&Lt?er[0]:er};nt&&C&&typeof tt=="function"&&tt.length!=1&&(Ee=nt=!1);var Lt=this.__chain__,Zt=!!this.__actions__.length,pn=q&&!Lt,Gn=Ee&&!Zt;if(!q&&nt){ue=Gn?ue:new fn(this);var mn=u.apply(ue,ve);return mn.__actions__.push({func:by,args:[at],thisArg:t}),new Yi(mn,Lt)}return pn&&Gn?u.apply(this,ve):(mn=this.thru(at),pn?D?mn.value()[0]:mn.value():mn)})}),vi(["pop","push","shift","sort","splice","unshift"],function(u){var g=Cl[u],C=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",D=/^(?:pop|shift)$/.test(u);$.prototype[u]=function(){var W=arguments;if(D&&!this.__chain__){var q=this.value();return g.apply(Bn(q)?q:[],W)}return this[C](function(ue){return g.apply(Bn(ue)?ue:[],W)})}}),Go(fn.prototype,function(u,g){var C=$[g];if(C){var D=C.name+"";sr.call(sc,D)||(sc[D]=[]),sc[D].push({name:g,func:C})}}),sc[z(t,y).name]=[{name:"wrapper",func:t}],fn.prototype.clone=J1,fn.prototype.reverse=Y1,fn.prototype.value=zo,$.prototype.at=t4,$.prototype.chain=n4,$.prototype.commit=r4,$.prototype.next=i4,$.prototype.plant=s4,$.prototype.reverse=a4,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=l4,$.prototype.first=$.prototype.head,bl&&($.prototype[bl]=o4),$},wl=G0();jt?((jt.exports=wl)._=wl,cn._=wl):yt._=wl}).call(Pc)})(BS,BS.exports);BS.exports;const Do=R.createContext({language:"en",toggleLanguage:()=>{},orbitLineState:!1,toggleOrbitLine:()=>{},planetSpeed:1,handleSpeedPlanet:()=>{}}),sae=({children:n})=>{const[e,t]=R.useState("en"),[r,i]=R.useState(!1),[o,s]=R.useState(1);R.useEffect(()=>{f(e)},[e]);const a=()=>{t(p=>p==="en"?"vn":"en")},l=()=>{i(p=>!p)},c=p=>{s(p)},f=async p=>{let m;p==="en"?m=await MB(()=>import("./en_US-DIwWXmBi.js"),[]):p==="vn"&&(m=await MB(()=>import("./vi_VN-DPcHQzVe.js"),[])),Tn.init({currentLocale:p,locales:{[p]:m.default}})};return Le.jsx(Do.Provider,{value:{language:e,toggleLanguage:a,orbitLineState:r,toggleOrbitLine:l,planetSpeed:o,handleSpeedPlanet:c},children:n})},gR=R.createContext({selectedPlanet:null,selectPlanet:()=>{},showStructure:!1,setShowStructure:()=>{}}),aae=({children:n})=>{const{handleSpeedPlanet:e}=R.useContext(Do),[t,r]=R.useState(null),[i,o]=R.useState(!1),s=l=>{r(l),l!==null&&e(0)},a=l=>{o(l)};return Le.jsx(gR.Provider,{value:{selectedPlanet:t,selectPlanet:s,showStructure:i,structurePlanet:a},children:n})},L0=()=>{const n=R.useContext(gR);if(!n)throw new Error("usePlanet must be used within a PlanetProvider");return n},lae=({event:n})=>{const{camera:e}=ll(),t=R.useRef();return R.useEffect(()=>{const r=()=>{t.current.position};return t.current=e,window.addEventListener(n,r),()=>{window.removeEventListener(n,r)}},[]),null},cae=()=>{const n=R.useRef();return os(()=>{n.current.rotation.x+=1e-4,n.current.rotation.y+=1e-4,n.current.rotation.z+=1e-4}),Le.jsx(vq,{ref:n,radius:200,depth:100,count:5e3,factor:10,saturation:0,speed:2})},uae="/assets/sun_map.jpg",bz=()=>{const n=R.useRef(),{orbitLineState:e,planetSpeed:t}=R.useContext(Do),{selectedPlanet:r}=L0(),[i]=Va([uae]);os(()=>{n.current.rotation.y-=.002*t});const s=Object.entries({Mercury:3.51,Venus:6.507,Earth:10.5,Mars:16,Jupiter:46.827,Saturn:85.851,Uranus:172.62,Neptune:270.63}).map(([a,l])=>Le.jsxs("mesh",{name:a,rotation:[Math.PI/2,0,0],children:[Le.jsx("ringGeometry",{args:[l-.05,l+.05,80]}),Le.jsx("meshBasicMaterial",{color:16116076,opacity:.2,transparent:!0,side:Qs})]},a));return Le.jsxs("group",{children:[Le.jsxs("mesh",{name:"Sun",ref:n,position:[0,0,0],children:[Le.jsx("sphereGeometry",{args:[1.5,50,50]}),Le.jsx("meshPhongMaterial",{map:i,emissiveMap:i,emissiveIntensity:1,emissive:16777215}),Le.jsx("pointLight",{castShadow:!0,intensity:100,distance:1e4,decay:1,color:16777215,position:[0,0,0]})]}),e==!0&&r!="Sun"&&s]})},fae="/assets/mercury_map.jpg",Tz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([fae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.4787*e,f=3.51,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=1e-4*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Mercury",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[.383,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})},dae="/assets/venus_map.jpeg",Rz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([dae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.3502*e,f=6.507,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=.006*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Venus",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[.949,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})};class Rw{constructor(e){this.top=0,this.array=new Float32Array(e)}write(e){this.array[this.top++]=e.x,this.array[this.top++]=e.y,this.array[this.top++]=e.z}}class hae{constructor(e){this.top=0,this.array=new Float32Array(e)}write(e){this.array[this.top++]=e.x,this.array[this.top++]=e.y}}class Hl{constructor(e){this.plane=null,this.front=null,this.back=null,this.polygons=[],e&&this.build(e)}clone(){const e=new Hl;return e.plane=this.plane&&this.plane.clone(),e.front=this.front&&this.front.clone(),e.back=this.back&&this.back.clone(),e.polygons=this.polygons.map(t=>t.clone()),e}invert(){for(let t=0;t<this.polygons.length;t++)this.polygons[t].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const e=this.front;this.front=this.back,this.back=e}clipPolygons(e){if(!this.plane)return e.slice();let t=new Array,r=new Array;for(let i=0;i<e.length;i++)this.plane.splitPolygon(e[i],t,r,t,r);return this.front&&(t=this.front.clipPolygons(t)),this.back?r=this.back.clipPolygons(r):r=[],t.concat(r)}clipTo(e){this.polygons=e.clipPolygons(this.polygons),this.front&&this.front.clipTo(e),this.back&&this.back.clipTo(e)}allPolygons(){let e=this.polygons.slice();return this.front&&(e=e.concat(this.front.allPolygons())),this.back&&(e=e.concat(this.back.allPolygons())),e}build(e){if(!e.length)return;this.plane||(this.plane=e[0].plane.clone());const t=[],r=[];for(let i=0;i<e.length;i++)this.plane.splitPolygon(e[i],this.polygons,this.polygons,t,r);t.length&&(this.front||(this.front=new Hl),this.front.build(t)),r.length&&(this.back||(this.back=new Hl),this.back.build(r))}}class Cs{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}clone(){return new Cs(this.x,this.y,this.z)}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}times(e){return this.x*=e,this.y*=e,this.z*=e,this}dividedBy(e){return this.x/=e,this.y/=e,this.z/=e,this}lerp(e,t){return this.add(new Cs().copy(e).sub(this).times(t))}unit(){return this.dividedBy(this.length())}length(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}normalize(){return this.unit()}cross(e){const t=this.clone(),r=t.x,i=t.y,o=t.z,s=e.x,a=e.y,l=e.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}toVector3(){return new ee(this.x,this.y,this.z)}}class Pd{constructor(e,t){this.normal=e,this.w=t,this.normal=e,this.w=t}clone(){return new Pd(this.normal.clone(),this.w)}flip(){this.normal.negate(),this.w=-this.w}splitPolygon(e,t,r,i,o){let f=0;const p=[];for(let m=0;m<e.vertices.length;m++){const v=this.normal.dot(e.vertices[m].pos)-this.w,x=v<-Pd.EPSILON?2:v>Pd.EPSILON?1:0;f|=x,p.push(x)}switch(f){case 0:(this.normal.dot(e.plane.normal)>0?t:r).push(e);break;case 1:i.push(e);break;case 2:o.push(e);break;case 3:{const m=[],v=[];for(let x=0;x<e.vertices.length;x++){const S=(x+1)%e.vertices.length,_=p[x],y=p[S],A=e.vertices[x],w=e.vertices[S];if(_!=2&&m.push(A),_!=1&&v.push(_!=2?A.clone():A),(_|y)==3){const E=(this.w-this.normal.dot(A.pos))/this.normal.dot(new Cs().copy(w.pos).sub(A.pos)),I=A.interpolate(w,E);m.push(I),v.push(I.clone())}}m.length>=3&&i.push(new wm(m,e.shared)),v.length>=3&&o.push(new wm(v,e.shared));break}}}static fromPoints(e,t,r){const i=new Cs().copy(t).sub(e).cross(new Cs().copy(r).sub(e)).normalize();return new Pd(i.clone(),i.dot(e))}}Pd.EPSILON=1e-5;class wm{constructor(e,t){this.vertices=e,this.shared=t,this.plane=Pd.fromPoints(e[0].pos,e[1].pos,e[2].pos)}clone(){return new wm(this.vertices.map(e=>e.clone()),this.shared)}flip(){this.vertices.reverse().map(e=>e.flip()),this.plane.flip()}}class LS{constructor(e,t,r,i){this.pos=new Cs().copy(e),this.normal=new Cs().copy(t),this.uv=new Cs().copy(r),this.uv.z=0,i&&(this.color=new Cs().copy(i))}clone(){return new LS(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(e,t){return new LS(this.pos.clone().lerp(e.pos,t),this.normal.clone().lerp(e.normal,t),this.uv.clone().lerp(e.uv,t),this.color&&e.color&&this.color.clone().lerp(e.color,t))}}class Gr{constructor(){this.polygons=[]}static fromPolygons(e){const t=new Gr;return t.polygons=e,t}static fromGeometry(e,t){let r=[];const i=e.attributes.position,o=e.attributes.normal,s=e.attributes.uv,a=e.attributes.color,l=e.groups;let c;if(e.index)c=e.index.array;else{c=new Uint16Array(i.array.length/i.itemSize|0);for(let p=0;p<c.length;p++)c[p]=p}const f=c.length/3|0;r=new Array(f);for(let p=0,m=0,v=c.length;p<v;p+=3,m++){const x=new Array(3);for(let S=0;S<3;S++){const _=c[p+S],y=_*3,A=_*2,w=i.array[y],E=i.array[y+1],I=i.array[y+2],P=o.array[y],L=o.array[y+1],U=o.array[y+2],F=s==null?void 0:s.array[A],O=s==null?void 0:s.array[A+1];x[S]=new LS(new Cs(w,E,I),new Cs(P,L,U),new Cs(F,O,0),a&&new Cs(a.array[y],a.array[y+1],a.array[y+2]))}if(t===void 0&&l&&l.length>0)for(const S of l)p>=S.start&&p<S.start+S.count&&(r[m]=new wm(x,S.materialIndex));else r[m]=new wm(x,t)}return Gr.fromPolygons(r.filter(p=>!Number.isNaN(p.plane.normal.x)))}static toGeometry(e,t){let r=0;const i=e.polygons;for(const v of i)r+=v.vertices.length-2;const o=new Pn,s=new Rw(r*3*3),a=new Rw(r*3*3),l=new hae(r*2*3);let c;const f=[],p=[];for(const v of i){const x=v.vertices,S=x.length;v.shared!==void 0&&(f[v.shared]||(f[v.shared]=[])),S&&x[0].color!==void 0&&(c||(c=new Rw(r*3*3)));for(let _=3;_<=S;_++)(v.shared===void 0?p:f[v.shared]).push(s.top/3,s.top/3+1,s.top/3+2),s.write(x[0].pos),s.write(x[_-2].pos),s.write(x[_-1].pos),a.write(x[0].normal),a.write(x[_-2].normal),a.write(x[_-1].normal),l&&(l.write(x[0].uv),l.write(x[_-2].uv),l.write(x[_-1].uv)),c&&(c.write(x[0].color),c.write(x[_-2].color),c.write(x[_-1].color))}o.setAttribute("position",new jn(s.array,3)),o.setAttribute("normal",new jn(a.array,3)),l&&o.setAttribute("uv",new jn(l.array,2)),c&&o.setAttribute("color",new jn(c.array,3));for(let v=0;v<f.length;v++)f[v]===void 0&&(f[v]=[]);if(f.length){let v=[],x=0;for(let S=0;S<f.length;S++)o.addGroup(x,f[S].length,S),x+=f[S].length,v=v.concat(f[S]);o.addGroup(x,p.length,f.length),v=v.concat(p),o.setIndex(v)}const m=new an().copy(t).invert();return o.applyMatrix4(m),o.computeBoundingSphere(),o.computeBoundingBox(),o}static fromMesh(e,t){const r=Gr.fromGeometry(e.geometry,t),i=new ee,o=new Ln;o.getNormalMatrix(e.matrix);for(let s=0;s<r.polygons.length;s++){const a=r.polygons[s];for(let l=0;l<a.vertices.length;l++){const c=a.vertices[l];c.pos.copy(i.copy(c.pos.toVector3()).applyMatrix4(e.matrix)),c.normal.copy(i.copy(c.normal.toVector3()).applyMatrix3(o))}}return r}static toMesh(e,t,r){const i=Gr.toGeometry(e,t),o=new Ur(i,r);return o.matrix.copy(t),o.matrix.decompose(o.position,o.quaternion,o.scale),o.rotation.setFromQuaternion(o.quaternion),o.updateMatrixWorld(),o.castShadow=o.receiveShadow=!0,o}static union(e,t){const r=Gr.fromMesh(e),i=Gr.fromMesh(t);return Gr.toMesh(r.union(i),e.matrix,e.material)}static subtract(e,t){const r=Gr.fromMesh(e),i=Gr.fromMesh(t);return Gr.toMesh(r.subtract(i),e.matrix,e.material)}static intersect(e,t){const r=Gr.fromMesh(e),i=Gr.fromMesh(t);return Gr.toMesh(r.intersect(i),e.matrix,e.material)}clone(){const e=new Gr;return e.polygons=this.polygons.map(t=>t.clone()).filter(t=>Number.isFinite(t.plane.w)),e}toPolygons(){return this.polygons}union(e){const t=new Hl(this.clone().polygons),r=new Hl(e.clone().polygons);return t.clipTo(r),r.clipTo(t),r.invert(),r.clipTo(t),r.invert(),t.build(r.allPolygons()),Gr.fromPolygons(t.allPolygons())}subtract(e){const t=new Hl(this.clone().polygons),r=new Hl(e.clone().polygons);return t.invert(),t.clipTo(r),r.clipTo(t),r.invert(),r.clipTo(t),r.invert(),t.build(r.allPolygons()),t.invert(),Gr.fromPolygons(t.allPolygons())}intersect(e){const t=new Hl(this.clone().polygons),r=new Hl(e.clone().polygons);return t.invert(),r.clipTo(t),r.invert(),t.clipTo(r),r.clipTo(t),t.build(r.allPolygons()),t.invert(),Gr.fromPolygons(t.allPolygons())}inverse(){const e=this.clone();for(const t of e.polygons)t.flip();return e}toMesh(e,t){return Gr.toMesh(this,e,t)}toGeometry(e){return Gr.toGeometry(this,e)}}const pae="/assets/moon_map.jpg",Pz=()=>{const{planetSpeed:n}=R.useContext(Do),e=R.useRef(),t=R.useRef(0),[r,i]=R.useState(new ee(0,0,0)),[o]=Va([pae]);return os(({clock:s})=>{const a=s.getElapsedTime();if(n!==0){const l=a*.03*n,c=2,f=Math.sin(l)*c,p=Math.cos(l)*c;e.current.position.set(f,0,p),e.current.rotation.y+=.002*n,i(new ee(f,0,p))}else e.current.position.copy(r);t.current=a}),Le.jsxs("mesh",{name:"Moon",castShadow:!0,receiveShadow:!0,ref:e,position:[0,0,0],children:[Le.jsx("sphereGeometry",{args:[.27,32,32]}),Le.jsx("meshPhongMaterial",{map:o})]})},mae=()=>{const n=R.useRef(),e=R.useMemo(()=>C1("/ISSModel/ISS_stationary.gltf")),t=1.5;return os(({clock:r})=>{n.current.position.x=Math.sin(r.getElapsedTime()*.8)*t,n.current.position.z=Math.cos(r.getElapsedTime()*.8)*t}),Le.jsx("mesh",{name:"ISS",children:Le.jsx("primitive",{ref:n,object:e.scene,position:[t,0,0],scale:.005})})},gae="/assets/earth_day.jpg",vae="/assets/earth_normal.jpg",yae="/assets/earth_specular.jpg",xae="/assets/earth_displacement.jpg",_ae="/assets/earth_nightmap.jpeg",Iz=({displacementScale:n})=>{const{orbitLineState:e,planetSpeed:t}=R.useContext(Do),{selectedPlanet:r}=L0(),{showStructure:i}=R.useContext(gR),[o,s]=R.useState(!1),a=R.useRef(),l=R.useRef(0),[c,f]=R.useState(new ee(0,0,0)),[p,m,v,x,S]=Va([gae,vae,yae,xae,_ae]);os(({clock:I})=>{const P=I.getElapsedTime();if(t!==0){const L=P*.2978*t,U=10.5,F=Math.sin(L)*U,O=Math.cos(L)*U;a.current.position.set(F,0,O),a.current.rotation.y+=.0043*t,f(new ee(F,0,O))}else a.current.position.copy(c);l.current=P});const[_,y]=R.useState(null),A=Math.PI+Math.PI/2-Math.PI/3;R.useEffect(()=>{if(i){const I=w(.98,A,A,.85),P=w(.85,A,Math.PI+Math.PI/6+Math.PI/12,.5),L=w(.5,A,Math.PI+Math.PI/3,.2);y({Crust:I,Mantle:P,OuterCore:L})}},[i]);const w=(I,P,L,U=0)=>{try{const F=new qd(I,32,32,P,L),O=new lf(I*2,I*2);O.rotateY(P);const G=new lf(I*2,I*2);G.rotateY(L);const te=new Ur(F),Z=new Ur(O),ie=new Ur(G),se=Gr.fromMesh(te),K=Gr.fromMesh(Z),X=Gr.fromMesh(ie),N=K.intersect(X);let j=se.subtract(N);if(U>0){const re=new qd(U,32,32,P,L),pe=new Ur(re),Me=Gr.fromMesh(pe);j=j.subtract(Me)}return Gr.toMesh(j,te.matrix).geometry}catch(F){return console.error("CSG Operation Failed:",F),null}},E=()=>{if(r==="Earth"&&i&&_){const{Crust:I,Mantle:P,OuterCore:L}=_;return Le.jsxs("group",{ref:a,name:"Earth",castShadow:!0,receiveShadow:!0,children:[Le.jsxs("mesh",{name:"Surface",children:[Le.jsx("sphereGeometry",{args:[1,50,50,A,Math.PI]}),Le.jsx("meshPhongMaterial",{map:p,normalMap:m,specularMap:v,shininess:1e3,displacementMap:x,displacementScale:.15,emissiveMap:S,emissive:16777215,emissiveIntensity:o?20:1.5})]}),I&&Le.jsx("mesh",{name:"Crust",geometry:I,children:Le.jsx("meshPhongMaterial",{color:"brown"})}),P&&Le.jsx("mesh",{name:"Mantle",geometry:P,children:Le.jsx("meshPhongMaterial",{color:"red"})}),L&&Le.jsx("mesh",{name:"OuterCore",geometry:L,children:Le.jsx("meshPhongMaterial",{color:"orange"})}),Le.jsxs("mesh",{name:"InnerCore",children:[Le.jsx("sphereGeometry",{args:[.2,50,50,A,2*Math.PI]}),Le.jsx("meshPhongMaterial",{color:"yellow"})]})]})}else return Le.jsxs("mesh",{ref:a,name:"Earth",castShadow:!0,receiveShadow:!0,onPointerOver:()=>s(!0),onPointerOut:()=>s(!1),children:[Le.jsx("sphereGeometry",{args:[1,50,50]}),Le.jsx("meshPhongMaterial",{map:p,normalMap:m,specularMap:v,shininess:1e3,displacementMap:x,displacementScale:.15,emissiveMap:S,emissive:16777215,emissiveIntensity:o?20:1.5})]})};return Le.jsxs("group",{ref:a,children:[E(),!i&&Le.jsx(mae,{}),r!=="Earth"&&Le.jsxs("group",{children:[Le.jsx(Pz,{}),e&&Le.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[Le.jsx("ringGeometry",{args:[1.95,2.05,80]}),Le.jsx("meshBasicMaterial",{color:16116076,opacity:.2,transparent:!0,side:Qs})]})]})]})},Sae="/assets/mars_map.jpeg",Bz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([Sae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.2408*e,f=16,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=.024*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Mars",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[.532,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})},Aae="/assets/jupiter_map.jpeg",Lz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([Aae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.1305*e,f=46.827,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=.00987*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Jupiter",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[11.21,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})},Mae="/assets/saturn_map.jpeg",wae="/assets/saturnRing_map.png",Oz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s,a]=Va([Mae,wae]);return os(({clock:l})=>{const c=l.getElapsedTime();if(e!==0){const f=c*.0964*e,p=85.851,m=Math.sin(f)*p,v=Math.cos(f)*p;t.current.position.set(m,0,v),t.current.rotation.y+=.01057*e,o(new ee(m,0,v))}else t.current.position.copy(i);r.current=c}),Le.jsxs("group",{ref:t,children:[Le.jsxs("mesh",{name:"Saturn",castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[9.45,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]}),Le.jsxs("mesh",{name:"Saturn",castShadow:!0,receiveShadow:!0,rotation:[Math.PI/2.2,0,0],children:[Le.jsx("torusGeometry",{position:[0,0,0],args:[13.9,2.5,2,100],rotateX:Math.Pi/4}),Le.jsx("meshPhongMaterial",{map:a})]})]})},Cae="/assets/uranus_map.jpeg",Dz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([Cae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.06795*e,f=172.62,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=.01129*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Uranus",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[4.01,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})},Eae="/assets/neptune_map.jpeg",Fz=({displacementScale:n})=>{const{planetSpeed:e}=R.useContext(Do),t=R.useRef(),r=R.useRef(0),[i,o]=R.useState(new ee(0,0,0)),[s]=Va([Eae]);return os(({clock:a})=>{const l=a.getElapsedTime();if(e!==0){const c=l*.05432*e,f=270.63,p=Math.sin(c)*f,m=Math.cos(c)*f;t.current.position.set(p,0,m),t.current.rotation.y+=.006*e,o(new ee(p,0,m))}else t.current.position.copy(i);r.current=l}),Le.jsxs("mesh",{name:"Neptune",ref:t,castShadow:!0,receiveShadow:!0,children:[Le.jsx("sphereGeometry",{args:[3.88,32,32]}),Le.jsx("meshPhongMaterial",{map:s,shininess:1e3,displacementScale:n})]})},bae={Sun:bz,Mercury:Tz,Venus:Rz,Earth:Iz,Mars:Bz,Jupiter:Lz,Saturn:Oz,Uranus:Dz,Neptune:Fz,Moon:Pz},Tae=({planetName:n})=>{const e=bae[n];return Le.jsxs(Le.Fragment,{children:[Le.jsx("pointLight",{castShadow:!0,intensity:100,distance:1e4,decay:1,color:16777215,position:[10,0,10]}),Le.jsx(e,{onClick:()=>handlePlanetClick(n),onPointerOver:()=>setHoveredObject(!0),onPointerOut:()=>setHoveredObject(!1),displacementScale:n==="Earth"?.15:0,planetPosition:[0,0,0]},n)]})},Rae=()=>{const n=R.useRef(),e=R.useRef();wB(n,cE,1,"hotpink"),wB(e,cE,1,"hotpink");const{selectedPlanet:t,selectPlanet:r}=L0(),[i,o]=R.useState(!1);R.useEffect(()=>{document.body.style.cursor=i&&i!="ISS"?"pointer":"auto"},[i]);const s=a=>{r(a)};return Le.jsxs(Le.Fragment,{children:[Le.jsx(lae,{event:"mousedown"}),Le.jsx(cae,{}),Le.jsx("ambientLight",{castShadow:!0,intensity:.1}),Le.jsx("pointLight",{castShadow:!0,intensity:2,distance:100,decay:2,color:16777215,position:[0,0,0]}),t==null?Le.jsxs("group",{onClick:a=>s(a.object.name),onPointerOver:()=>o(!0),onPointerOut:()=>o(!1),children:[Le.jsx(bz,{}),Le.jsx(Tz,{}),Le.jsx(Rz,{}),Le.jsx(Iz,{displacementScale:.15}),Le.jsx(Bz,{}),Le.jsx(Lz,{}),Le.jsx(Oz,{}),Le.jsx(Dz,{}),Le.jsx(Fz,{})]}):Le.jsx(Tae,{planetName:t})]})},Pae="/icons/england.png",Iae="/icons/vietnam.png",Bae=()=>{const{language:n,toggleLanguage:e}=R.useContext(Do),t=()=>{e()};return Le.jsx("div",{style:{backgroundColor:"#15151e",display:"flex",justifyContent:"start"},children:Le.jsx("span",{onClick:t,style:{cursor:"pointer",marginRight:"10px"},children:n==="en"?Le.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Le.jsx("img",{src:Pae,alt:"English Flag"}),Tn.get("language.english")]}):Le.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Le.jsx("img",{src:Iae,alt:"Vietnamese Flag"}),Tn.get("language.vietnamese")]})})})},Lae=()=>{const{toggleOrbitLine:n}=R.useContext(Do),e=t=>{n()};return Le.jsx(hR,{onChange:e,children:Tn.get("settings.orbitLine")})},Oae={introduction:"The Sun, also referred to as Sol, is the star at the center of the Solar System. Sun's mass accounts for some 99.86% of the total mass of the Solar System.",encyclopedia:"0",equatorialDiameter:"1.39 M KM",mass:"1.99 x 10^30 KG",distance:"26 038 LY (Galaxy Center)",rotationPeriod:"25 DAYS",orbitPeriod:"225 M YEARS",surfaceGravity:"274 M/S^2",surfaceTemperature:"5778 K (5505 C)",information:{composition:"Roughly three-quarters of the Sun's mass is hydrogen, with the rest mostly helium. Only 1.69% of the Sun (which is still 5628 times the mass of the Earth) is made up of heavier elements like carbon, iron, neon and oxygen.",distance:"The mean distance of the Sun from the Earth is approximately 149.6 million kilometers (1 AU). On average, it takes light from the Sun about 8 minutes and 19 seconds to reach the Earth.",galaxy:"Once thought to be a relatively insignificant star, the Sun is now considered to be brighter than about 85% of the stars in the Milky Way galaxy."}},Dae={introduction:"Mercury is the innermost and smallest planet of the Solar System. Because it has almost no atmosphere to retain heat, Mercury's surface experiences the greatest temperature variation of all the planets.",encyclopedia:"0",equatorialDiameter:"4879 KM",mass:"3.3 x 10^23 KG",distance:"58 M KM (From Sun)",rotationPeriod:"59 DAYS",orbitPeriod:"88 DAYS",surfaceGravity:"3.7 M/S^2",surfaceTemperature:"167 C",information:{composition:"Mercury's composition is mainly metallic with a silicate mantle. It has a relatively large iron core which is about 40% of its volume.",distance:"Mercury's orbit is highly eccentric, meaning it is considerably elliptical. Its closest approach to the Sun (perihelion) is about 46 million kilometers while the farthest point (aphelion) is about 70 million kilometers.",observation:"Mercury appears as a morning or evening star from Earth, but due to its proximity to Sun, it is very hard to see. Still, Mercury can be observed at least twice a year: in spring at dusk and in autumn before dawn."}},Fae={introduction:"Although Venus has very similar size and interior structure as Earth, its vulcanic surface and extremely hot and dense atmosphere makes it one of the most inhospitable places in the Solar System.",encyclopedia:"0",equatorialDiameter:"12104 KM",mass:"4.9 x 10^24 KG",distance:"108 M KM (From Sun)",rotationPeriod:"243 DAYS",orbitPeriod:"225 DAYS",surfaceGravity:"8.9 M/S^2",surfaceTemperature:"462 C",information:{atmosphere:"Thick clouds of sulfuric acid and dust reflect most of the Sun's light back to space, while carbon dioxide traps the Sun's heat inside the atmosphere, causing a runaway greenhouse effect.",observation:"Venus is one of the brightest objects in our night sky second only to the Moon. It appears as either an evening or a morning star."}},Nae={introduction:"Our homeworld is the densest of the eight planets in the Solar System. It is also the largest of the four terrestrial planets.",encyclopedia:"0",equatorialDiameter:"12756 KM",mass:"6 x 10^24 KG",distance:"150 M KM (From Sun)",rotationPeriod:"23H 56M",orbitPeriod:"1 YEAR",surfaceGravity:"9.8 M/S^2",surfaceTemperature:"15 C",information:{surface:"About 71% of the Earth's suface is covered by salt water oceans, and the remaining 30% is taken up by the seven continental landmasses. Earth's outer surface is also divided into several rigid segments, or tectonic plates, that migrate across the surface over periods of millions of years.",axialTilt:"Today, the Earth is tilted on its axis by 23.4, producing seasonal variations in climate and weather across the surface of the planet during the course of a year.",magField:"The Earth's magnetic field is generated within the molten outer core region of the planet and extends outwards to form the magnetosphere."}},Uae={introduction:"The Moon is Earth's only natural satellite. Next to the Sun, the Moon exerts the greatest influence on the Earth itself, most notably through its affect on Earth's tides.",encyclopedia:"0",equatorialDiameter:"3476 KM",mass:"7.3 x 10^22 KG",distance:"384010 KM (From Planet)",rotationPeriod:"27 DAYS",orbitPeriod:"27 DAYS",surfaceGravity:"1.62 M/S^2",surfaceTemperature:"-23 C",information:{mass:"The Moon is the largest natural satellite relative to the size of its primary having 27% percent the diameter and 60% the density of the Earth. The Moon is larger than Pluto.",origin:"The current prevailing hypothesis for the origin of the Moon is that it formed as a result of Mars-sized body colliding with the newly-formed proto-Earth. The material ejected from this impact accreted to form the Moon 4.53 billion years ago.",observation:"The Moon is the brightest object in the sky after the Sun, although its surface is actually dark, reflecting only 7 percent of the light falling on it."}},kae={introduction:"Mars is the fourth planet from the Sun and the second smallest planet in the Solar System. The reddish appearance of Mars' surface is caused by iron oxide (rust).",encyclopedia:"0",equatorialDiameter:"6792 KM",mass:"6.4 x 10^23 KG",distance:"230 KM (From Sun)",rotationPeriod:"1.03 DAY",orbitPeriod:"1.88 YEAR",surfaceGravity:"3.7 M/S^2",surfaceTemperature:"-63 C",information:{surface:"Mars has a dramatic landscape, with towering volcanoes and a great canyon system. Of all the planets in the Solar System, it has the highest mountain, Olympus Mons, and the largest canyon, Valles Marineris.",water:"There is strong evidence that the Martian atmosphere was once far denser than it is now, and that water once ran freely on its surface. There is also mounting evidence that much of this water remains locked away underground.",moons:"Mars has two small natural satellites, Phobos and Deimos, that orbit very close to the planet. These moons may be captured asteroids.",observation:"Mars can easily be seen from Earth with the naked eye, as can its reddish coloring. Its apparent magnitude is surpassed by the Sun, the Moon, Venus and Jupiter but it can briefly math Jupiter's brightness at certain points in its orbit."}},zae={introduction:"Jupiter is the largest planet of the Solar System, with a mass 2.5 greater than all of the rest of the planets combined but still only one-thousandth that of the Sun.",encyclopedia:"0",equatorialDiameter:"142984 KM",mass:"1.9 x 10^27 KG",distance:"780 M KM (From Sun)",rotationPeriod:"9H 55M",orbitPeriod:"11.9 YEARS",surfaceGravity:"25 M/S^2",surfaceTemperature:"-120 C",information:{starLike:"Jupiter is the planet most like the Sun in terms of its composition. Although Jupiter would still need to be about 75 times as massive to fuse hydrogen and become a star, it would only need to be 13 times as massive to burn deuterium and become a brown dwarf.",atmosphere:"Jupiter spins on its axis faster than any other planet. Because of this rotation, Jupiter's atmosphere is subject to high winds, which cause the atmosphere to form distinct bands of colour, like swirling vortices and gigantic anticyclonic storms.",moons:"Jupiter governs the largest number of moons of any planet, with the current official total being 79.",observation:"Jupiter is the fourth brightest object in our skies after the Sun, Moon and Venus. Because the orbit of Jupiter is outside the Earth's, the planet always appears nearly fully illuminated when viewed through Earth-based telescopes."}},Hae={introduction:"Saturn is the sixth planet from the Sun and the second largest planet in the Solar System. Until the invention of modern telescope, Saturn was regarded as the outermost of the known planets.",encyclopedia:"0",equatorialDiameter:"120536 KM",mass:"5.7 x 10^26 KG",distance:"9.58 AU (From Sun)",rotationPeriod:"10H 39M",orbitPeriod:"29 YEARS",surfaceGravity:"10.4 M/S^2",surfaceTemperature:"-125 C",information:{mass:"Although the second largest, Saturn is the least dense of all the planets in the Solar System, with only one-eighth the density of Earth (but nine times its diameter). It is also the only planet that is less dense than water.",ring:"While the other gas giants also have rings systems, Saturn's is larger and more visible than any other in the Solar System. The rings are composed of water ice crystals and a smaller amount of rock, ranging in sise from specks of dust to a few particles as large as mountains.",moons:"Saturn has at least 150 moons and moonlets. The precise figure is uncertain as it is difficult to draw a distinction between a large ring particle and a tiny moon. Some of Saturn's moons act as shepherd moons to confine rings and prevent them from spreading out.",observation:"Saturn appears to the naked eye in the night sky as a bright, yellowish point of light. Magnifying at least 30x resolves Saturn's rings."}},Gae={introduction:"Uranus is the third largest of the Solar System's gas giants. It is the coldest planet in the Solar System.",encyclopedia:"0",equatorialDiameter:"51118 KM",mass:"8.7 x 10^25 KG",distance:"19.2 AU (From Sun)",rotationPeriod:"17H 14M",orbitPeriod:"84 YEARS",surfaceGravity:"8.7 M/S^2",surfaceTemperature:"-210 C",information:{discovery:"Uranus was the first to be discovered by the use of the modern telescope, with its discovery credited to the English astronomer William Herschel in 1781.",axialTilt:"Uranus has an axial tilt of 97.77, meaning it effectively rolls around the Sun on its side compared to the other planets in the Solar System.",observation:"While in Opposition (from the Sun, relative to the Earth), Uranus becomes visible to the naked-eye. It would appear as a faint star under dark sky conditions."}},Vae={introduction:"Neptune, is the eight and officially farthest planet from the Sun. It is the smallest but also the most dense of gas giants. Neptune has a surface gravity that is only surpassed by Jupiter.",encyclopedia:"0",equatorialDiameter:"49528 KM",mass:"1.02 x 10^26 KG",distance:"30.1 AU (From Sun)",rotationPeriod:"16H 06M",orbitPeriod:"165 YEARS",surfaceGravity:"11.2 M/S^2",surfaceTemperature:"-200 C",information:{discovery:"Neptune was the first planet to be discovered purely on the basis of mathematical prediction rather than by direct observation. Since it's discovery in 1846, Neptune has completed only one orbit of the Sun."}},Wae={Sun:Oae,Mercury:Dae,Venus:Fae,Earth:Nae,Moon:Uae,Mars:kae,Jupiter:zae,Saturn:Hae,Uranus:Gae,Neptune:Vae},$ae={introduction:"Mặt trời, còn được gọi là 'Sol', là ngôi sao ở trung tâm Hệ Mặt trời. Khối lượng của Mặt trời chiếm khoảng 99,86% tổng khối lượng của Hệ Mặt trời.",encyclopedia:"0",equatorialDiameter:"1.39 triệu KM",mass:"1.99 x 10^30 KG",distance:"26,038 LY (Trung tâm thiên hà)",rotationPeriod:"25 NGÀY",orbitPeriod:"225 Triệu NĂM",surfaceGravity:"274 M/S^2",surfaceTemperature:"5778 K (5505 C)",information:{composition:"Khoảng 3/4 khối lượng của Mặt trời là hydro, phần còn lại chủ yếu là heli. Chỉ 1,69% Mặt trời (vẫn gấp 5628 lần khối lượng Trái đất) được tạo thành từ các nguyên tố nặng hơn như carbon, sắt, neon và oxy.",distance:"Khoảng cách trung bình của Mặt trời đến Trái đất là khoảng 149,6 triệu km (1 AU). Trung bình, ánh sáng từ Mặt trời mất khoảng 8 phút 19 giây để tới Trái đất.",galaxy:"Từng được cho là một ngôi sao tương đối tầm thường, Mặt trời hiện được coi là sáng hơn khoảng 85% số sao trong thiên hà Milky Way."}},jae={introduction:"Sao Thủy là hành tinh trong cùng và nhỏ nhất của Hệ Mặt Trời. Vì hầu như không có bầu khí quyển để giữ nhiệt nên bề mặt Sao Thủy có sự biến đổi nhiệt độ lớn nhất so với tất cả các hành tinh.",equatorialDiameter:"4,880 KM",mass:"3.285 x 10^23 KG",distance:"77 Triệu  KM (Perihelion), 206 Triệu  KM (Aphelion)",rotationPeriod:"59 NGÀY",orbitPeriod:"88 NGÀY",surfaceGravity:"3.7 M/S^2",surfaceTemperature:"430°C (Ngày), -180°C (Đêm)",information:{observation:"Sao Thủy xuất hiện như một ngôi sao buổi sáng hoặc buổi tối khi nhìn từ Trái đất, nhưng do nó ở gần Mặt trời nên rất khó nhìn thấy. Tuy nhiên, sao Thủy có thể được quan sát ít nhất hai lần một năm: vào mùa xuân lúc hoàng hôn và vào mùa thu trước bình minh."}},Xae={introduction:"Mặc dù sao Kim có kích thước và cấu trúc bên trong rất giống Trái đất, nhưng bề mặt lưu hóa và bầu khí quyển cực nóng và dày đặc của nó khiến nó trở thành một trong những nơi khắc nghiệt nhất trong Hệ Mặt trời.",equatorialDiameter:"12,104 KM",mass:"4.867 x 10^24 KG",distance:"108 Triệu  KM (Perihelion), 109 Triệu  KM (Aphelion)",rotationPeriod:"243 NGÀY",orbitPeriod:"225 NGÀY",surfaceGravity:"8.87 M/S^2",surfaceTemperature:"462°C",information:{atmosphere:"Những đám mây dày chứa axit sulfuric và bụi phản chiếu phần lớn ánh sáng của Mặt trời trở lại không gian, trong khi carbon dioxide giữ nhiệt của Mặt trời bên trong khí quyển, gây ra hiệu ứng nhà kính lan rộng.",observation:"Sao Kim là một trong những vật thể sáng nhất trên bầu trời đêm của chúng ta chỉ đứng sau Mặt trăng. Nó xuất hiện dưới dạng sao buổi tối hoặc sao mai."}},Kae={introduction:"Thế giới quê hương của chúng ta là nơi dày đặc nhất trong số tám hành tinh trong Hệ Mặt trời. Nó cũng là hành tinh lớn nhất trong bốn hành tinh đất đá.",encyclopedia:"0",equatorialDiameter:"12.756 KM",mass:"6 x 10^24 KG",distance:"150 Triệu KM (Từ Mặt trời)",rotationPeriod:"23H 56M",orbitPeriod:"1 NĂM",surfaceGravity:"9.8 M/S^2",surfaceTemperature:"15 C",information:{surface:"Khoảng 71% bề mặt Trái đất được bao phủ bởi các đại dương nước mặn và 30% còn lại được chiếm giữ bởi bảy vùng đất lục địa. Bề mặt bên ngoài của Trái đất cũng được chia thành nhiều đoạn cứng hoặc các mảng kiến tạo di chuyển trên bề mặt trong thời gian hàng triệu năm.",axialTilt:"Ngày nay, Trái đất nghiêng trên trục của nó một góc 23,4, tạo ra những biến đổi theo mùa về khí hậu và thời tiết trên bề mặt hành tinh trong suốt một năm.",magField:"Từ trường Trái đất được tạo ra trong vùng lõi ngoài nóng chảy của hành tinh và mở rộng ra bên ngoài để tạo thành từ quyển."}},Jae={introduction:"Mặt trăng là vệ tinh tự nhiên duy nhất của Trái đất. Bên cạnh Mặt trời, Mặt trăng có ảnh hưởng lớn nhất đến chính Trái đất, đáng chú ý nhất là ảnh hưởng của nó đến thủy triều trên Trái đất.",encyclopedia:"0",equatorialDiameter:"3.476 KM",mass:"7.3 x 10^22 KG",distance:"384.010 KM (Từ Trái Đất)",rotationPeriod:"27 NGÀY",orbitPeriod:"27 NGÀY",surfaceGravity:"1.62 M/S^2",surfaceTemperature:"-23 C",information:{mass:"Mặt trăng là vệ tinh tự nhiên lớn nhất so với kích thước của vệ tinh chính có đường kính bằng 27% và mật độ bằng 60% Trái đất. Mặt trăng lớn hơn Sao Diêm Vương.",origin:"Giả thuyết phổ biến hiện nay về nguồn gốc của Mặt trăng là nó được hình thành do vật thể có kích thước bằng sao Hỏa va chạm với Trái đất nguyên sinh mới hình thành. Vật chất thoát ra từ vụ va chạm này tích tụ để hình thành Mặt trăng cách đây 4,53 tỷ năm.",observation:"Mặt trăng là vật thể sáng nhất trên bầu trời sau Mặt trời, mặc dù bề mặt của nó thực sự tối, chỉ phản chiếu 7% ánh sáng chiếu vào nó."}},Yae={introduction:"Sao Hỏa là hành tinh thứ tư tính từ Mặt trời và là hành tinh nhỏ thứ hai trong Hệ Mặt trời. Bề mặt sao Hỏa có màu đỏ là do oxit sắt (rỉ sét).",encyclopedia:"0",equatorialDiameter:"6.792 KM",mass:"6.4 x 10^23 KG",distance:"230 KM (Từ Mặt trời)",rotationPeriod:"1.03 NGÀY",orbitPeriod:"1.88 NĂM",surfaceGravity:"3.7 M/S^2",surfaceTemperature:"-63 C",information:{surface:"Sao Hỏa có phong cảnh ấn tượng, với những núi lửa cao chót vót và hệ thống hẻm núi tuyệt vời. Trong số tất cả các hành tinh trong Hệ Mặt trời, nó có ngọn núi cao nhất, Olympus Mons và hẻm núi lớn nhất, Valles Marineris.",water:"Có bằng chứng mạnh mẽ cho thấy bầu khí quyển sao Hỏa đã từng dày đặc hơn bây giờ rất nhiều và nước từng chảy tự do trên bề mặt của nó. Ngoài ra còn có bằng chứng cho thấy phần lớn lượng nước này vẫn bị giữ lại dưới lòng đất.",moons:"Sao Hỏa có hai vệ tinh tự nhiên nhỏ là Phobos và Deimos, có quỹ đạo rất gần với hành tinh này. Những vệ tinh này có thể là những tiểu hành tinh bị bắt giữ.",observation:"Sao Hỏa có thể dễ dàng được nhìn thấy từ Trái đất bằng mắt thường, cũng như màu đỏ của nó. Độ lớn biểu kiến của nó bị Mặt trời, Mặt trăng, Sao Kim và Sao Mộc vượt qua nhưng có thể tính toán ngắn gọn độ sáng của Sao Mộc tại một số điểm nhất định trên quỹ đạo của nó."}},qae={introduction:"Sao Mộc là hành tinh lớn nhất trong Hệ Mặt trời, với khối lượng lớn hơn 2,5 lần so với tất cả các hành tinh còn lại cộng lại nhưng vẫn chỉ bằng một phần nghìn khối lượng của Mặt trời.",encyclopedia:"0",equatorialDiameter:"142.984 KM",mass:"1.9 x 10^27 KG",distance:"780 Triệu KM (Từ Mặt trời)",rotationPeriod:"9H 55M",orbitPeriod:"11.9 NĂM",surfaceGravity:"25 M/S^2",surfaceTemperature:"-120 C",information:{starLike:"Sao Mộc là hành tinh giống Mặt trời nhất về thành phần cấu tạo của nó. Mặc dù Sao Mộc vẫn cần khối lượng gấp khoảng 75 lần để tổng hợp hydro và trở thành một ngôi sao, nhưng nó chỉ cần khối lượng gấp 13 lần để đốt cháy deuterium và trở thành sao lùn nâu.",atmosphere:"Sao Mộc quay quanh trục của nó nhanh hơn bất kỳ hành tinh nào khác. Do sự quay này, bầu khí quyển của Sao Mộc chịu ảnh hưởng của gió lớn, khiến bầu khí quyển hình thành các dải màu riêng biệt, giống như các lốc xoáy và các cơn bão nghịch xoáy khổng lồ.",moons:"Sao Mộc cai quản số lượng vệ tinh lớn nhất so với bất kỳ hành tinh nào, với tổng số chính thức hiện tại là 79.",observation:"Sao Mộc là vật thể sáng thứ tư trên bầu trời của chúng ta sau Mặt trời, Mặt trăng và Sao Kim. Do quỹ đạo của Sao Mộc nằm ngoài Trái đất nên hành tinh này luôn được chiếu sáng gần như hoàn toàn khi nhìn qua kính viễn vọng trên Trái đất."}},Qae={introduction:"Sao Thổ là hành tinh thứ sáu tính từ Mặt trời và là hành tinh lớn thứ hai trong Hệ Mặt trời. Cho đến khi phát minh ra kính thiên văn hiện đại, Sao Thổ được coi là hành tinh ngoài cùng của các hành tinh được biết đến.",encyclopedia:"0",equatorialDiameter:"120.536 KM",mass:"5.7 x 10^26 KG",distance:"9.58 AU (Từ Mặt trời)",rotationPeriod:"10H 39M",orbitPeriod:"29 NĂM",surfaceGravity:"10.4 M/S^2",surfaceTemperature:"-125 C",information:{mass:"Mặc dù lớn thứ hai, Sao Thổ có mật độ thấp nhất trong số tất cả các hành tinh trong Hệ Mặt trời, với mật độ chỉ bằng 1/8 Trái đất (nhưng gấp 9 lần đường kính của nó). Nó cũng là hành tinh duy nhất có mật độ thấp hơn nước.",ring:"Trong khi các hành tinh khí khổng lồ khác cũng có hệ thống vành đai, thì vành đai của Sao Thổ lớn hơn và dễ nhìn thấy hơn bất kỳ vành đai nào khác trong Hệ Mặt trời. Các vòng bao gồm các tinh thể băng nước và một lượng đá nhỏ hơn, có kích thước khác nhau, từ những hạt bụi đến một vài hạt lớn như những ngọn núi.",moons:"Sao Thổ có ít nhất 150 vệ tinh và vệ tinh nhỏ. Con số chính xác là không chắc chắn vì rất khó để phân biệt giữa một vành đai lớn và một vệ tinh nhỏ. Một số vệ tinh của Sao Thổ đóng vai trò là vệ tinh kiểm soát để giam giữ các vành đai và ngăn chúng lan rộng ra.",observation:"Sao Thổ xuất hiện bằng mắt thường trên bầu trời đêm dưới dạng một điểm sáng màu vàng. Phóng đại ít nhất 30 lần sẽ thấy được các vành đai của Sao Thổ."}},Zae={introduction:"Sao Thiên Vương là hành tinh khí khổng lồ lớn thứ ba trong Hệ Mặt trời. Đây là hành tinh lạnh nhất trong Hệ Mặt trời.",encyclopedia:"0",equatorialDiameter:"51.118 KM",mass:"8.7 x 10^25 KG",distance:"19.2 AU (Từ Mặt trời)",rotationPeriod:"17H 14M",orbitPeriod:"84 NĂM",surfaceGravity:"8.7 M/S^2",surfaceTemperature:"-210 C",information:{discovery:"Sao Thiên Vương là hành tinh đầu tiên được phát hiện bằng kính thiên văn hiện đại, việc phát hiện ra nó được công nhận là của nhà thiên văn học người Anh William Herschel vào năm 1781.",axialTilt:"Sao Thiên Vương có một độ nghiêng trục là 97,77 độ, có nghĩa là nó quay xung quanh Mặt Trời nằm ngang so với các hành tinh khác trong Hệ Mặt Trời.",observation:"Khi ở vị trí đối lập (từ Mặt trời, so với Trái đất), Sao Thiên Vương có thể nhìn thấy được bằng mắt thường. Nó sẽ xuất hiện như một ngôi sao mờ nhạt trong điều kiện bầu trời tối."}},ele={introduction:"Sao Hải Vương, là hành tinh thứ tám và chính thức xa Mặt trời nhất. Nó là hành tinh khí nhỏ nhất nhưng cũng đậm đặc nhất. Sao Hải Vương có lực hấp dẫn bề mặt chỉ kém Sao Mộc.",encyclopedia:"0",equatorialDiameter:"49.528 KM",mass:"1.02 x 10^26 KG",distance:"30.1 AU (Từ Mặt trời)",rotationPeriod:"16H 06M",orbitPeriod:"165 NĂM",surfaceGravity:"11.2 M/S^2",surfaceTemperature:"-200 C",information:{discovery:"Sao Hải Vương là hành tinh đầu tiên được phát hiện hoàn toàn dựa trên dự đoán toán học chứ không phải bằng quan sát trực tiếp. Kể từ khi được phát hiện vào năm 1846, Sao Hải Vương chỉ hoàn thành một quỹ đạo quanh Mặt trời."}},tle={Sun:$ae,Mercury:jae,Venus:Xae,Earth:Kae,Moon:Jae,Mars:Yae,Jupiter:qae,Saturn:Qae,Uranus:Zae,Neptune:ele},nle=()=>{const{language:n,handleSpeedPlanet:e}=R.useContext(Do),{selectedPlanet:t,selectPlanet:r,showStructure:i,structurePlanet:o}=L0(),s=n=="en"?Wae:tle,a=t?s[t]:null,l=()=>{r(null),e(1)},c=()=>{o(!i)};return a?Le.jsxs("div",{className:"planetDrawer",children:[Le.jsxs("div",{className:"planetDrawer_title",style:{display:"flex"},children:[Le.jsx("h1",{children:Tn.get(`planetName.${t}`)}),Le.jsx(Am,{onClick:l,children:Le.jsx(bk,{})})]}),Le.jsx(ZE,{style:{backgroundColor:"gray"}}),Le.jsxs("ul",{children:[Le.jsx("li",{className:"planetDrawer_subtitle",children:Tn.get("title.introduction")}),Le.jsx("p",{children:a.introduction}),Le.jsx("li",{className:"planetDrawer_subtitle",children:Tn.get("title.encyclopedia")}),Le.jsxs("ul",{children:[Le.jsxs("li",{children:[Tn.get("title.equatorialDiameter"),":"," ",a.equatorialDiameter]}),Le.jsxs("li",{children:[Tn.get("title.mass"),": ",a.mass]}),Le.jsxs("li",{children:[Tn.get("title.distance"),": ",a.distance]}),Le.jsxs("li",{children:[Tn.get("title.rotationPeriod"),": ",a.rotationPeriod]}),Le.jsxs("li",{children:[Tn.get("title.orbitPeriod"),": ",a.orbitPeriod]}),Le.jsxs("li",{children:[Tn.get("title.surfaceGravity"),": ",a.surfaceGravity]}),Le.jsxs("li",{children:[Tn.get("title.surfaceTemperature"),":"," ",a.surfaceTemperature]})]}),Le.jsx("li",{className:"planetDrawer_subtitle",children:Tn.get("title.anotherInformation")}),Le.jsx("ul",{children:Object.keys(a.information).map(f=>Le.jsxs("li",{children:[Le.jsxs("span",{children:[Tn.get(`subtitle.${f}`),":"]})," ",a.information[f]]},f))})]}),Le.jsx(ZE,{style:{backgroundColor:"gray"}}),t=="Earth"&&Le.jsx("div",{className:"Drawer__Btn",children:Le.jsx(Am,{onClick:c,children:Tn.get("general.structure")})})]}):null},rle=()=>{const{planetSpeed:n,handleSpeedPlanet:e}=R.useContext(Do),[t,r]=R.useState(n),[i,o]=R.useState(n);R.useEffect(()=>{const l=setTimeout(()=>{e(i)},500);return()=>clearTimeout(l)},[i]);const s=l=>{r(l),o(l)},a=()=>{const l=n!==0?0:1;r(l),o(l),e(l)};return Le.jsxs("div",{className:"control_speed",children:[Le.jsx(Am,{onClick:()=>a(),children:n!==0?Le.jsx(use,{}):Le.jsx(ise,{})}),Le.jsx(tse,{max:5,min:-5,step:.001,value:t,defaultValue:t,onChange:l=>s(l)}),Le.jsx("h1",{children:n!==0?`x${n.toFixed(1)}`:n})]})},ile=()=>(eU(),Le.jsx("div",{className:"loading-overlay",children:Le.jsx("div",{className:"loading-border",align:"center",gap:"middle",children:Le.jsx(woe,{gap:"small",children:Le.jsx(gz,{indicator:Le.jsx(Pk,{style:{fontSize:50},spin:!0})})})})}));function ole(){L0();const[n,e]=R.useState(!1),{progress:t}=eU(),r=t<100,i=s=>{e(s)},o=s=>{e(s)};return Le.jsxs(sae,{children:[Le.jsx(Am,{className:"setting",onClick:()=>o(!0),children:Le.jsx(ase,{style:{fontSize:"24px"}})}),Le.jsxs(fz,{title:Tn.get("general.settings"),open:n,onClose:()=>i(!1),placement:"right",style:{background:"#15151e",color:"white"},children:[Le.jsx(Bae,{}),Le.jsx(ZE,{style:{backgroundColor:"gray"}}),Le.jsx(Lae,{})]}),Le.jsxs(aae,{children:[Le.jsxs(SY,{shadows:!0,camera:{fov:55,near:.1,far:1e3,position:[16,8.5,19.5]},children:[Le.jsx("color",{attach:"background",args:["#15151e"]}),Le.jsx(dq,{}),Le.jsx(Rae,{})]}),r&&Le.jsx(ile,{}),Le.jsx(nle,{}),!r&&Le.jsx(rle,{})]})]})}Pw.createRoot(document.getElementById("root")).render(Le.jsx(Xt.StrictMode,{children:Le.jsx(ole,{})}));
